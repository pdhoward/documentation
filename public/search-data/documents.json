[
  {
    "slug": "/markdown/cards",
    "title": "Cards",
    "description": "Explore and implement various card styles, including small, large and image cards.",
    "content": "This section introduces the different card styles available in the system, from compact small cards to visually rich image cards. Each example is paired with JSX code snippets, providing you with a practical guide to incorporate these components seamlessly into your project.\n\n## Small Card\n\n```jsx\n<CardGrid>\r\n  <Card\r\n    title=\"Instructions\"\r\n    href=\"/docs/basic-setup/installation\"\r\n    icon=\"alignJustify\"\r\n    variant=\"small\"\r\n    description=\"test description\"\r\n  />\r\n  <Card\r\n    title=\"Setup\"\r\n    href=\"/docs/basic-setup/setup\"\r\n    icon=\"alignJustify\"\r\n    variant=\"small\"\r\n  />\r\n  <Card\r\n    title=\"Rubix Studios\"\r\n    href=\"https://rubixstudios.com.au\"\r\n    icon=\"alignJustify\"\r\n    external={true}\r\n    variant=\"small\"\r\n  />\r\n</CardGrid>\n```\n\n## Large Card\n\n```jsx\n<CardGrid>\r\n  <Card\r\n    subtitle=\"Instructions\"\r\n    title=\"Installation\"\r\n    description=\"Get started with Documents using our quick start installation guide to get your project started.\"\r\n    href=\"/docs/basic-setup/installation\"\r\n  />\r\n  <Card\r\n    subtitle=\"Setup\"\r\n    title=\"Site Settings\"\r\n    description=\"Setting up your Documents projects layout, links and search engine optimisation.\"\r\n    href=\"/docs/basic-setup/setup\"\r\n  />\r\n  <Card\r\n    subtitle=\"Support\"\r\n    title=\"Rubix Studios\"\r\n    description=\"Australia's leading branding, marketing and web development company.\"\r\n    href=\"https://rubixstudios.com.au\"\r\n    external={true}\r\n  />\r\n</CardGrid>\n```\n\n## Image Card\n\n```jsx\n<CardGrid>\r\n  <Card\r\n    title=\"Instructions\"\r\n    href=\"/docs/introduction/installation\"\r\n    image=\"/images/og-image.png\"\r\n    variant=\"image\"\r\n  />\r\n  <Card\r\n    title=\"Setup\"\r\n    href=\"/docs/introduction/setup\"\r\n    image=\"/images/og-image.png\"\r\n    variant=\"image\"\r\n  />\r\n  <Card\r\n    title=\"Rubix Studios\"\r\n    href=\"https://www.rubixstudios.com.au\"\r\n    image=\"/images/og-image.png\"\r\n    external={true}\r\n    variant=\"image\"\r\n  />\r\n</CardGrid>\n```\n",
    "_searchMeta": {
      "cleanContent": "this section introduces the different card styles available in the system from compact small cards to visually rich image cards each example is paired with jsx code snippets providing you with a practical guide to incorporate these components seamlessly into your project small card large card image card",
      "headings": [
        "Small Card",
        "Large Card",
        "Image Card"
      ],
      "keywords": [
        "Small Card",
        "Large Card",
        "Image Card",
        "jsx\n<CardGrid>\r\n  <Card\r\n    title=\"Instructions\"\r\n    href=\"/docs/basic-setup/installation\"\r\n    icon=\"alignJustify\"\r\n    variant=\"small\"\r\n    description=\"test description\"\r\n  />\r\n  <Card\r\n    title=\"Setup\"\r\n    href=\"/docs/basic-setup/setup\"\r\n    icon=\"alignJustify\"\r\n    variant=\"small\"\r\n  />\r\n  <Card\r\n    title=\"Rubix Studios\"\r\n    href=\"https://rubixstudios.com.au\"\r\n    icon=\"alignJustify\"\r\n    external={true}\r\n    variant=\"small\"\r\n  />\r\n</CardGrid>",
        "## Large Card",
        "jsx\n<CardGrid>\r\n  <Card\r\n    subtitle=\"Instructions\"\r\n    title=\"Installation\"\r\n    description=\"Get started with Documents using our quick start installation guide to get your project started.\"\r\n    href=\"/docs/basic-setup/installation\"\r\n  />\r\n  <Card\r\n    subtitle=\"Setup\"\r\n    title=\"Site Settings\"\r\n    description=\"Setting up your Documents projects layout, links and search engine optimisation.\"\r\n    href=\"/docs/basic-setup/setup\"\r\n  />\r\n  <Card\r\n    subtitle=\"Support\"\r\n    title=\"Rubix Studios\"\r\n    description=\"Australia's leading branding, marketing and web development company.\"\r\n    href=\"https://rubixstudios.com.au\"\r\n    external={true}\r\n  />\r\n</CardGrid>",
        "## Image Card",
        "jsx\n<CardGrid>\r\n  <Card\r\n    title=\"Instructions\"\r\n    href=\"/docs/introduction/installation\"\r\n    image=\"/images/og-image.png\"\r\n    variant=\"image\"\r\n  />\r\n  <Card\r\n    title=\"Setup\"\r\n    href=\"/docs/introduction/setup\"\r\n    image=\"/images/og-image.png\"\r\n    variant=\"image\"\r\n  />\r\n  <Card\r\n    title=\"Rubix Studios\"\r\n    href=\"https://www.rubixstudios.com.au\"\r\n    image=\"/images/og-image.png\"\r\n    external={true}\r\n    variant=\"image\"\r\n  />\r\n</CardGrid>"
      ]
    }
  },
  {
    "slug": "/markdown/diagrams",
    "title": "Diagrams",
    "description": "Add various diagram types, including flowcharts, decision trees and entity-relationship diagrams.",
    "content": "Diagrams are powerful tools for visualizing processes, relationships, and decisions. This section showcases different types of diagrams created using **Mermaid**, complete with examples and reusable code snippets to integrate into your projects.\n\n## Flowchart\n\nA flowchart represents a sequence of steps or processes in a visual format. Use this diagram to map workflows, decision-making processes, or operational flows.\n\n```jsx\n<Mermaid\r\n  chart={\\`\r\n    graph TD;\r\n    Start --> Task1;\r\n    Task1 --> Task2;\r\n    Task2 --> End;\r\n  \\`}\r\n/>\n```\n\n## Decision Tree\n\nDecision trees illustrate choices and possible outcomes, making them ideal for decision-making workflows or processes involving multiple paths.\n\n```jsx\n<Mermaid\r\n  chart={\\`\r\n    graph TD;\r\n    A[Start] --> B{Is it raining?};\r\n    B -->|Yes| C[Take an umbrella];\r\n    B -->|No| D[Enjoy the weather];\r\n    C --> E[Go outside];\r\n    D --> E;\r\n  \\`}\r\n/>\n```\n\n## Entity-Relationship Diagram\n\nEntity-relationship diagrams (ERDs) are used to model relationships between entities in a system. They are widely used in database design and system architecture planning.\n\n```jsx\n<Mermaid\r\n  chart={\\`\r\n    erDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    PRODUCT ||--o{ LINE-ITEM : \"included in\"\r\n    CUSTOMER {\r\n        string name\r\n        string email\r\n    }\r\n    ORDER {\r\n        int orderNumber\r\n        date orderDate\r\n    }\r\n    LINE-ITEM {\r\n        int quantity\r\n        float price\r\n    }\r\n    PRODUCT {\r\n        int productId\r\n        string name\r\n        float price\r\n    }\r\n  \\`}\r\n/>\n```\n\nEach of these diagrams serves a specific purpose and Mermaid makes it easy to generate them dynamically. Feel free to experiment with the provided code snippets and adapt them to your needs.\n",
    "_searchMeta": {
      "cleanContent": "diagrams are powerful tools for visualizing processes relationships and decisions this section showcases different types of diagrams created using mermaid complete with examples and reusable code snippets to integrate into your projects flowchart a flowchart represents a sequence of steps or processes in a visual format use this diagram to map workflows decision-making processes or operational flows decision tree decision trees illustrate choices and possible outcomes making them ideal for decision-making workflows or processes involving multiple paths entity-relationship diagram entity-relationship diagrams erds are used to model relationships between entities in a system they are widely used in database design and system architecture planning each of these diagrams serves a specific purpose and mermaid makes it easy to generate them dynamically feel free to experiment with the provided code snippets and adapt them to your needs",
      "headings": [
        "Flowchart",
        "Decision Tree",
        "Entity-Relationship Diagram"
      ],
      "keywords": [
        "Flowchart",
        "Decision Tree",
        "Entity-Relationship Diagram",
        "Mermaid",
        "jsx\n<Mermaid\r\n  chart={\\",
        "}\r\n/>",
        "## Decision Tree\n\nDecision trees illustrate choices and possible outcomes, making them ideal for decision-making workflows or processes involving multiple paths.",
        "## Entity-Relationship Diagram\n\nEntity-relationship diagrams (ERDs) are used to model relationships between entities in a system. They are widely used in database design and system architecture planning."
      ]
    }
  },
  {
    "slug": "/markdown/filetree",
    "title": "Filetree",
    "description": "This section provides an overview of file structures and their implementation using the FileTree component.",
    "content": "This section demonstrates the structure of a file tree using the `FileTree` component. Below is an example showcasing folders and files organized hierarchically for a project setup.\n\n## How to Use\n\nIntegrate the `FileTree` component into your project to visually represent file and folder structures. This is particularly useful for documentation, tutorials, or providing users with an overview of your project's architecture.\n\n### JSX Code Example\n\nHere is how you can define the file tree structure in for use in your project:\n\n```jsx\n<FileTree>\r\n  <Folder name=\"src\" label=\"Source Code\">\r\n    <File name=\"index.tsx\" label=\"Index File\" />\r\n    <Folder name=\"components\" label=\"Components\">\r\n      <File name=\"button.tsx\" label=\"Button Component\" />\r\n      <File name=\"input.tsx\" label=\"Input Component\" />\r\n    </Folder>\r\n    <Folder name=\"pages\" label=\"Pages\">\r\n      <File name=\"home.tsx\" label=\"Home Page\" />\r\n      <File name=\"about.tsx\" label=\"About Page\" />\r\n    </Folder>\r\n  </Folder>\r\n</FileTree>\n```\n\nUse this code as a template to set up your own file tree structure and customize it as needed.\n",
    "_searchMeta": {
      "cleanContent": "this section demonstrates the structure of a file tree using the filetree component below is an example showcasing folders and files organized hierarchically for a project setup how to use integrate the filetree component into your project to visually represent file and folder structures this is particularly useful for documentation tutorials or providing users with an overview of your project s architecture jsx code example here is how you can define the file tree structure in for use in your project: use this code as a template to set up your own file tree structure and customize it as needed",
      "headings": [
        "How to Use"
      ],
      "keywords": [
        "How to Use",
        "FileTree",
        "jsx\n<FileTree>\r\n  <Folder name=\"src\" label=\"Source Code\">\r\n    <File name=\"index.tsx\" label=\"Index File\" />\r\n    <Folder name=\"components\" label=\"Components\">\r\n      <File name=\"button.tsx\" label=\"Button Component\" />\r\n      <File name=\"input.tsx\" label=\"Input Component\" />\r\n    </Folder>\r\n    <Folder name=\"pages\" label=\"Pages\">\r\n      <File name=\"home.tsx\" label=\"Home Page\" />\r\n      <File name=\"about.tsx\" label=\"About Page\" />\r\n    </Folder>\r\n  </Folder>\r\n</FileTree>"
      ]
    }
  },
  {
    "slug": "/markdown",
    "title": "Introduction",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n## Sample Document with Mermaid\n\nHere is a Mermaid diagram:\n\nThis diagram should render automatically without any extra imports.\n\n## Getting Started\n\nTo begin using the Documentation Template, follow these simple steps:\n\n* Start by cloning the repository to your local machine.\n\nLorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium. Optio, necessitatibus sequi. Veritatis, aspernatur? Possimus quis repellat eum vitae eveniet.\n\n## Blockquotes\n\nBlockquotes are useful for emphasizing key points or quoting external sources:\n\n> \"Documentation is a love letter that you write to your future self.\" - Damian Conway\n\nFeel free to use blockquotes to highlight important information or quotes relevant to your documentation.\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n\n## Conclusion\n\nThank you for choosing the Documentation Template for your project. Whether you're documenting software, APIs, or processes, we're here to support you in creating clear and effective documentation. Happy documenting!\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text sample document with mermaid here is a mermaid diagram: this diagram should render automatically without any extra imports getting started to begin using the documentation template follow these simple steps: start by cloning the repository to your local machine lorem ipsum dolor sit amet consectetur adipisicing elit reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium optio necessitatibus sequi veritatis aspernatur possimus quis repellat eum vitae eveniet blockquotes blockquotes are useful for emphasizing key points or quoting external sources: documentation is a love letter that you write to your future self - damian conway feel free to use blockquotes to highlight important information or quotes relevant to your documentation code examples with switch here a custom tab component from shadcn ui is used conclusion thank you for choosing the documentation template for your project whether you re documenting software apis or processes we re here to support you in creating clear and effective documentation happy documenting",
      "headings": [
        "Sample Document with Mermaid",
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ],
      "keywords": [
        "Sample Document with Mermaid",
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ]
    }
  },
  {
    "slug": "/markdown/lists",
    "title": "Lists",
    "description": "This section provides an overview of creating and using lists in the Documents boilerplate.",
    "content": "Learn how to create and render different types of lists in the Documents boilerplate. Examples include checklists, ordered lists, unordered lists and nested lists.\n\n## Checklist\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n```jsx\n- [x] Write the press release\r\n- [ ] Update the website\r\n- [ ] Contact the media\n```\n\n## Simple List\n\n* Item 1\n* Item 2\n* Item 3\n\n```jsx\n- Item 1\r\n- Item 2\r\n- Item 3\n```\n\n## Number List\n\n1. Research\n2. Draft the content\n3. Review and edit\n4. Publish\n\n```jsx\n1. Research\r\n2. Draft the content\r\n3. Review and edit\r\n4. Publish\n```\n\n## Nested List\n\n* Main Category 1\n  * Sub Item 1.1\n  * Sub Item 1.2\n* Main Category 2\n  * Sub Item 2.1\n  * Sub Item 2.2\n\n```jsx\n- Main Category 1\r\n  - Sub Item 1.1\r\n  - Sub Item 1.2\r\n- Main Category 2\r\n  - Sub Item 2.1\r\n  - Sub Item 2.2\n```\n\nUse these examples as a foundation to create and customize lists that fit your project's needs.\n",
    "_searchMeta": {
      "cleanContent": "learn how to create and render different types of lists in the documents boilerplate examples include checklists ordered lists unordered lists and nested lists checklist x write the press release update the website contact the media simple list item 1 item 2 item 3 number list research draft the content review and edit publish nested list main category 1 sub item 1 1 sub item 1 2 main category 2 sub item 2 1 sub item 2 2 use these examples as a foundation to create and customize lists that fit your project s needs",
      "headings": [
        "Checklist",
        "Simple List",
        "Number List",
        "Nested List"
      ],
      "keywords": [
        "Checklist",
        "Simple List",
        "Number List",
        "Nested List",
        "jsx\n- [x] Write the press release\r\n- [ ] Update the website\r\n- [ ] Contact the media",
        "## Simple List\n\n* Item 1\n* Item 2\n* Item 3",
        "jsx\n- Item 1\r\n- Item 2\r\n- Item 3",
        "## Number List\n\n1. Research\n2. Draft the content\n3. Review and edit\n4. Publish",
        "jsx\n1. Research\r\n2. Draft the content\r\n3. Review and edit\r\n4. Publish",
        "## Nested List\n\n* Main Category 1\n  * Sub Item 1.1\n  * Sub Item 1.2\n* Main Category 2\n  * Sub Item 2.1\n  * Sub Item 2.2",
        "jsx\n- Main Category 1\r\n  - Sub Item 1.1\r\n  - Sub Item 1.2\r\n- Main Category 2\r\n  - Sub Item 2.1\r\n  - Sub Item 2.2"
      ]
    }
  },
  {
    "slug": "/markdown/maths",
    "title": "Maths",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n## Basic Algebra\n\nThe area of a circle ($$A$$) can be calculated using the radius ($$r$$) as follows:\n\n```math\nA = \\pi r^2\n```\n\n## Quadratic Formula\n\nThe quadratic formula for solving an equation of the form $$ax^2 + bx + c = 0$$ is:\n\n```math\nx = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\n```\n\n## Newton's Second Law of Motion\n\nNewton's second law of motion states that force ($$F$$) is the product of mass ($$m$$) and acceleration ($$a$$):\n\n```math\nF = ma\n```\n\n## Pythagorean Theorem\n\nThe Pythagorean theorem relates the lengths of the sides of a right triangle:\n\n```math\na^2 + b^2 = c^2\n```\n\n## Einstein's Mass-Energy Equivalence\n\nEinstein's famous equation relates energy ($$E$$), mass ($$m$$), and the speed of light ($$c$$):\n\n```math\nE = mc^2\n```\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam basic algebra the area of a circle a can be calculated using the radius r as follows: quadratic formula the quadratic formula for solving an equation of the form ax 2 bx c 0 is: newton s second law of motion newton s second law of motion states that force f is the product of mass m and acceleration a : pythagorean theorem the pythagorean theorem relates the lengths of the sides of a right triangle: einstein s mass-energy equivalence einstein s famous equation relates energy e mass m and the speed of light c :",
      "headings": [
        "Basic Algebra",
        "Quadratic Formula",
        "Newton's Second Law of Motion",
        "Pythagorean Theorem",
        "Einstein's Mass-Energy Equivalence"
      ],
      "keywords": [
        "Basic Algebra",
        "Quadratic Formula",
        "Newton's Second Law of Motion",
        "Pythagorean Theorem",
        "Einstein's Mass-Energy Equivalence",
        "math\nA = \\pi r^2",
        "## Quadratic Formula\n\nThe quadratic formula for solving an equation of the form $$ax^2 + bx + c = 0$$ is:",
        "math\nx = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}",
        "## Newton's Second Law of Motion\n\nNewton's second law of motion states that force ($$F$$) is the product of mass ($$m$$) and acceleration ($$a$$):",
        "math\nF = ma",
        "## Pythagorean Theorem\n\nThe Pythagorean theorem relates the lengths of the sides of a right triangle:",
        "math\na^2 + b^2 = c^2",
        "## Einstein's Mass-Energy Equivalence\n\nEinstein's famous equation relates energy ($$E$$), mass ($$m$$), and the speed of light ($$c$$):",
        "math\nE = mc^2"
      ]
    }
  },
  {
    "slug": "/markdown/notes",
    "title": "Notes",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n## Standard Note\n\n## Success Note\n\n## Warning Note\n\n## Danger Note\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam standard note success note warning note danger note",
      "headings": [
        "Standard Note",
        "Success Note",
        "Warning Note",
        "Danger Note"
      ],
      "keywords": [
        "Standard Note",
        "Success Note",
        "Warning Note",
        "Danger Note"
      ]
    }
  },
  {
    "slug": "/markdown/steps",
    "title": "Steps",
    "description": "This section provides an overview of Introduction.",
    "content": "The `<Step>` and `<StepItem>` components allow you to create structured step-by-step guides in your documentation. These components are particularly useful when you want to break down a process or tutorial into easy-to-follow stages.\n\n## Steps\n\nTo create a step-by-step guide in your MDX, you can use the following structure:\n",
    "_searchMeta": {
      "cleanContent": "the step and stepitem components allow you to create structured step-by-step guides in your documentation these components are particularly useful when you want to break down a process or tutorial into easy-to-follow stages steps to create a step-by-step guide in your mdx you can use the following structure:",
      "headings": [
        "Steps"
      ],
      "keywords": [
        "Steps",
        "<Step>",
        "<StepItem>"
      ]
    }
  },
  {
    "slug": "/markdown/table",
    "title": "Table",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n| Feature       | Documentation Link |                    Notes |\r\n| :------------ | :----------------: | -----------------------: |\r\n| **Feature A** |     [Docs](#)      | For more info click here |\r\n| **Feature B** |     [Guide](#)     |  See the full guide here |\r\n| **Feature C** |     [Setup](#)     |       Setup instructions |\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text feature documentation link notes :------------ :----------------: -----------------------: feature a docs for more info click here feature b guide see the full guide here feature c setup setup instructions",
      "headings": [],
      "keywords": [
        "Feature A",
        "Feature B",
        "Feature C"
      ]
    }
  },
  {
    "slug": "/markdown/tabs",
    "title": "Tabs",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam code examples with switch here a custom tab component from shadcn ui is used",
      "headings": [
        "Code Examples with switch"
      ],
      "keywords": [
        "Code Examples with switch"
      ]
    }
  },
  {
    "slug": "/monitoring",
    "title": "Monitoring & Analytics",
    "description": "Track agent performance, analyze session transcripts, monitor costs, and optimize voice agent effectiveness.",
    "content": "## Monitoring & Analytics\n\nEffective monitoring ensures your voice agent delivers business value while staying within budget. Track key metrics, review session transcripts, and optimize based on real usage data.\n\n## Key Metrics Dashboard\n\n### Engagement Metrics\n\n| Metric | Good Target | What It Means |\n|--------|-------------|---------------|\n| **Session Start Rate** | 20-40% of visitors | Percentage of website visitors who click the voice button |\n| **Completion Rate** | 50-70% | Percentage of sessions that reach a successful outcome |\n| **Average Session Duration** | 3-7 minutes | Typical time from start to completion |\n| **Messages Per Session** | 8-15 exchanges | Average conversation length |\n\n### Business Metrics\n\n| Metric | Good Target | What It Means |\n|--------|-------------|---------------|\n| **Conversion Rate** | 40-60% | Sessions that result in booking/purchase/resolution |\n| **Escalation Rate** | Less than 15% | Sessions transferred to human agents |\n| **Customer Satisfaction** | 4.2+ / 5.0 | Post-session rating (if implemented) |\n| **Revenue Per Session** | Industry-dependent | Direct revenue attributed to voice sessions |\n\n### Operational Metrics\n\n| Metric | Monitor For | Action Threshold |\n|--------|-------------|------------------|\n| **Daily Active Sessions** | Growth trends | Unexpected spikes (>200% increase) |\n| **Token Usage** | Cost control | >80% of daily quota |\n| **Tool Success Rate** | API reliability | Less than 90% success rate |\n| **Average Response Time** | Performance | >2 seconds |\n\n## Session Lifecycle Tracking\n\n### Session States\n\n**Active (Engaged):**\n\n* User actively conversing\n* `idleSec <= maxIdleSec`\n* Sending regular heartbeats\n\n**Active (Idle):**\n\n* Session open but quiet\n* `idleSec > maxIdleSec`\n* Still sending heartbeats\n\n**Stale:**\n\n* Abandoned without proper close\n* `idleSec > staleGraceSec` (default: 1 hour)\n* No recent heartbeats\n\n**Ended:**\n\n* Explicitly closed by user\n* `active: false`\n* Usage reported\n\n### Tracking Flow\n\n```\nSession Start\n    ↓\n[Active - Engaged] ←→ [Active - Idle]\n    ↓                      ↓\n    ↓                  [Stale]\n    ↓                      ↓\n[Session End] ← ← ← ← ← ← ↓\n    ↓\nUsage Reported\n```\n\n## Transcript Analysis\n\n### What to Review\n\n**Weekly Review:**\n\n* Sample 10-20 transcripts from each session outcome category:\n  * Successful completions\n  * User abandonments\n  * Escalations\n  * Errors/failures\n\n**Look For:**\n\n* Misunderstood user intents\n* Repeated tool failures\n* Off-topic questions\n* Tone mismatches\n* Missing capabilities\n\n### Common Patterns\n\n**High Abandonment:**\n\n* Agent asks for too much information upfront\n* Tool response times too slow\n* Agent talks too much\n* User intent not understood quickly\n\n**High Escalation:**\n\n* Agent scope too narrow\n* Missing tools for common requests\n* Poor error handling\n* Unclear escalation messaging\n\n**Low Conversion:**\n\n* Weak value proposition in greeting\n* Hesitant or uncertain tone\n* Not proactive with recommendations\n* Missing visual components (doesn't show products)\n\n## Cost Monitoring\n\n### Token Usage Breakdown\n\n**Average Tokens Per Session:**\n\n* Simple inquiry: 1,000-2,000 tokens\n* Product search: 2,500-4,000 tokens\n* Booking/purchase: 3,500-6,000 tokens\n* Complex support: 5,000-10,000 tokens\n\n**Cost Calculation:**\n\n```\nDaily Cost = (Daily Sessions × Avg Tokens Per Session) × OpenAI Rate\n\nExample:\n  100 sessions/day × 3,500 tokens = 350,000 tokens/day\n  350,000 tokens × $0.00006/token = $21/day = $630/month\n```\n\n### Cost Optimization\n\n**Reduce Token Usage:**\n\n* Shorten system prompt (remove redundant examples)\n* Use concise tool descriptions\n* Limit tools to essentials (higher priority)\n* Set realistic session duration limits\n\n**Increase Efficiency:**\n\n* Improve completion rate (fewer abandoned sessions)\n* Reduce average session length (clearer prompts)\n* Optimize tool response times (faster = fewer tokens)\n\n## Performance Monitoring\n\n### Tool Performance\n\nTrack each tool's performance:\n\n* **Success Rate:** `successful calls / total calls`\n* **Average Latency:** Time from call to response\n* **Error Types:** Categorize failures (timeout, 4xx, 5xx)\n\n**Alert Thresholds:**\n\n* Success rate drops below 90%\n* Average latency exceeds 5 seconds\n* Error rate spikes above 10%\n\n### Session Performance\n\nMonitor session health:\n\n* **Session Creation Rate:** Sessions created per minute\n* **Heartbeat Compliance:** % of sessions sending heartbeats\n* **Idle Timeout Rate:** % of sessions timing out from idle\n* **Duration Exceeded:** % of sessions hitting max duration\n\n## Optimization Workflow\n\n### 1. Identify Issues (Weekly)\n\nReview metrics dashboard:\n\n* Which metrics are below target?\n* Are there unusual patterns or spikes?\n* What do transcripts reveal?\n\n### 2. Hypothesize Fixes\n\nBased on issues found:\n\n* Low completion → Simplify information gathering\n* High escalation → Add missing tools\n* Long sessions → Make prompts more concise\n* High cost → Reduce token usage\n\n### 3. Test Changes (Staging)\n\nBefore deploying fixes:\n\n* Test prompt changes with scenarios\n* Validate tool updates in development\n* Compare token usage\n\n### 4. Deploy and Measure\n\nAfter deploying changes:\n\n* Monitor metrics for 7-14 days\n* Compare to baseline\n* Iterate if needed\n\n### 5. Document Learnings\n\nMaintain optimization log:\n\n* What was changed\n* Why it was changed\n* Result (improvement or regression)\n* Lessons learned\n\n## Troubleshooting Guide\n\n## Monitoring Checklist\n\n### Daily\n\n* \\[ ] Check session count and completion rate\n* \\[ ] Review token usage vs quota\n* \\[ ] Scan for tool failure spikes\n\n### Weekly\n\n* \\[ ] Review 10-20 session transcripts\n* \\[ ] Analyze conversion and escalation rates\n* \\[ ] Check for unusual patterns or errors\n\n### Monthly\n\n* \\[ ] Calculate ROI (revenue vs cost)\n* \\[ ] Review long-term trends\n* \\[ ] Plan optimization experiments\n* \\[ ] Update agent based on learnings\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "monitoring analytics effective monitoring ensures your voice agent delivers business value while staying within budget track key metrics review session transcripts and optimize based on real usage data key metrics dashboard engagement metrics metric good target what it means-------- ------------- ---------------session start rate 20-40 of visitors percentage of website visitors who click the voice buttoncompletion rate 50-70 percentage of sessions that reach a successful outcomeaverage session duration 3-7 minutes typical time from start to completionmessages per session 8-15 exchanges average conversation length business metrics metric good target what it means-------- ------------- ---------------conversion rate 40-60 sessions that result in booking purchase resolutionescalation rate less than 15 sessions transferred to human agentscustomer satisfaction 4 2 5 0 post-session rating if implemented revenue per session industry-dependent direct revenue attributed to voice sessions operational metrics metric monitor for action threshold-------- ------------- ------------------daily active sessions growth trends unexpected spikes 200 increase token usage cost control 80 of daily quotatool success rate api reliability less than 90 success rateaverage response time performance 2 seconds session lifecycle tracking session states active engaged : user actively conversing idlesec maxidlesec sending regular heartbeats active idle : session open but quiet idlesec maxidlesec still sending heartbeats stale: abandoned without proper close idlesec stalegracesec default: 1 hour no recent heartbeats ended: explicitly closed by user active: false usage reported tracking flow transcript analysis what to review weekly review: sample 10-20 transcripts from each session outcome category: successful completions user abandonments escalations errors failures look for: misunderstood user intents repeated tool failures off-topic questions tone mismatches missing capabilities common patterns high abandonment: agent asks for too much information upfront tool response times too slow agent talks too much user intent not understood quickly high escalation: agent scope too narrow missing tools for common requests poor error handling unclear escalation messaging low conversion: weak value proposition in greeting hesitant or uncertain tone not proactive with recommendations missing visual components doesn t show products cost monitoring token usage breakdown average tokens per session: simple inquiry: 1 000-2 000 tokens product search: 2 500-4 000 tokens booking purchase: 3 500-6 000 tokens complex support: 5 000-10 000 tokens cost calculation: cost optimization reduce token usage: shorten system prompt remove redundant examples use concise tool descriptions limit tools to essentials higher priority set realistic session duration limits increase efficiency: improve completion rate fewer abandoned sessions reduce average session length clearer prompts optimize tool response times faster fewer tokens performance monitoring tool performance track each tool s performance: success rate: successful calls total calls average latency: time from call to response error types: categorize failures timeout 4xx 5xx alert thresholds: success rate drops below 90 average latency exceeds 5 seconds error rate spikes above 10 session performance monitor session health: session creation rate: sessions created per minute heartbeat compliance: of sessions sending heartbeats idle timeout rate: of sessions timing out from idle duration exceeded: of sessions hitting max duration optimization workflow identify issues weekly review metrics dashboard: which metrics are below target are there unusual patterns or spikes what do transcripts reveal hypothesize fixes based on issues found: low completion simplify information gathering high escalation add missing tools long sessions make prompts more concise high cost reduce token usage test changes staging before deploying fixes: test prompt changes with scenarios validate tool updates in development compare token usage deploy and measure after deploying changes: monitor metrics for 7-14 days compare to baseline iterate if needed document learnings maintain optimization log: what was changed why it was changed result improvement or regression lessons learned troubleshooting guide monitoring checklist daily check session count and completion rate review token usage vs quota scan for tool failure spikes weekly review 10-20 session transcripts analyze conversion and escalation rates check for unusual patterns or errors monthly calculate roi revenue vs cost review long-term trends plan optimization experiments update agent based on learnings next steps",
      "headings": [
        "Monitoring & Analytics",
        "Key Metrics Dashboard",
        "Session Lifecycle Tracking",
        "Transcript Analysis",
        "Cost Monitoring",
        "Performance Monitoring",
        "Optimization Workflow",
        "Troubleshooting Guide",
        "Monitoring Checklist",
        "Next Steps"
      ],
      "keywords": [
        "monitoring",
        "analytics",
        "metrics",
        "performance",
        "optimization",
        "Monitoring & Analytics",
        "Key Metrics Dashboard",
        "Session Lifecycle Tracking",
        "Transcript Analysis",
        "Cost Monitoring",
        "Performance Monitoring",
        "Optimization Workflow",
        "Troubleshooting Guide",
        "Monitoring Checklist",
        "Next Steps",
        "Session Start Rate",
        "Completion Rate",
        "Average Session Duration",
        "Messages Per Session",
        "Conversion Rate",
        "Escalation Rate",
        "Customer Satisfaction",
        "Revenue Per Session",
        "Daily Active Sessions",
        "Token Usage",
        "Tool Success Rate",
        "Average Response Time",
        "Active (Engaged):",
        "Active (Idle):",
        "Stale:",
        "Ended:",
        "Weekly Review:",
        "Look For:",
        "High Abandonment:",
        "High Escalation:",
        "Low Conversion:",
        "Average Tokens Per Session:",
        "Cost Calculation:",
        "Reduce Token Usage:",
        "Increase Efficiency:",
        "Success Rate:",
        "Average Latency:",
        "Error Types:",
        "Alert Thresholds:",
        "Session Creation Rate:",
        "Heartbeat Compliance:",
        "Idle Timeout Rate:",
        "Duration Exceeded:",
        "idleSec <= maxIdleSec",
        "idleSec > maxIdleSec",
        "idleSec > staleGraceSec",
        "active: false",
        "Session Start\n    ↓\n[Active - Engaged] ←→ [Active - Idle]\n    ↓                      ↓\n    ↓                  [Stale]\n    ↓                      ↓\n[Session End] ← ← ← ← ← ← ↓\n    ↓\nUsage Reported",
        "## Transcript Analysis\n\n### What to Review\n\n**Weekly Review:**\n\n* Sample 10-20 transcripts from each session outcome category:\n  * Successful completions\n  * User abandonments\n  * Escalations\n  * Errors/failures\n\n**Look For:**\n\n* Misunderstood user intents\n* Repeated tool failures\n* Off-topic questions\n* Tone mismatches\n* Missing capabilities\n\n### Common Patterns\n\n**High Abandonment:**\n\n* Agent asks for too much information upfront\n* Tool response times too slow\n* Agent talks too much\n* User intent not understood quickly\n\n**High Escalation:**\n\n* Agent scope too narrow\n* Missing tools for common requests\n* Poor error handling\n* Unclear escalation messaging\n\n**Low Conversion:**\n\n* Weak value proposition in greeting\n* Hesitant or uncertain tone\n* Not proactive with recommendations\n* Missing visual components (doesn't show products)\n\n## Cost Monitoring\n\n### Token Usage Breakdown\n\n**Average Tokens Per Session:**\n\n* Simple inquiry: 1,000-2,000 tokens\n* Product search: 2,500-4,000 tokens\n* Booking/purchase: 3,500-6,000 tokens\n* Complex support: 5,000-10,000 tokens\n\n**Cost Calculation:**",
        "Daily Cost = (Daily Sessions × Avg Tokens Per Session) × OpenAI Rate\n\nExample:\n  100 sessions/day × 3,500 tokens = 350,000 tokens/day\n  350,000 tokens × $0.00006/token = $21/day = $630/month",
        "### Cost Optimization\n\n**Reduce Token Usage:**\n\n* Shorten system prompt (remove redundant examples)\n* Use concise tool descriptions\n* Limit tools to essentials (higher priority)\n* Set realistic session duration limits\n\n**Increase Efficiency:**\n\n* Improve completion rate (fewer abandoned sessions)\n* Reduce average session length (clearer prompts)\n* Optimize tool response times (faster = fewer tokens)\n\n## Performance Monitoring\n\n### Tool Performance\n\nTrack each tool's performance:\n\n* **Success Rate:**"
      ]
    }
  },
  {
    "slug": "/monitoring/troubleshooting",
    "title": "Troubleshooting Guide",
    "description": "Diagnose and resolve common voice agent, session, and integration issues.",
    "content": "## Troubleshooting Guide\n\nQuick reference for diagnosing and resolving common issues with voice agents, sessions, tools, and integrations.\n\n## Session Issues\n\n### Widget Key Rejected\n\n**Symptoms:**\n\n* `401 Unauthorized` error when creating session\n* \"Widget key validation failed\" message\n\n**Causes:**\n\n1. Origin mismatch between website and widget key config\n2. Widget key revoked or invalid\n3. Tenant inactive\n\n**Solutions:**\n\n1. Verify origin matches exactly (https://example.com ≠ https://www.example.com)\n2. Check widget key status in tenant config\n3. Confirm tenant status is `active`\n4. Create separate keys for www and non-www versions if needed\n\n***\n\n### Session Creation Rate Limited\n\n**Symptoms:**\n\n* `429 Too Many Requests` error\n* \"Please wait before starting a new session\" message\n\n**Causes:**\n\n1. Edge rate limit exceeded (60 req/min per IP)\n2. Server rate limit exceeded (12 sessions/min for widget)\n3. Max concurrent sessions reached\n\n**Solutions:**\n\n1. Wait 60 seconds and retry\n2. Review traffic patterns for unusual spikes\n3. Increase rate limits if legitimate traffic\n4. Investigate potential bot attack if suspicious\n\n***\n\n### Session Fails to Start\n\n**Symptoms:**\n\n* Widget opens but conversation doesn't begin\n* Microphone permission granted but no audio stream\n\n**Causes:**\n\n1. Agent configuration error\n2. Missing or invalid system prompt\n3. Tool validation failure\n4. OpenAI API error\n\n**Solutions:**\n\n1. Check browser console for errors\n2. Verify agent configuration is complete\n3. Test tools in isolation\n4. Review OpenAI API status\n\n***\n\n### Session Timeout\n\n**Symptoms:**\n\n* Session ends unexpectedly\n* \"Session limit exceeded\" message\n\n**Causes:**\n\n1. Exceeded max session duration (default: 15 minutes)\n2. Idle timeout (default: 5 minutes)\n3. Daily quota exhausted\n4. Heartbeat not being sent\n\n**Solutions:**\n\n1. Check session duration in monitoring\n2. Investigate what's causing long sessions\n3. Review quota usage\n4. Verify widget is sending heartbeats every 45 seconds\n\n## Tool Issues\n\n### Tool Returns No Results\n\n**Symptoms:**\n\n* Agent says \"I couldn't find anything\"\n* Empty result set displayed\n\n**Causes:**\n\n1. API returned no matching data\n2. okField evaluation issue\n3. Query parameters too restrictive\n\n**Solutions:**\n\n1. Test API directly with same parameters\n2. Verify okField exists in response\n3. Review search criteria (too specific?)\n4. Check API rate limits\n\n***\n\n### Tool Timeout\n\n**Symptoms:**\n\n* \"Request timed out\" error\n* Tool call takes too long\n\n**Causes:**\n\n1. API response too slow\n2. timeoutMs set too low\n3. Network connectivity issue\n\n**Solutions:**\n\n1. Test API latency directly\n2. Increase timeoutMs (default: 5000ms)\n3. Optimize API query performance\n4. Add caching to API if possible\n\n***\n\n### Tool Authentication Failed\n\n**Symptoms:**\n\n* `401 Unauthorized` from API\n* \"Authentication failed\" error\n\n**Causes:**\n\n1. Missing or incorrect API secret\n2. Secret template not interpolating correctly\n3. Token expired\n\n**Solutions:**\n\n1. Verify secret exists in tenant config\n2. Check template syntax: `{{secrets.api_token}}`\n3. Rotate API token if expired\n4. Test API with Postman/curl using same token\n\n***\n\n### Template Interpolation Error\n\n**Symptoms:**\n\n* URL has literal `{{args.param}}` instead of value\n* API receives malformed request\n\n**Causes:**\n\n1. Parameter not prefixed with `args.`\n2. Type coercion filter missing\n3. Parameter name mismatch\n\n**Solutions:**\n\n1. Use `{{args.param}}` not `{{param}}`\n2. Add type filters: `{{args.limit | number}}`\n3. Verify parameter names match exactly\n\n## Agent Behavior Issues\n\n### Agent Hallucinates Data\n\n**Symptoms:**\n\n* Agent makes up product names, prices, or availability\n* Agent guesses instead of using tools\n\n**Causes:**\n\n1. Prompt doesn't enforce \"never hallucinate\" rule strongly enough\n2. Tools not called when they should be\n3. Tool response not used correctly\n\n**Solutions:**\n\n1. Strengthen data\\_rules in prompt:\n   ```json\n   \"data_rules\": [\n     \"NEVER guess product names, prices, or availability\",\n     \"ALWAYS use tools to retrieve real-time data\",\n     \"If a tool returns no results, say so explicitly\"\n   ]\n   ```\n2. Add examples showing correct tool usage\n3. Increase tool priority\n\n***\n\n### Agent Too Verbose\n\n**Symptoms:**\n\n* Agent responses are too long\n* Users complain about talking too much\n\n**Causes:**\n\n1. Prompt style rules too lenient\n2. Examples show long responses\n3. Agent personality too chatty\n\n**Solutions:**\n\n1. Add style rule: \"Keep responses to 2-3 sentences unless explaining complex topic\"\n2. Update examples with concise responses\n3. Adjust tone to be more direct\n\n***\n\n### Agent Goes Off-Topic\n\n**Symptoms:**\n\n* Agent handles questions outside its scope\n* Agent doesn't escalate when it should\n\n**Causes:**\n\n1. Scope boundaries not defined clearly\n2. Escalation rules too vague\n3. Out-of-scope examples missing\n\n**Solutions:**\n\n1. Define clear boundaries in prompt:\n   ```json\n   \"capabilities\": {\n     \"in_scope\": [\"room booking\", \"availability\", \"amenities\"],\n     \"out_of_scope\": [\"cancellations\", \"complaints\", \"loyalty program\"]\n   }\n   ```\n2. Add escalation examples\n3. Test with off-topic questions\n\n***\n\n### Wrong Tool Selected\n\n**Symptoms:**\n\n* Agent calls wrong tool for user's intent\n* Multiple tool calls when one would suffice\n\n**Causes:**\n\n1. Tool descriptions too similar\n2. Tool priority not set correctly\n3. Capability definitions unclear\n\n**Solutions:**\n\n1. Make tool descriptions more specific\n2. Adjust priority (1-10, higher = more likely)\n3. Add `when` field to capability:\n   ```json\n   \"when\": \"User asks for product recommendations OR compares items\"\n   ```\n\n## UI Component Issues\n\n### Component Doesn't Render\n\n**Symptoms:**\n\n* Expected UI component doesn't appear\n* Fallback text shown instead\n\n**Causes:**\n\n1. Missing required component props\n2. Invalid component\\_name\n3. Malformed props data\n\n**Solutions:**\n\n1. Check component reference for required props\n2. Verify component\\_name spelling\n3. Validate props structure matches component schema\n4. Review browser console for rendering errors\n\n***\n\n### Images Not Loading\n\n**Symptoms:**\n\n* Broken image icons in catalog\\_results\n* Empty image placeholders\n\n**Causes:**\n\n1. Invalid image URLs\n2. CORS issues with image CDN\n3. Missing image field in response\n\n**Solutions:**\n\n1. Test image URLs directly in browser\n2. Ensure image CDN allows cross-origin requests\n3. Check API response has image field populated\n4. Provide fallback image URL\n\n## Cost Issues\n\n### Exceeding Daily Quota\n\n**Symptoms:**\n\n* Sessions blocked with \"Daily quota exceeded\"\n* Higher costs than expected\n\n**Causes:**\n\n1. More sessions than anticipated\n2. Longer sessions than expected\n3. Inefficient prompt (too many tokens)\n\n**Solutions:**\n\n1. Review session volume trends\n2. Analyze average tokens per session\n3. Optimize prompt length\n4. Increase quota if justified by ROI\n\n***\n\n### High Token Usage Per Session\n\n**Symptoms:**\n\n* Sessions consuming 10,000+ tokens\n* Higher than expected costs\n\n**Causes:**\n\n1. Prompt too long\n2. Too many tools defined\n3. Sessions not completing efficiently\n\n**Solutions:**\n\n1. Trim system prompt (remove redundant examples)\n2. Remove unused tools\n3. Improve agent efficiency (faster completions)\n4. Set session duration limits\n\n## Diagnostic Commands\n\n### Check Session Status\n\n```bash\n# Query MongoDB for active sessions\ndb.realtime_sessions.find({ active: true })\n```\n\n### Review Daily Usage\n\n```bash\n# Check today's token usage\ndb.usage_daily.find({ _id: /^d:.*:2025-01-23$/ })\n```\n\n### Audit Rate Limits\n\n```bash\n# Check recent rate limit violations\n# Review application logs for 429 errors\n```\n\n## Getting Help\n\n**Still stuck?**\n\n1. **Check logs:** Review browser console and server logs\n2. **Test in isolation:** Reproduce issue in development environment\n3. **Contact support:** support@strategicmachines.ai with:\n   * Session ID\n   * Timestamp of issue\n   * Error messages\n   * Steps to reproduce\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "troubleshooting guide quick reference for diagnosing and resolving common issues with voice agents sessions tools and integrations session issues widget key rejected symptoms: 401 unauthorized error when creating session widget key validation failed message causes: origin mismatch between website and widget key config widget key revoked or invalid tenant inactive solutions: verify origin matches exactly https: example com https: www example com check widget key status in tenant config confirm tenant status is active create separate keys for www and non-www versions if needed session creation rate limited symptoms: 429 too many requests error please wait before starting a new session message causes: edge rate limit exceeded 60 req min per ip server rate limit exceeded 12 sessions min for widget max concurrent sessions reached solutions: wait 60 seconds and retry review traffic patterns for unusual spikes increase rate limits if legitimate traffic investigate potential bot attack if suspicious session fails to start symptoms: widget opens but conversation doesn t begin microphone permission granted but no audio stream causes: agent configuration error missing or invalid system prompt tool validation failure openai api error solutions: check browser console for errors verify agent configuration is complete test tools in isolation review openai api status session timeout symptoms: session ends unexpectedly session limit exceeded message causes: exceeded max session duration default: 15 minutes idle timeout default: 5 minutes daily quota exhausted heartbeat not being sent solutions: check session duration in monitoring investigate what s causing long sessions review quota usage verify widget is sending heartbeats every 45 seconds tool issues tool returns no results symptoms: agent says i couldn t find anything empty result set displayed causes: api returned no matching data okfield evaluation issue query parameters too restrictive solutions: test api directly with same parameters verify okfield exists in response review search criteria too specific check api rate limits tool timeout symptoms: request timed out error tool call takes too long causes: api response too slow timeoutms set too low network connectivity issue solutions: test api latency directly increase timeoutms default: 5000ms optimize api query performance add caching to api if possible tool authentication failed symptoms: 401 unauthorized from api authentication failed error causes: missing or incorrect api secret secret template not interpolating correctly token expired solutions: verify secret exists in tenant config check template syntax: secrets api_token rotate api token if expired test api with postman curl using same token template interpolation error symptoms: url has literal args param instead of value api receives malformed request causes: parameter not prefixed with args type coercion filter missing parameter name mismatch solutions: use args param not param add type filters: args limit number verify parameter names match exactly agent behavior issues agent hallucinates data symptoms: agent makes up product names prices or availability agent guesses instead of using tools causes: prompt doesn t enforce never hallucinate rule strongly enough tools not called when they should be tool response not used correctly solutions: strengthen data _rules in prompt: add examples showing correct tool usage increase tool priority agent too verbose symptoms: agent responses are too long users complain about talking too much causes: prompt style rules too lenient examples show long responses agent personality too chatty solutions: add style rule: keep responses to 2-3 sentences unless explaining complex topic update examples with concise responses adjust tone to be more direct agent goes off-topic symptoms: agent handles questions outside its scope agent doesn t escalate when it should causes: scope boundaries not defined clearly escalation rules too vague out-of-scope examples missing solutions: define clear boundaries in prompt: add escalation examples test with off-topic questions wrong tool selected symptoms: agent calls wrong tool for user s intent multiple tool calls when one would suffice causes: tool descriptions too similar tool priority not set correctly capability definitions unclear solutions: make tool descriptions more specific adjust priority 1-10 higher more likely add when field to capability: ui component issues component doesn t render symptoms: expected ui component doesn t appear fallback text shown instead causes: missing required component props invalid component _name malformed props data solutions: check component reference for required props verify component _name spelling validate props structure matches component schema review browser console for rendering errors images not loading symptoms: broken image icons in catalog _results empty image placeholders causes: invalid image urls cors issues with image cdn missing image field in response solutions: test image urls directly in browser ensure image cdn allows cross-origin requests check api response has image field populated provide fallback image url cost issues exceeding daily quota symptoms: sessions blocked with daily quota exceeded higher costs than expected causes: more sessions than anticipated longer sessions than expected inefficient prompt too many tokens solutions: review session volume trends analyze average tokens per session optimize prompt length increase quota if justified by roi high token usage per session symptoms: sessions consuming 10 000 tokens higher than expected costs causes: prompt too long too many tools defined sessions not completing efficiently solutions: trim system prompt remove redundant examples remove unused tools improve agent efficiency faster completions set session duration limits diagnostic commands check session status review daily usage audit rate limits getting help still stuck check logs: review browser console and server logs test in isolation: reproduce issue in development environment contact support: support strategicmachines ai with: session id timestamp of issue error messages steps to reproduce next steps",
      "headings": [
        "Troubleshooting Guide",
        "Session Issues",
        "Tool Issues",
        "Agent Behavior Issues",
        "UI Component Issues",
        "Cost Issues",
        "Diagnostic Commands",
        "Getting Help",
        "Next Steps"
      ],
      "keywords": [
        "troubleshooting",
        "debugging",
        "errors",
        "issues",
        "fixes",
        "Troubleshooting Guide",
        "Session Issues",
        "Tool Issues",
        "Agent Behavior Issues",
        "UI Component Issues",
        "Cost Issues",
        "Diagnostic Commands",
        "Getting Help",
        "Next Steps",
        "Symptoms:",
        "Causes:",
        "Solutions:",
        "### Session Creation Rate Limited",
        "### Session Fails to Start",
        "### Session Timeout",
        "### Tool Timeout",
        "### Tool Authentication Failed",
        "### Template Interpolation Error",
        "### Agent Too Verbose",
        "### Agent Goes Off-Topic",
        "### Wrong Tool Selected",
        "### Images Not Loading",
        "### High Token Usage Per Session",
        "Still stuck?",
        "Check logs:",
        "Test in isolation:",
        "Contact support:",
        "401 Unauthorized",
        "active",
        "429 Too Many Requests",
        "{{secrets.api_token}}",
        "{{args.param}}",
        "args.",
        "{{param}}",
        "{{args.limit | number}}",
        "json\n   \"data_rules\": [\n     \"NEVER guess product names, prices, or availability\",\n     \"ALWAYS use tools to retrieve real-time data\",\n     \"If a tool returns no results, say so explicitly\"\n   ]",
        "2. Add examples showing correct tool usage\n3. Increase tool priority\n\n***\n\n### Agent Too Verbose\n\n**Symptoms:**\n\n* Agent responses are too long\n* Users complain about talking too much\n\n**Causes:**\n\n1. Prompt style rules too lenient\n2. Examples show long responses\n3. Agent personality too chatty\n\n**Solutions:**\n\n1. Add style rule: \"Keep responses to 2-3 sentences unless explaining complex topic\"\n2. Update examples with concise responses\n3. Adjust tone to be more direct\n\n***\n\n### Agent Goes Off-Topic\n\n**Symptoms:**\n\n* Agent handles questions outside its scope\n* Agent doesn't escalate when it should\n\n**Causes:**\n\n1. Scope boundaries not defined clearly\n2. Escalation rules too vague\n3. Out-of-scope examples missing\n\n**Solutions:**\n\n1. Define clear boundaries in prompt:",
        "json\n   \"capabilities\": {\n     \"in_scope\": [\"room booking\", \"availability\", \"amenities\"],\n     \"out_of_scope\": [\"cancellations\", \"complaints\", \"loyalty program\"]\n   }",
        "2. Add escalation examples\n3. Test with off-topic questions\n\n***\n\n### Wrong Tool Selected\n\n**Symptoms:**\n\n* Agent calls wrong tool for user's intent\n* Multiple tool calls when one would suffice\n\n**Causes:**\n\n1. Tool descriptions too similar\n2. Tool priority not set correctly\n3. Capability definitions unclear\n\n**Solutions:**\n\n1. Make tool descriptions more specific\n2. Adjust priority (1-10, higher = more likely)\n3. Add",
        "field to capability:",
        "json\n   \"when\": \"User asks for product recommendations OR compares items\"",
        "## UI Component Issues\n\n### Component Doesn't Render\n\n**Symptoms:**\n\n* Expected UI component doesn't appear\n* Fallback text shown instead\n\n**Causes:**\n\n1. Missing required component props\n2. Invalid component\\_name\n3. Malformed props data\n\n**Solutions:**\n\n1. Check component reference for required props\n2. Verify component\\_name spelling\n3. Validate props structure matches component schema\n4. Review browser console for rendering errors\n\n***\n\n### Images Not Loading\n\n**Symptoms:**\n\n* Broken image icons in catalog\\_results\n* Empty image placeholders\n\n**Causes:**\n\n1. Invalid image URLs\n2. CORS issues with image CDN\n3. Missing image field in response\n\n**Solutions:**\n\n1. Test image URLs directly in browser\n2. Ensure image CDN allows cross-origin requests\n3. Check API response has image field populated\n4. Provide fallback image URL\n\n## Cost Issues\n\n### Exceeding Daily Quota\n\n**Symptoms:**\n\n* Sessions blocked with \"Daily quota exceeded\"\n* Higher costs than expected\n\n**Causes:**\n\n1. More sessions than anticipated\n2. Longer sessions than expected\n3. Inefficient prompt (too many tokens)\n\n**Solutions:**\n\n1. Review session volume trends\n2. Analyze average tokens per session\n3. Optimize prompt length\n4. Increase quota if justified by ROI\n\n***\n\n### High Token Usage Per Session\n\n**Symptoms:**\n\n* Sessions consuming 10,000+ tokens\n* Higher than expected costs\n\n**Causes:**\n\n1. Prompt too long\n2. Too many tools defined\n3. Sessions not completing efficiently\n\n**Solutions:**\n\n1. Trim system prompt (remove redundant examples)\n2. Remove unused tools\n3. Improve agent efficiency (faster completions)\n4. Set session duration limits\n\n## Diagnostic Commands\n\n### Check Session Status",
        "bash\n# Query MongoDB for active sessions\ndb.realtime_sessions.find({ active: true })",
        "### Review Daily Usage",
        "bash\n# Check today's token usage\ndb.usage_daily.find({ _id: /^d:.*:2025-01-23$/ })",
        "### Audit Rate Limits",
        "bash\n# Check recent rate limit violations\n# Review application logs for 429 errors"
      ]
    }
  },
  {
    "slug": "/navigation",
    "title": "Navigation",
    "description": "How to build our your documents menu and navigations.",
    "content": "",
    "_searchMeta": {
      "cleanContent": "",
      "headings": [],
      "keywords": [
        "navigation",
        "sidebar",
        "menus",
        "mdx",
        "nextjs",
        "documents"
      ]
    }
  },
  {
    "slug": "/quickstart/ecommerce",
    "title": "E-Commerce Template",
    "description": "Deploy a product sales voice agent with catalog search, recommendations, and shopping cart assistance.",
    "content": "## E-Commerce Voice Agent Template\n\nComplete voice agent for online retail businesses — product sales, recommendations, and cart assistance. Based on the Otto (DIY Warehouse) implementation.\n\n**Deployment Time:** 30-60 minutes\n\n## Agent Capabilities\n\n* Search product catalog by keywords and filters\n* Provide product recommendations based on use case\n* Answer product specification questions\n* Compare products side-by-side\n* Guide customers to add items to cart\n\n## Business Impact\n\n* Increase conversion rates (15-25% lift)\n* Higher average order value through smart recommendations\n* Reduce cart abandonment\n* 24/7 product expertise\n\n## Core Tools\n\n### search\\_products\n\nSearch catalog by keyword, category, and price range with faceted filtering.\n\n### get\\_product\\_details\n\nRetrieve full specifications, reviews, and inventory status for a specific product.\n\n### compare\\_products\n\nGenerate side-by-side comparison of 2-3 products highlighting key differences.\n\n## Agent Personality\n\n**Tone:** Helpful, knowledgeable, practical — like a trusted workshop expert\n\n**Style:** Plain language explanations, enthusiastic about matching customers with the right products\n\n## Customization\n\n1. Connect to your product API or e-commerce platform (Shopify, WooCommerce, custom)\n2. Adjust product categories and filters\n3. Customize recommendation logic\n4. Configure cart integration (optional)\n\n## Expected Results\n\n* 15-25% conversion lift for voice-assisted sessions\n* 20-30% higher average order value\n* 4-7 minute average session duration\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "e-commerce voice agent template complete voice agent for online retail businesses product sales recommendations and cart assistance based on the otto diy warehouse implementation deployment time: 30-60 minutes agent capabilities search product catalog by keywords and filters provide product recommendations based on use case answer product specification questions compare products side-by-side guide customers to add items to cart business impact increase conversion rates 15-25 lift higher average order value through smart recommendations reduce cart abandonment 24 7 product expertise core tools search _products search catalog by keyword category and price range with faceted filtering get product details retrieve full specifications reviews and inventory status for a specific product compare _products generate side-by-side comparison of 2-3 products highlighting key differences agent personality tone: helpful knowledgeable practical like a trusted workshop expert style: plain language explanations enthusiastic about matching customers with the right products customization connect to your product api or e-commerce platform shopify woocommerce custom adjust product categories and filters customize recommendation logic configure cart integration optional expected results 15-25 conversion lift for voice-assisted sessions 20-30 higher average order value 4-7 minute average session duration next steps",
      "headings": [
        "E-Commerce Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Customization",
        "Expected Results",
        "Next Steps"
      ],
      "keywords": [
        "ecommerce",
        "retail",
        "products",
        "sales",
        "template",
        "E-Commerce Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Customization",
        "Expected Results",
        "Next Steps",
        "Deployment Time:",
        "Tone:",
        "Style:"
      ]
    }
  },
  {
    "slug": "/quickstart/healthcare",
    "title": "Healthcare Template",
    "description": "Deploy an appointment scheduling voice agent for patient intake and calendar management.",
    "content": "## Healthcare Voice Agent Template\n\nComplete voice agent for healthcare providers — appointment scheduling, patient intake, and calendar management.\n\n**Deployment Time:** 30-60 minutes\n\n## Agent Capabilities\n\n* Check provider availability by date/time\n* Schedule new patient appointments\n* Collect patient intake information\n* Send appointment confirmations\n* Handle appointment modifications\n\n## Business Impact\n\n* Reduce no-show rates with confirmations\n* 24/7 scheduling availability\n* Reduce administrative phone time\n* Improve patient experience\n\n## Core Tools\n\n### check\\_availability\n\nQuery provider calendars for open appointment slots by date, provider, and appointment type.\n\n### create\\_appointment\n\nBook an appointment and collect required patient information.\n\n### send\\_confirmation\n\nSend appointment confirmation via email or SMS with calendar invite.\n\n## Agent Personality\n\n**Tone:** Professional, empathetic, reassuring\n\n**Style:** Clear communication, respects privacy, confirms all details\n\n## Compliance Considerations\n\n**HIPAA Compliance:**\n\n* Do not collect or store Protected Health Information (PHI) without proper safeguards\n* Use this template for scheduling only, not medical advice\n* Ensure API connections use encryption (TLS 1.2+)\n* Implement proper access controls and audit logging\n\n**Disclaimer:** This template provides appointment scheduling capabilities only. It does not provide medical advice, diagnosis, or treatment. Consult with legal and compliance teams before deployment.\n\n## Customization\n\n1. Connect to your EMR/EHR system or scheduling platform\n2. Configure provider calendars and availability rules\n3. Define appointment types and durations\n4. Set up patient intake form fields\n5. Configure confirmation delivery method\n\n## Expected Results\n\n* 30-40% reduction in scheduling phone calls\n* 2-4 minute average scheduling time\n* 15-20% reduction in no-shows (with confirmations)\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "healthcare voice agent template complete voice agent for healthcare providers appointment scheduling patient intake and calendar management deployment time: 30-60 minutes agent capabilities check provider availability by date time schedule new patient appointments collect patient intake information send appointment confirmations handle appointment modifications business impact reduce no-show rates with confirmations 24 7 scheduling availability reduce administrative phone time improve patient experience core tools check _availability query provider calendars for open appointment slots by date provider and appointment type create _appointment book an appointment and collect required patient information send _confirmation send appointment confirmation via email or sms with calendar invite agent personality tone: professional empathetic reassuring style: clear communication respects privacy confirms all details compliance considerations hipaa compliance: do not collect or store protected health information phi without proper safeguards use this template for scheduling only not medical advice ensure api connections use encryption tls 1 2 implement proper access controls and audit logging disclaimer: this template provides appointment scheduling capabilities only it does not provide medical advice diagnosis or treatment consult with legal and compliance teams before deployment customization connect to your emr ehr system or scheduling platform configure provider calendars and availability rules define appointment types and durations set up patient intake form fields configure confirmation delivery method expected results 30-40 reduction in scheduling phone calls 2-4 minute average scheduling time 15-20 reduction in no-shows with confirmations next steps",
      "headings": [
        "Healthcare Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Compliance Considerations",
        "Customization",
        "Expected Results",
        "Next Steps"
      ],
      "keywords": [
        "healthcare",
        "appointments",
        "scheduling",
        "medical",
        "template",
        "Healthcare Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Compliance Considerations",
        "Customization",
        "Expected Results",
        "Next Steps",
        "Deployment Time:",
        "Tone:",
        "Style:",
        "HIPAA Compliance:",
        "Disclaimer:"
      ]
    }
  },
  {
    "slug": "/quickstart/hospitality",
    "title": "Hospitality Template",
    "description": "Deploy a hotel booking voice agent with pre-built room search, availability checks, and reservation capabilities.",
    "content": "## Hospitality Voice Agent Template\n\nThis template provides a complete voice agent for hospitality businesses — hotels, resorts, vacation rentals, and bed & breakfasts. Based on the successful Cypress Resort implementation.\n\n**Deployment Time:** 30-60 minutes\n\n## Template Overview\n\n**Agent Capabilities:**\n\n* Search available rooms by dates and guest count\n* Display room details with photos and amenities\n* Answer questions about facilities and policies\n* Create and confirm reservations\n* Provide booking confirmation numbers\n\n**Business Impact:**\n\n* Increase direct bookings (reduce OTA dependence)\n* 24/7 availability for booking inquiries\n* Reduce front desk phone volume\n* Capture bookings outside business hours\n\n## What's Included\n\n## Agent Personality\n\n**Tone:** Warm, attentive, professional — like a luxury hotel concierge\n\n**Style Rules:**\n\n* Greet warmly and detect booking intent early\n* Always confirm details before creating reservation\n* Speak in complete but concise sentences\n* Use \"we\" and \"our\" to create sense of partnership\n* Express genuine enthusiasm about property features\n\n**Sample Phrases:**\n\n* \"I'd be delighted to help you find the perfect room\"\n* \"Let me check availability for you\"\n* \"Our oceanfront suites are particularly stunning at sunset\"\n* \"Your reservation is all set!\"\n\n## Core Tools\n\n### 1. search\\_units\n\nSearch available rooms by check-in/check-out dates and guest count.\n\n**API Integration:**\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_units\",\n  \"description\": \"Search available rooms by dates and guest count\",\n  \"priority\": 10,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"check_in\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-in date (YYYY-MM-DD)\"\n      },\n      \"check_out\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-out date (YYYY-MM-DD)\"\n      },\n      \"guests\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 12,\n        \"description\": \"Number of guests\"\n      }\n    },\n    \"required\": [\"check_in\", \"check_out\", \"guests\"]\n  },\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://your-pms.com/api/units/search?check_in={{args.check_in}}&check_out={{args.check_out}}&guests={{args.guests | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.pms_api_token}}\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Available Rooms\",\n        \"description\": \"{{response.count}} rooms available for your dates\",\n        \"props\": {\n          \"items\": \"{{response.units}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"No Availability\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}\n```\n\n**Expected API Response:**\n\n```json\n{\n  \"success\": true,\n  \"count\": 3,\n  \"units\": [\n    {\n      \"id\": \"sunset-suite\",\n      \"name\": \"Sunset Suite\",\n      \"description\": \"Oceanfront suite with private balcony\",\n      \"price\": 225.00,\n      \"image\": \"https://cdn.resort.com/sunset-1.jpg\",\n      \"metadata\": {\n        \"view\": \"Ocean\",\n        \"bed\": \"King\",\n        \"size\": \"450 sq ft\"\n      }\n    }\n  ]\n}\n```\n\n### 2. get\\_unit\\_details\n\nRetrieve detailed information about a specific room.\n\n**Use Case:** User asks for more details about a room from search results\n\n**Parameters:** `unit_id`\n\n### 3. create\\_reservation\n\nBook a room for the guest.\n\n**API Integration:**\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"create_reservation\",\n  \"description\": \"Create a hotel reservation for confirmed dates and guest info\",\n  \"priority\": 9,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"unit_id\": { \"type\": \"string\" },\n      \"check_in\": { \"type\": \"string\", \"format\": \"date\" },\n      \"check_out\": { \"type\": \"string\", \"format\": \"date\" },\n      \"guests\": { \"type\": \"number\" },\n      \"guest_info\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": { \"type\": \"string\" },\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\n          \"phone\": { \"type\": \"string\" }\n        },\n        \"required\": [\"name\", \"email\"]\n      }\n    },\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guests\", \"guest_info\"]\n  },\n  \"http\": {\n    \"method\": \"POST\",\n    \"urlTemplate\": \"https://your-pms.com/api/reservations\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.pms_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"bodyTemplate\": \"{\\\"unit_id\\\": \\\"{{args.unit_id}}\\\", \\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}\",\n    \"okField\": \"success\",\n    \"timeoutMs\": 10000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"booking_confirmation\",\n        \"title\": \"Reservation Confirmed\",\n        \"description\": \"Your booking is all set!\",\n        \"props\": {\n          \"confirmation_number\": \"{{response.confirmation_code}}\",\n          \"guest_name\": \"{{response.guest_name}}\",\n          \"check_in\": \"{{response.check_in}}\",\n          \"check_out\": \"{{response.check_out}}\",\n          \"unit_name\": \"{{response.unit_name}}\",\n          \"total_price\": \"{{response.total_price}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Booking Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}\n```\n\n## Customization Guide\n\n### 1. Update API Endpoints\n\nReplace placeholder URLs with your PMS or booking system API:\n\n* Cloudbeds\n* Opera PMS\n* Mews\n* RoomRaccoon\n* Custom booking system\n\n### 2. Adjust Property Details\n\nUpdate the prompt with your property's:\n\n* Name and location\n* Room types and naming\n* Amenities and features\n* Policies (cancellation, check-in times)\n* Special offers or packages\n\n### 3. Customize Tone\n\nAdjust personality to match your brand:\n\n* Luxury resort → Elevated, refined language\n* Beach resort → Relaxed, casual tone\n* Business hotel → Professional, efficient\n* Boutique hotel → Personalized, intimate\n\n### 4. Add Optional Tools\n\nExtend capabilities with additional tools:\n\n* `check_reservation_status` — Look up existing bookings\n* `modify_reservation` — Change dates or room type\n* `cancel_reservation` — Handle cancellations\n* `send_confirmation_email` — Email booking details\n\n## Recommended Settings\n\n**Session Limits:**\n\n* Max concurrent sessions: 20\n* Max session duration: 10 minutes\n* Idle timeout: 5 minutes\n\n**Rate Limits:**\n\n* Widget: 12 sessions/min\n* Daily quota: 300,000 tokens ($20/day)\n\n**Escalation:**\n\n* Cancellations → Human agent\n* Special requests (accessibility, pets) → Human agent\n* Complex group bookings (10+ rooms) → Human agent\n\n## Deployment Checklist\n\n* \\[ ] Configure PMS API credentials in secrets\n* \\[ ] Update API endpoints in tool descriptors\n* \\[ ] Customize prompt with property name and details\n* \\[ ] Test room search with real availability data\n* \\[ ] Test reservation creation in development\n* \\[ ] Configure widget key for your domain\n* \\[ ] Embed widget on booking page\n* \\[ ] Test end-to-end booking flow\n* \\[ ] Set up monitoring and alerts\n* \\[ ] Train staff on handling escalations\n\n## Expected Results\n\nBased on Cypress Resort case study:\n\n**Metrics After 3 Months:**\n\n* **32% of website visitors** engage with voice agent\n* **58% completion rate** for booking conversations\n* **$127,000 in direct bookings** attributed to voice agent\n* **Less than 5 min** average session duration\n* **Less than 10%** escalation rate to human agents\n\n## Next Steps\n\n**Ready to deploy?** Download the template files and follow the integration guide.\n",
    "_searchMeta": {
      "cleanContent": "hospitality voice agent template this template provides a complete voice agent for hospitality businesses hotels resorts vacation rentals and bed breakfasts based on the successful cypress resort implementation deployment time: 30-60 minutes template overview agent capabilities: search available rooms by dates and guest count display room details with photos and amenities answer questions about facilities and policies create and confirm reservations provide booking confirmation numbers business impact: increase direct bookings reduce ota dependence 24 7 availability for booking inquiries reduce front desk phone volume capture bookings outside business hours what s included agent personality tone: warm attentive professional like a luxury hotel concierge style rules: greet warmly and detect booking intent early always confirm details before creating reservation speak in complete but concise sentences use we and our to create sense of partnership express genuine enthusiasm about property features sample phrases: i d be delighted to help you find the perfect room let me check availability for you our oceanfront suites are particularly stunning at sunset your reservation is all set core tools search _units search available rooms by check-in check-out dates and guest count api integration: expected api response: get unit details retrieve detailed information about a specific room use case: user asks for more details about a room from search results parameters: unit_id create _reservation book a room for the guest api integration: customization guide update api endpoints replace placeholder urls with your pms or booking system api: cloudbeds opera pms mews roomraccoon custom booking system adjust property details update the prompt with your property s: name and location room types and naming amenities and features policies cancellation check-in times special offers or packages customize tone adjust personality to match your brand: luxury resort elevated refined language beach resort relaxed casual tone business hotel professional efficient boutique hotel personalized intimate add optional tools extend capabilities with additional tools: checkreservationstatus look up existing bookings modify_reservation change dates or room type cancel_reservation handle cancellations sendconfirmationemail email booking details recommended settings session limits: max concurrent sessions: 20 max session duration: 10 minutes idle timeout: 5 minutes rate limits: widget: 12 sessions min daily quota: 300 000 tokens 20 day escalation: cancellations human agent special requests accessibility pets human agent complex group bookings 10 rooms human agent deployment checklist configure pms api credentials in secrets update api endpoints in tool descriptors customize prompt with property name and details test room search with real availability data test reservation creation in development configure widget key for your domain embed widget on booking page test end-to-end booking flow set up monitoring and alerts train staff on handling escalations expected results based on cypress resort case study: metrics after 3 months: 32 of website visitors engage with voice agent 58 completion rate for booking conversations 127 000 in direct bookings attributed to voice agent less than 5 min average session duration less than 10 escalation rate to human agents next steps ready to deploy download the template files and follow the integration guide",
      "headings": [
        "Hospitality Voice Agent Template",
        "Template Overview",
        "What's Included",
        "Agent Personality",
        "Core Tools",
        "Customization Guide",
        "Recommended Settings",
        "Deployment Checklist",
        "Expected Results",
        "Next Steps"
      ],
      "keywords": [
        "hospitality",
        "hotel",
        "booking",
        "reservations",
        "template",
        "Hospitality Voice Agent Template",
        "Template Overview",
        "What's Included",
        "Agent Personality",
        "Core Tools",
        "Customization Guide",
        "Recommended Settings",
        "Deployment Checklist",
        "Expected Results",
        "Next Steps",
        "Deployment Time:",
        "Agent Capabilities:",
        "Business Impact:",
        "Tone:",
        "Style Rules:",
        "Sample Phrases:",
        "API Integration:",
        "Expected API Response:",
        "Use Case:",
        "Parameters:",
        "Session Limits:",
        "Rate Limits:",
        "Escalation:",
        "Metrics After 3 Months:",
        "32% of website visitors",
        "58% completion rate",
        "$127,000 in direct bookings",
        "Less than 5 min",
        "Less than 10%",
        "Ready to deploy?",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_units\",\n  \"description\": \"Search available rooms by dates and guest count\",\n  \"priority\": 10,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"check_in\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-in date (YYYY-MM-DD)\"\n      },\n      \"check_out\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-out date (YYYY-MM-DD)\"\n      },\n      \"guests\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 12,\n        \"description\": \"Number of guests\"\n      }\n    },\n    \"required\": [\"check_in\", \"check_out\", \"guests\"]\n  },\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://your-pms.com/api/units/search?check_in={{args.check_in}}&check_out={{args.check_out}}&guests={{args.guests | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.pms_api_token}}\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Available Rooms\",\n        \"description\": \"{{response.count}} rooms available for your dates\",\n        \"props\": {\n          \"items\": \"{{response.units}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"No Availability\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}",
        "**Expected API Response:**",
        "json\n{\n  \"success\": true,\n  \"count\": 3,\n  \"units\": [\n    {\n      \"id\": \"sunset-suite\",\n      \"name\": \"Sunset Suite\",\n      \"description\": \"Oceanfront suite with private balcony\",\n      \"price\": 225.00,\n      \"image\": \"https://cdn.resort.com/sunset-1.jpg\",\n      \"metadata\": {\n        \"view\": \"Ocean\",\n        \"bed\": \"King\",\n        \"size\": \"450 sq ft\"\n      }\n    }\n  ]\n}",
        "### 2. get\\_unit\\_details\n\nRetrieve detailed information about a specific room.\n\n**Use Case:** User asks for more details about a room from search results\n\n**Parameters:**",
        "### 3. create\\_reservation\n\nBook a room for the guest.\n\n**API Integration:**",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"create_reservation\",\n  \"description\": \"Create a hotel reservation for confirmed dates and guest info\",\n  \"priority\": 9,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"unit_id\": { \"type\": \"string\" },\n      \"check_in\": { \"type\": \"string\", \"format\": \"date\" },\n      \"check_out\": { \"type\": \"string\", \"format\": \"date\" },\n      \"guests\": { \"type\": \"number\" },\n      \"guest_info\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": { \"type\": \"string\" },\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\n          \"phone\": { \"type\": \"string\" }\n        },\n        \"required\": [\"name\", \"email\"]\n      }\n    },\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guests\", \"guest_info\"]\n  },\n  \"http\": {\n    \"method\": \"POST\",\n    \"urlTemplate\": \"https://your-pms.com/api/reservations\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.pms_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"bodyTemplate\": \"{\\\"unit_id\\\": \\\"{{args.unit_id}}\\\", \\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}\",\n    \"okField\": \"success\",\n    \"timeoutMs\": 10000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"booking_confirmation\",\n        \"title\": \"Reservation Confirmed\",\n        \"description\": \"Your booking is all set!\",\n        \"props\": {\n          \"confirmation_number\": \"{{response.confirmation_code}}\",\n          \"guest_name\": \"{{response.guest_name}}\",\n          \"check_in\": \"{{response.check_in}}\",\n          \"check_out\": \"{{response.check_out}}\",\n          \"unit_name\": \"{{response.unit_name}}\",\n          \"total_price\": \"{{response.total_price}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Booking Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}",
        "## Customization Guide\n\n### 1. Update API Endpoints\n\nReplace placeholder URLs with your PMS or booking system API:\n\n* Cloudbeds\n* Opera PMS\n* Mews\n* RoomRaccoon\n* Custom booking system\n\n### 2. Adjust Property Details\n\nUpdate the prompt with your property's:\n\n* Name and location\n* Room types and naming\n* Amenities and features\n* Policies (cancellation, check-in times)\n* Special offers or packages\n\n### 3. Customize Tone\n\nAdjust personality to match your brand:\n\n* Luxury resort → Elevated, refined language\n* Beach resort → Relaxed, casual tone\n* Business hotel → Professional, efficient\n* Boutique hotel → Personalized, intimate\n\n### 4. Add Optional Tools\n\nExtend capabilities with additional tools:\n\n*",
        "— Look up existing bookings\n*",
        "— Change dates or room type\n*",
        "— Handle cancellations\n*"
      ]
    }
  },
  {
    "slug": "/quickstart",
    "title": "Quick Start Templates",
    "description": "Deploy production-ready voice agents with industry-specific templates for hospitality, e-commerce, customer support, and healthcare.",
    "content": "## Quick Start Templates\n\nSkip the design phase and deploy a production-ready voice agent in minutes with industry-specific templates. Each template includes a complete agent configuration: system prompt, HTTP tools, UI components, and recommended settings.\n\nThese templates are based on real-world implementations and proven patterns from successful VOX deployments.\n\n## Available Templates\n\n## How Templates Work\n\nEach template provides:\n\n### 1. Complete System Prompt\n\nPre-written agent personality, tone, style rules, and conversation examples tailored to the industry\n\n### 2. HTTP Tool Descriptors\n\nProduction-ready tool definitions for common operations:\n\n* Search/query tools\n* Booking/order creation tools\n* Status lookup tools\n* Notification tools\n\n### 3. UI Components Configuration\n\nPre-configured components for displaying results, confirmations, and alerts\n\n### 4. Recommended Settings\n\nSuggested rate limits, session durations, and security controls for the use case\n\n### 5. Integration Guide\n\nStep-by-step instructions for connecting your APIs and customizing the template\n\n## Using a Template\n\n### Step 1: Choose Your Industry\n\nSelect the template that best matches your business:\n\n* **Hospitality** — Hotels, resorts, vacation rentals, restaurants\n* **E-Commerce** — Online retail, product marketplaces, subscription services\n* **Customer Support** — Help desk, technical support, customer service\n* **Healthcare** — Clinics, hospitals, dental offices, therapy practices\n\n### Step 2: Download the Configuration\n\nEach template includes downloadable JSON files:\n\n* `agent-prompt.json` — System prompt\n* `http-tools.json` — Tool descriptors\n* `tenant-config.json` — Recommended settings\n\n### Step 3: Connect Your APIs\n\nUpdate tool descriptors with your API endpoints:\n\n1. Replace placeholder URLs with your actual API endpoints\n2. Add your API authentication credentials to `secrets`\n3. Adjust parameter schemas to match your API requirements\n\n### Step 4: Customize the Prompt\n\nTailor the system prompt to your brand:\n\n* Update tone to match your brand voice\n* Add your business-specific policies\n* Include your product/service names\n* Adjust conversation examples\n\n### Step 5: Deploy and Test\n\n1. Create a tenant configuration in the VOX platform\n2. Upload your customized prompt and tools\n3. Generate widget keys for your domain\n4. Test in development environment\n5. Deploy to production\n\n## Customization Tips\n\n## Template Comparison\n\n| Feature | Hospitality | E-Commerce | Support | Healthcare |\n|---------|-------------|------------|---------|------------|\n| **Primary Goal** | Book reservations | Drive sales | Resolve issues | Schedule appointments |\n| **Tone** | Warm, attentive | Helpful, energetic | Patient, solution-focused | Professional, empathetic |\n| **Core Tools** | 3-4 (search, book, confirm) | 3-5 (search, recommend, cart) | 4-6 (lookup, troubleshoot, escalate) | 2-3 (availability, book) |\n| **Session Length** | 3-7 minutes | 4-8 minutes | 5-15 minutes | 2-4 minutes |\n| **Complexity** | Medium | Medium-High | High | Low-Medium |\n\n## What's Included in Each Template\n\n### Agent Prompt Structure\n\n```json\n{\n  \"agent\": {\n    \"name\": \"Agent Name\",\n    \"tenantId\": \"your-tenant-id\",\n    \"tone\": \"Industry-appropriate tone\",\n    \"style_rules\": [\"Industry-specific rules\"],\n    \"capabilities\": {\n      \"tools\": [\"Tool definitions\"]\n    },\n    \"policy\": {\n      \"data_rules\": [\"Never hallucinate\"],\n      \"escalation\": [\"When to escalate\"]\n    },\n    \"dialog_flow\": [\"Greeting\", \"Intent\", \"Execute\", \"Confirm\"],\n    \"response_templates\": {\n      \"greeting\": \"Template\",\n      \"out_of_scope\": \"Template\",\n      \"error\": \"Template\"\n    },\n    \"examples\": [\n      {\n        \"user\": \"Example question\",\n        \"assistant\": \"Example response\"\n      }\n    ]\n  }\n}\n```\n\n### Tool Descriptor Pattern\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"action_name\",\n  \"description\": \"Clear description\",\n  \"priority\": 10,\n  \"parameters\": { /* JSON Schema */ },\n  \"http\": {\n    \"method\": \"GET|POST\",\n    \"urlTemplate\": \"https://your-api.com/endpoint\",\n    \"headers\": { \"authorization\": \"Bearer {{secrets.api_token}}\" },\n    \"okField\": \"success\"\n  },\n  \"ui\": {\n    \"onSuccess\": { /* Component config */ },\n    \"onError\": { /* Component config */ }\n  }\n}\n```\n\n## Support and Customization\n\n**Need help customizing a template?**\n\n* Review the [Agent Design Guide](/voice/agent-design) for customization best practices\n* Use the [Tool Descriptor Playground](/voice/tutorials/tools) to test API integrations\n* Contact support@strategicmachines.ai for implementation assistance\n\n**Want a custom template for your industry?**\n\n* Request custom templates for industries not listed\n* Work with Strategic Machines to build specialized templates\n* Share your successful template with the community\n\n## Next Steps\n\n**Ready to deploy?** Choose your industry template above to get started.\n",
    "_searchMeta": {
      "cleanContent": "quick start templates skip the design phase and deploy a production-ready voice agent in minutes with industry-specific templates each template includes a complete agent configuration: system prompt http tools ui components and recommended settings these templates are based on real-world implementations and proven patterns from successful vox deployments available templates how templates work each template provides: complete system prompt pre-written agent personality tone style rules and conversation examples tailored to the industry http tool descriptors production-ready tool definitions for common operations: search query tools booking order creation tools status lookup tools notification tools ui components configuration pre-configured components for displaying results confirmations and alerts recommended settings suggested rate limits session durations and security controls for the use case integration guide step-by-step instructions for connecting your apis and customizing the template using a template step 1: choose your industry select the template that best matches your business: hospitality hotels resorts vacation rentals restaurants e-commerce online retail product marketplaces subscription services customer support help desk technical support customer service healthcare clinics hospitals dental offices therapy practices step 2: download the configuration each template includes downloadable json files: agent-prompt json system prompt http-tools json tool descriptors tenant-config json recommended settings step 3: connect your apis update tool descriptors with your api endpoints: replace placeholder urls with your actual api endpoints add your api authentication credentials to secrets adjust parameter schemas to match your api requirements step 4: customize the prompt tailor the system prompt to your brand: update tone to match your brand voice add your business-specific policies include your product service names adjust conversation examples step 5: deploy and test create a tenant configuration in the vox platform upload your customized prompt and tools generate widget keys for your domain test in development environment deploy to production customization tips template comparison feature hospitality e-commerce support healthcare--------- ------------- ------------ --------- ------------primary goal book reservations drive sales resolve issues schedule appointmentstone warm attentive helpful energetic patient solution-focused professional empatheticcore tools 3-4 search book confirm 3-5 search recommend cart 4-6 lookup troubleshoot escalate 2-3 availability book session length 3-7 minutes 4-8 minutes 5-15 minutes 2-4 minutescomplexity medium medium-high high low-medium what s included in each template agent prompt structure tool descriptor pattern support and customization need help customizing a template review the agent design guide for customization best practices use the tool descriptor playground to test api integrations contact support strategicmachines ai for implementation assistance want a custom template for your industry request custom templates for industries not listed work with strategic machines to build specialized templates share your successful template with the community next steps ready to deploy choose your industry template above to get started",
      "headings": [
        "Quick Start Templates",
        "Available Templates",
        "How Templates Work",
        "Using a Template",
        "Customization Tips",
        "Template Comparison",
        "What's Included in Each Template",
        "Support and Customization",
        "Next Steps"
      ],
      "keywords": [
        "quick start",
        "templates",
        "industries",
        "pre-built",
        "Quick Start Templates",
        "Available Templates",
        "How Templates Work",
        "Using a Template",
        "Customization Tips",
        "Template Comparison",
        "What's Included in Each Template",
        "Support and Customization",
        "Next Steps",
        "Hospitality",
        "E-Commerce",
        "Customer Support",
        "Healthcare",
        "Primary Goal",
        "Tone",
        "Core Tools",
        "Session Length",
        "Complexity",
        "Need help customizing a template?",
        "Want a custom template for your industry?",
        "Ready to deploy?",
        "agent-prompt.json",
        "http-tools.json",
        "tenant-config.json",
        "secrets",
        "json\n{\n  \"agent\": {\n    \"name\": \"Agent Name\",\n    \"tenantId\": \"your-tenant-id\",\n    \"tone\": \"Industry-appropriate tone\",\n    \"style_rules\": [\"Industry-specific rules\"],\n    \"capabilities\": {\n      \"tools\": [\"Tool definitions\"]\n    },\n    \"policy\": {\n      \"data_rules\": [\"Never hallucinate\"],\n      \"escalation\": [\"When to escalate\"]\n    },\n    \"dialog_flow\": [\"Greeting\", \"Intent\", \"Execute\", \"Confirm\"],\n    \"response_templates\": {\n      \"greeting\": \"Template\",\n      \"out_of_scope\": \"Template\",\n      \"error\": \"Template\"\n    },\n    \"examples\": [\n      {\n        \"user\": \"Example question\",\n        \"assistant\": \"Example response\"\n      }\n    ]\n  }\n}",
        "### Tool Descriptor Pattern",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"action_name\",\n  \"description\": \"Clear description\",\n  \"priority\": 10,\n  \"parameters\": { /* JSON Schema */ },\n  \"http\": {\n    \"method\": \"GET|POST\",\n    \"urlTemplate\": \"https://your-api.com/endpoint\",\n    \"headers\": { \"authorization\": \"Bearer {{secrets.api_token}}\" },\n    \"okField\": \"success\"\n  },\n  \"ui\": {\n    \"onSuccess\": { /* Component config */ },\n    \"onError\": { /* Component config */ }\n  }\n}"
      ]
    }
  },
  {
    "slug": "/quickstart/support",
    "title": "Customer Support Template",
    "description": "Deploy a support voice agent for ticket resolution, troubleshooting, and FAQ automation.",
    "content": "## Customer Support Voice Agent Template\n\nComplete voice agent for customer support teams — ticket resolution, troubleshooting guides, and FAQ automation.\n\n**Deployment Time:** 45-90 minutes\n\n## Agent Capabilities\n\n* Answer frequently asked questions\n* Look up customer accounts and order status\n* Guide through troubleshooting steps\n* Create support tickets for complex issues\n* Escalate to human agents when needed\n\n## Business Impact\n\n* Reduce support ticket volume (40-60%)\n* 24/7 availability for common issues\n* Faster resolution for simple queries\n* Free human agents for complex problems\n\n## Core Tools\n\n### lookup\\_customer\n\nRetrieve customer account details, order history, and support ticket status.\n\n### search\\_kb\n\nSearch knowledge base articles for troubleshooting guides and FAQs.\n\n### create\\_ticket\n\nCreate a support ticket when issue requires human agent attention.\n\n### send\\_reset\\_link\n\nTrigger password reset, verification emails, or other automated actions.\n\n## Agent Personality\n\n**Tone:** Patient, solution-focused, empathetic\n\n**Style:** Clear step-by-step guidance, acknowledges frustration, focuses on resolution\n\n## Customization\n\n1. Connect to your CRM, help desk, or ticketing system\n2. Import FAQ content and knowledge base\n3. Define escalation triggers and workflows\n4. Configure customer data access permissions\n\n## Expected Results\n\n* 40-60% reduction in tier-1 support tickets\n* 5-15 minute average resolution time\n* 70-80% customer satisfaction for automated resolutions\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "customer support voice agent template complete voice agent for customer support teams ticket resolution troubleshooting guides and faq automation deployment time: 45-90 minutes agent capabilities answer frequently asked questions look up customer accounts and order status guide through troubleshooting steps create support tickets for complex issues escalate to human agents when needed business impact reduce support ticket volume 40-60 24 7 availability for common issues faster resolution for simple queries free human agents for complex problems core tools lookup _customer retrieve customer account details order history and support ticket status search _kb search knowledge base articles for troubleshooting guides and faqs create _ticket create a support ticket when issue requires human agent attention send reset link trigger password reset verification emails or other automated actions agent personality tone: patient solution-focused empathetic style: clear step-by-step guidance acknowledges frustration focuses on resolution customization connect to your crm help desk or ticketing system import faq content and knowledge base define escalation triggers and workflows configure customer data access permissions expected results 40-60 reduction in tier-1 support tickets 5-15 minute average resolution time 70-80 customer satisfaction for automated resolutions next steps",
      "headings": [
        "Customer Support Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Customization",
        "Expected Results",
        "Next Steps"
      ],
      "keywords": [
        "support",
        "customer service",
        "helpdesk",
        "troubleshooting",
        "template",
        "Customer Support Voice Agent Template",
        "Agent Capabilities",
        "Business Impact",
        "Core Tools",
        "Agent Personality",
        "Customization",
        "Expected Results",
        "Next Steps",
        "Deployment Time:",
        "Tone:",
        "Style:"
      ]
    }
  },
  {
    "slug": "/random",
    "title": "Introduction",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n## Getting Started\n\nTo begin using the Documentation Template, follow these simple steps:\n\n* Start by cloning the repository to your local machine.\n\nLorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium. Optio, necessitatibus sequi. Veritatis, aspernatur? Possimus quis repellat eum vitae eveniet.\n\n## Blockquotes\n\nBlockquotes are useful for emphasizing key points or quoting external sources:\n\n> \"Documentation is a love letter that you write to your future self.\" - Damian Conway\n\nFeel free to use blockquotes to highlight important information or quotes relevant to your documentation.\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n\n## Conclusion\n\nAdding some random stuff to change the code\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text getting started to begin using the documentation template follow these simple steps: start by cloning the repository to your local machine lorem ipsum dolor sit amet consectetur adipisicing elit reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium optio necessitatibus sequi veritatis aspernatur possimus quis repellat eum vitae eveniet blockquotes blockquotes are useful for emphasizing key points or quoting external sources: documentation is a love letter that you write to your future self - damian conway feel free to use blockquotes to highlight important information or quotes relevant to your documentation code examples with switch here a custom tab component from shadcn ui is used conclusion adding some random stuff to change the code",
      "headings": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ],
      "keywords": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ]
    }
  },
  {
    "slug": "/reference/api",
    "title": "API Reference",
    "description": "Complete REST API reference for the VOX platform including session management, authentication, and monitoring.",
    "content": "## VOX Platform API Reference\n\nThe VOX platform exposes RESTful APIs for session creation, authentication, usage tracking, and real-time monitoring. This reference documents all available endpoints, request/response formats, and security controls.\n\n## Base URL\n\n```\nProduction: https://your-domain.com/api\nDevelopment: http://localhost:3000/api\n```\n\n## Authentication\n\nThe platform supports two authentication modes:\n\n### Widget Authentication (Public)\n\nWidget-based agents authenticate using JWT tokens embedded in widget keys. No user authentication required.\n\n**Headers:**\n\n```http\nContent-Type: application/json\n```\n\n**Widget Key in Request Body:**\n\n```json\n{\n  \"widgetKey\": \"w_cypress_main_7f1b0e9c64f54d1a\"\n}\n```\n\n### Console Authentication (Protected)\n\nConsole users authenticate via OTP and maintain session cookies.\n\n**Headers:**\n\n```http\nContent-Type: application/json\nCookie: tenant_session=<jwt_token>\n```\n\n## Core Endpoints\n\n### Session Management\n\n#### Create Realtime Session\n\nCreates a new voice agent session with OpenAI Realtime API.\n\n**Endpoint:** `POST /api/session`\n\n**Request Body:**\n\n```json\n{\n  \"model\": \"gpt-4o-realtime-preview-2024-12-17\",\n  \"voice\": \"verse\",\n  \"tenantId\": \"cypress-resorts\",\n  \"agentId\": \"concierge\",\n  \"widgetKey\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n  \"tools\": [\n    {\n      \"kind\": \"http_tool\",\n      \"name\": \"search_units\",\n      \"description\": \"Search available rooms\"\n    }\n  ],\n  \"instructions\": \"You are a helpful hotel concierge...\"\n}\n```\n\n**Response (200):**\n\n```json\n{\n  \"id\": \"sess_CXAlw7f1b0e9c64f54d1a\",\n  \"sm_session_id\": \"s:dca6...7621:sess_CXAlw...\",\n  \"client_secret\": {\n    \"value\": \"ey...\",\n    \"expires_at\": 1737654321\n  }\n}\n```\n\n**Response (429 - Rate Limited):**\n\n```json\n{\n  \"error\": \"Too many requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"userMessage\": \"Please wait a moment before starting a new session.\",\n  \"retryAfter\": 60\n}\n```\n\n**Response (403 - Bot Blocked):**\n\n```json\n{\n  \"error\": \"Bot verification failed\",\n  \"code\": \"BOT_BLOCKED\",\n  \"userMessage\": \"We couldn't verify this device. Please refresh and try again.\"\n}\n```\n\n**Response (429 - Concurrent Sessions):**\n\n```json\n{\n  \"error\": \"Too many active sessions\",\n  \"code\": \"MAX_CONCURRENT_SESSIONS\",\n  \"userMessage\": \"You have reached the maximum number of active voice sessions.\"\n}\n```\n\n#### Session Heartbeat\n\nKeeps session alive and enforces duration/idle limits.\n\n**Endpoint:** `POST /api/realtime/heartbeat`\n\n**Request Body:**\n\n```json\n{\n  \"sm_session_id\": \"s:dca6...7621:sess_CXAlw...\",\n  \"email\": \"user@example.com\"\n}\n```\n\n**Response (200):**\n\n```json\n{\n  \"ok\": true,\n  \"session\": {\n    \"active\": true,\n    \"startedAt\": \"2025-01-23T10:00:00Z\",\n    \"lastSeenAt\": \"2025-01-23T10:05:00Z\",\n    \"durationSec\": 300,\n    \"idleSec\": 5\n  }\n}\n```\n\n**Response (403 - Session Exceeded Limits):**\n\n```json\n{\n  \"error\": \"Session limit exceeded\",\n  \"code\": \"SESSION_DURATION_EXCEEDED\",\n  \"userMessage\": \"Your session has reached the maximum duration.\",\n  \"reason\": \"duration_exceeded\",\n  \"maxMinutes\": 15\n}\n```\n\n**Heartbeat Enforcement Rules:**\n\n* Send heartbeat every 45 seconds\n* Session auto-closes if idle > `MAX_SESSION_IDLE_SEC` (default: 300s)\n* Session auto-closes if duration > `MAX_SESSION_MINUTES` (default: 15 min)\n* Session auto-closes if daily quota exceeded\n\n### Authentication\n\n#### Send OTP\n\nInitiates one-time password flow for console authentication.\n\n**Endpoint:** `POST /api/auth/otp/send`\n\n**Request Body:**\n\n```json\n{\n  \"email\": \"user@example.com\"\n}\n```\n\n**Response (200):**\n\n```json\n{\n  \"ok\": true,\n  \"message\": \"OTP sent to user@example.com\",\n  \"expiresIn\": 600\n}\n```\n\n**Response (429):**\n\n```json\n{\n  \"error\": \"Too many OTP requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"retryAfter\": 60\n}\n```\n\n#### Verify OTP\n\nVerifies OTP code and establishes authenticated session.\n\n**Endpoint:** `POST /api/auth/otp/verify`\n\n**Request Body:**\n\n```json\n{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}\n```\n\n**Response (200):**\n\n```json\n{\n  \"ok\": true,\n  \"session\": {\n    \"email\": \"user@example.com\",\n    \"sessionId\": \"auth_7f1b0e9c64f54d1a\",\n    \"expiresAt\": \"2025-01-24T10:00:00Z\"\n  }\n}\n```\n\nSets cookie: `tenant_session=<jwt_token>`\n\n**Response (401):**\n\n```json\n{\n  \"error\": \"Invalid or expired code\",\n  \"code\": \"INVALID_OTP\"\n}\n```\n\n#### Check Session\n\nValidates current authentication session.\n\n**Endpoint:** `GET /api/auth/session`\n\n**Headers:**\n\n```http\nCookie: tenant_session=<jwt_token>\n```\n\n**Response (200):**\n\n```json\n{\n  \"ok\": true,\n  \"email\": \"user@example.com\",\n  \"sessionId\": \"auth_7f1b0e9c64f54d1a\",\n  \"expiresAt\": \"2025-01-24T10:00:00Z\"\n}\n```\n\n**Response (401):**\n\n```json\n{\n  \"ok\": false,\n  \"error\": \"No active session\"\n}\n```\n\n### Usage Tracking\n\n#### Report Usage\n\nReports token and dollar usage for a session.\n\n**Endpoint:** `POST /api/auth/usage`\n\n**Request Body:**\n\n```json\n{\n  \"email\": \"user@example.com\",\n  \"tokens\": 1500,\n  \"dollars\": 0.15\n}\n```\n\n**Response (200):**\n\n```json\n{\n  \"ok\": true,\n  \"usage\": {\n    \"tokens\": 15000,\n    \"dollars\": 1.50,\n    \"dailyTokenLimit\": 150000,\n    \"dailyDollarLimit\": 15.00\n  }\n}\n```\n\n**Response (429 - Quota Exceeded):**\n\n```json\n{\n  \"error\": \"Daily quota exceeded\",\n  \"code\": \"DAILY_QUOTA_EXCEEDED\",\n  \"userMessage\": \"You have reached your daily usage limit.\"\n}\n```\n\n## Rate Limits\n\nThe platform enforces layered rate limiting for security and cost control.\n\n### Edge Rate Limits (Upstash)\n\nApplied at the CDN edge before requests reach the application server.\n\n| Scope | Limit | Window | Environment Variable |\n|-------|-------|--------|---------------------|\n| Per IP | 60 requests | 1 minute | `RATE_IP_PER_MIN` |\n| Per User (Console) | 120 requests | 1 minute | `RATE_USER_PER_MIN` |\n\n**Headers Returned:**\n\n```http\nX-RateLimit-Limit: 60\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1737654321\nRetry-After: 60\n```\n\n### Server Rate Limits (MongoDB)\n\nApplied at the application layer with persistent counters.\n\n| Scope | Widget Limit | Console Limit | Environment Variable |\n|-------|--------------|---------------|---------------------|\n| Sessions per minute | 12 | 3 | `WIDGET_SESSION_PER_MIN`, `CONSOLE_SESSION_PER_MIN` |\n| Daily tokens | 300,000 | 50,000 | `WIDGET_MAX_TOKENS_DAILY`, `CONSOLE_MAX_TOKENS_DAILY` |\n| Daily dollars | $20 | $1 | `WIDGET_MAX_DOLLARS_DAILY`, `CONSOLE_MAX_DOLLARS_DAILY` |\n| Concurrent sessions | 10 | 1 | `WIDGET_MAX_CONCURRENT_SESSIONS`, `CONSOLE_MAX_CONCURRENT_SESSIONS` |\n\n### Session Limits\n\n| Limit | Default | Environment Variable |\n|-------|---------|---------------------|\n| Max session duration | 15 minutes | `MAX_SESSION_MINUTES` |\n| Max idle time | 300 seconds | `MAX_SESSION_IDLE_SEC` |\n\n## Error Codes\n\nAll errors follow this format:\n\n```json\n{\n  \"error\": \"Human-readable error message\",\n  \"code\": \"MACHINE_READABLE_CODE\",\n  \"userMessage\": \"User-friendly explanation\"\n}\n```\n\n### Common Error Codes\n\n| Code | HTTP Status | Meaning | User Action |\n|------|-------------|---------|-------------|\n| `RATE_LIMIT_EXCEEDED` | 429 | Too many requests | Wait and retry |\n| `BOT_BLOCKED` | 403 | Bot detection triggered | Refresh browser |\n| `MAX_CONCURRENT_SESSIONS` | 429 | Too many active sessions | Close existing sessions |\n| `SESSION_DURATION_EXCEEDED` | 403 | Session too long | Start new session |\n| `DAILY_QUOTA_EXCEEDED` | 429 | Usage limit reached | Try again tomorrow |\n| `INVALID_OTP` | 401 | Wrong or expired OTP | Request new code |\n| `INVALID_WIDGET_KEY` | 401 | Widget key invalid | Check configuration |\n| `ORIGIN_MISMATCH` | 403 | Origin doesn't match widget | Update widget origin |\n\n## Security Controls\n\n### Bot Protection\n\nThe platform uses BotID to detect and block automated clients.\n\n**Client Requirements:**\n\n* Include BotID client library\n* Pass BotID headers with requests\n\n**Server Validation:**\n\n```json\n{\n  \"verdict\": {\n    \"isBot\": false,\n    \"isVerifiedBot\": false,\n    \"confidence\": 0.95\n  }\n}\n```\n\n**Blocking Policy:**\n\n* Block if `isBot: true` and `isVerifiedBot: false`\n* Allow verified bots (search engines)\n* Log all bot verdicts for analysis\n\n### CORS Protection\n\nWidget keys enforce strict origin matching.\n\n**Tenant Configuration:**\n\n```json\n{\n  \"widgetKeys\": [\n    {\n      \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n      \"origin\": \"https://cypressresort.vercel.app\",\n      \"revoked\": false\n    }\n  ]\n}\n```\n\n**Validation:**\n\n* Request origin must exactly match widget key origin\n* Wildcards not supported for security\n* Multiple keys supported for multiple domains\n\n### Session Security\n\n**JWT Tokens:**\n\n* Signed with `JWT_SECRET`\n* Include expiration timestamps\n* Auto-cleared on quota/limit violations\n\n**Session Cookies:**\n\n* HTTPOnly (not accessible via JavaScript)\n* Secure (HTTPS only in production)\n* SameSite=Lax (CSRF protection)\n\n## Monitoring & Analytics\n\n### Session States\n\nSessions progress through these states:\n\n| State | Description | Conditions |\n|-------|-------------|------------|\n| Live (Engaged) | Active conversation | `active: true`, `idleSec <= maxIdleSec` |\n| Live (Idle) | Connected but quiet | `active: true`, `idleSec > maxIdleSec` |\n| Stale | Abandoned | `idleSec > staleGraceSec` (1 hour default) |\n| Ended | Explicitly closed | `active: false` |\n\n### MongoDB Collections\n\n**`realtime_sessions`** — Active session registry\n\n```json\n{\n  \"_id\": \"s:<emailHash>:<sessionId>\",\n  \"emailHash\": \"dca6...7621\",\n  \"tenantId\": \"cypress-resorts\",\n  \"agentId\": \"concierge\",\n  \"startedAt\": \"2025-01-23T10:00:00Z\",\n  \"lastSeenAt\": \"2025-01-23T10:05:00Z\",\n  \"active\": true\n}\n```\n\n**`usage_daily`** — Daily quota tracking\n\n```json\n{\n  \"_id\": \"d:<emailHash>:2025-01-23\",\n  \"tokens\": 15000,\n  \"dollars\": 1.50\n}\n```\n\n**`ratelimits`** — Fixed-window counters\n\n```json\n{\n  \"_id\": \"ip:127.0.0.1:29367014\",\n  \"count\": 5,\n  \"windowSec\": 60,\n  \"createdAt\": \"2025-01-23T10:00:00Z\"\n}\n```\n\n## Environment Variables\n\n### Required\n\n```bash\n# Database\nMONGODB_URI=mongodb+srv://...\nDATABASE_NAME=voicedb\n\n# OpenAI\nOPENAI_API_KEY=sk-...\n\n# Security\nJWT_SECRET=<random-secret>\n\n# Transport (for widget embedding)\nTRANSPORT_API_URL=https://your-domain.com/api\n```\n\n### Optional Rate Limits\n\n```bash\n# Edge Limits\nRATE_IP_PER_MIN=60\nRATE_USER_PER_MIN=120\nRATE_BURST=20\n\n# Widget Limits\nWIDGET_SESSION_PER_MIN=12\nWIDGET_MAX_TOKENS_DAILY=300000\nWIDGET_MAX_DOLLARS_DAILY=20\nWIDGET_MAX_CONCURRENT_SESSIONS=10\n\n# Console Limits\nCONSOLE_SESSION_PER_MIN=3\nCONSOLE_MAX_TOKENS_DAILY=50000\nCONSOLE_MAX_DOLLARS_DAILY=1\nCONSOLE_MAX_CONCURRENT_SESSIONS=1\n\n# Session Limits\nMAX_SESSION_MINUTES=15\nMAX_SESSION_IDLE_SEC=300\n\n# Upstash (for edge rate limiting)\nUPSTASH_REDIS_REST_URL=https://...\nUPSTASH_REDIS_REST_TOKEN=...\n```\n\n### Optional Features\n\n```bash\n# Require authentication for all sessions\nREQUIRE_AUTH_FOR_SESSION=false\n\n# Enable debug metrics\nDEBUG_METRICS=false\n```\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "vox platform api reference the vox platform exposes restful apis for session creation authentication usage tracking and real-time monitoring this reference documents all available endpoints request response formats and security controls base url authentication the platform supports two authentication modes: widget authentication public widget-based agents authenticate using jwt tokens embedded in widget keys no user authentication required headers: widget key in request body: console authentication protected console users authenticate via otp and maintain session cookies headers: core endpoints session management create realtime session creates a new voice agent session with openai realtime api endpoint: post api session request body: response 200 : response 429 - rate limited : response 403 - bot blocked : response 429 - concurrent sessions : session heartbeat keeps session alive and enforces duration idle limits endpoint: post api realtime heartbeat request body: response 200 : response 403 - session exceeded limits : heartbeat enforcement rules: send heartbeat every 45 seconds session auto-closes if idle maxsessionidle_sec default: 300s session auto-closes if duration maxsessionminutes default: 15 min session auto-closes if daily quota exceeded authentication send otp initiates one-time password flow for console authentication endpoint: post api auth otp send request body: response 200 : response 429 : verify otp verifies otp code and establishes authenticated session endpoint: post api auth otp verify request body: response 200 : sets cookie: tenantsession jwttoken response 401 : check session validates current authentication session endpoint: get api auth session headers: response 200 : response 401 : usage tracking report usage reports token and dollar usage for a session endpoint: post api auth usage request body: response 200 : response 429 - quota exceeded : rate limits the platform enforces layered rate limiting for security and cost control edge rate limits upstash applied at the cdn edge before requests reach the application server scope limit window environment variable------- ------- -------- ---------------------per ip 60 requests 1 minute rateipper_minper user console 120 requests 1 minute rateuserper_min headers returned: server rate limits mongodb applied at the application layer with persistent counters scope widget limit console limit environment variable------- -------------- --------------- ---------------------sessions per minute 12 3 widgetsessionpermin consolesessionpermindaily tokens 300 000 50 000 widgetmaxtokensdaily consolemaxtokensdailydaily dollars 20 1 widgetmaxdollarsdaily consolemaxdollarsdailyconcurrent sessions 10 1 widgetmaxconcurrentsessions consolemaxconcurrentsessions session limits limit default environment variable------- --------- ---------------------max session duration 15 minutes maxsessionminutesmax idle time 300 seconds maxsessionidle_sec error codes all errors follow this format: common error codes code http status meaning user action------ ------------- --------- -------------ratelimitexceeded 429 too many requests wait and retrybot_blocked 403 bot detection triggered refresh browsermaxconcurrentsessions 429 too many active sessions close existing sessionssessiondurationexceeded 403 session too long start new sessiondailyquotaexceeded 429 usage limit reached try again tomorrowinvalid_otp 401 wrong or expired otp request new codeinvalidwidgetkey 401 widget key invalid check configurationorigin_mismatch 403 origin doesn t match widget update widget origin security controls bot protection the platform uses botid to detect and block automated clients client requirements: include botid client library pass botid headers with requests server validation: blocking policy: block if isbot: true and isverifiedbot: false allow verified bots search engines log all bot verdicts for analysis cors protection widget keys enforce strict origin matching tenant configuration: validation: request origin must exactly match widget key origin wildcards not supported for security multiple keys supported for multiple domains session security jwt tokens: signed with jwt_secret include expiration timestamps auto-cleared on quota limit violations session cookies: httponly not accessible via javascript secure https only in production samesite lax csrf protection monitoring analytics session states sessions progress through these states: state description conditions------- ------------- ------------live engaged active conversation active: true idlesec maxidleseclive idle connected but quiet active: true idlesec maxidlesecstale abandoned idlesec stalegracesec 1 hour default ended explicitly closed active: false mongodb collections realtime_sessions active session registry usage_daily daily quota tracking ratelimits fixed-window counters environment variables required optional rate limits optional features next steps",
      "headings": [
        "VOX Platform API Reference",
        "Base URL",
        "Authentication",
        "Core Endpoints",
        "Rate Limits",
        "Error Codes",
        "Security Controls",
        "Monitoring & Analytics",
        "Environment Variables",
        "Next Steps"
      ],
      "keywords": [
        "API",
        "REST",
        "endpoints",
        "authentication",
        "sessions",
        "VOX Platform API Reference",
        "Base URL",
        "Authentication",
        "Core Endpoints",
        "Rate Limits",
        "Error Codes",
        "Security Controls",
        "Monitoring & Analytics",
        "Environment Variables",
        "Next Steps",
        "Headers:",
        "Widget Key in Request Body:",
        "Endpoint:",
        "Request Body:",
        "Response (200):",
        "Response (429 - Rate Limited):",
        "Response (403 - Bot Blocked):",
        "Response (429 - Concurrent Sessions):",
        "Response (403 - Session Exceeded Limits):",
        "Heartbeat Enforcement Rules:",
        "Response (429):",
        "Response (401):",
        "Response (429 - Quota Exceeded):",
        "Headers Returned:",
        "Client Requirements:",
        "Server Validation:",
        "Blocking Policy:",
        "Tenant Configuration:",
        "Validation:",
        "JWT Tokens:",
        "Session Cookies:",
        "`realtime_sessions`",
        "`usage_daily`",
        "`ratelimits`",
        "Production: https://your-domain.com/api\nDevelopment: http://localhost:3000/api",
        "## Authentication\n\nThe platform supports two authentication modes:\n\n### Widget Authentication (Public)\n\nWidget-based agents authenticate using JWT tokens embedded in widget keys. No user authentication required.\n\n**Headers:**",
        "http\nContent-Type: application/json",
        "**Widget Key in Request Body:**",
        "json\n{\n  \"widgetKey\": \"w_cypress_main_7f1b0e9c64f54d1a\"\n}",
        "### Console Authentication (Protected)\n\nConsole users authenticate via OTP and maintain session cookies.\n\n**Headers:**",
        "http\nContent-Type: application/json\nCookie: tenant_session=<jwt_token>",
        "## Core Endpoints\n\n### Session Management\n\n#### Create Realtime Session\n\nCreates a new voice agent session with OpenAI Realtime API.\n\n**Endpoint:**",
        "**Request Body:**",
        "json\n{\n  \"model\": \"gpt-4o-realtime-preview-2024-12-17\",\n  \"voice\": \"verse\",\n  \"tenantId\": \"cypress-resorts\",\n  \"agentId\": \"concierge\",\n  \"widgetKey\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n  \"tools\": [\n    {\n      \"kind\": \"http_tool\",\n      \"name\": \"search_units\",\n      \"description\": \"Search available rooms\"\n    }\n  ],\n  \"instructions\": \"You are a helpful hotel concierge...\"\n}",
        "**Response (200):**",
        "json\n{\n  \"id\": \"sess_CXAlw7f1b0e9c64f54d1a\",\n  \"sm_session_id\": \"s:dca6...7621:sess_CXAlw...\",\n  \"client_secret\": {\n    \"value\": \"ey...\",\n    \"expires_at\": 1737654321\n  }\n}",
        "**Response (429 - Rate Limited):**",
        "json\n{\n  \"error\": \"Too many requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"userMessage\": \"Please wait a moment before starting a new session.\",\n  \"retryAfter\": 60\n}",
        "**Response (403 - Bot Blocked):**",
        "json\n{\n  \"error\": \"Bot verification failed\",\n  \"code\": \"BOT_BLOCKED\",\n  \"userMessage\": \"We couldn't verify this device. Please refresh and try again.\"\n}",
        "**Response (429 - Concurrent Sessions):**",
        "json\n{\n  \"error\": \"Too many active sessions\",\n  \"code\": \"MAX_CONCURRENT_SESSIONS\",\n  \"userMessage\": \"You have reached the maximum number of active voice sessions.\"\n}",
        "#### Session Heartbeat\n\nKeeps session alive and enforces duration/idle limits.\n\n**Endpoint:**",
        "json\n{\n  \"sm_session_id\": \"s:dca6...7621:sess_CXAlw...\",\n  \"email\": \"user@example.com\"\n}",
        "json\n{\n  \"ok\": true,\n  \"session\": {\n    \"active\": true,\n    \"startedAt\": \"2025-01-23T10:00:00Z\",\n    \"lastSeenAt\": \"2025-01-23T10:05:00Z\",\n    \"durationSec\": 300,\n    \"idleSec\": 5\n  }\n}",
        "**Response (403 - Session Exceeded Limits):**",
        "json\n{\n  \"error\": \"Session limit exceeded\",\n  \"code\": \"SESSION_DURATION_EXCEEDED\",\n  \"userMessage\": \"Your session has reached the maximum duration.\",\n  \"reason\": \"duration_exceeded\",\n  \"maxMinutes\": 15\n}",
        "**Heartbeat Enforcement Rules:**\n\n* Send heartbeat every 45 seconds\n* Session auto-closes if idle >",
        "(default: 300s)\n* Session auto-closes if duration >",
        "(default: 15 min)\n* Session auto-closes if daily quota exceeded\n\n### Authentication\n\n#### Send OTP\n\nInitiates one-time password flow for console authentication.\n\n**Endpoint:**",
        "json\n{\n  \"email\": \"user@example.com\"\n}",
        "json\n{\n  \"ok\": true,\n  \"message\": \"OTP sent to user@example.com\",\n  \"expiresIn\": 600\n}",
        "**Response (429):**",
        "json\n{\n  \"error\": \"Too many OTP requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"retryAfter\": 60\n}",
        "#### Verify OTP\n\nVerifies OTP code and establishes authenticated session.\n\n**Endpoint:**",
        "json\n{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}",
        "json\n{\n  \"ok\": true,\n  \"session\": {\n    \"email\": \"user@example.com\",\n    \"sessionId\": \"auth_7f1b0e9c64f54d1a\",\n    \"expiresAt\": \"2025-01-24T10:00:00Z\"\n  }\n}",
        "Sets cookie:",
        "**Response (401):**",
        "json\n{\n  \"error\": \"Invalid or expired code\",\n  \"code\": \"INVALID_OTP\"\n}",
        "#### Check Session\n\nValidates current authentication session.\n\n**Endpoint:**",
        "**Headers:**",
        "http\nCookie: tenant_session=<jwt_token>",
        "json\n{\n  \"ok\": true,\n  \"email\": \"user@example.com\",\n  \"sessionId\": \"auth_7f1b0e9c64f54d1a\",\n  \"expiresAt\": \"2025-01-24T10:00:00Z\"\n}",
        "json\n{\n  \"ok\": false,\n  \"error\": \"No active session\"\n}",
        "### Usage Tracking\n\n#### Report Usage\n\nReports token and dollar usage for a session.\n\n**Endpoint:**",
        "json\n{\n  \"email\": \"user@example.com\",\n  \"tokens\": 1500,\n  \"dollars\": 0.15\n}",
        "json\n{\n  \"ok\": true,\n  \"usage\": {\n    \"tokens\": 15000,\n    \"dollars\": 1.50,\n    \"dailyTokenLimit\": 150000,\n    \"dailyDollarLimit\": 15.00\n  }\n}",
        "**Response (429 - Quota Exceeded):**",
        "json\n{\n  \"error\": \"Daily quota exceeded\",\n  \"code\": \"DAILY_QUOTA_EXCEEDED\",\n  \"userMessage\": \"You have reached your daily usage limit.\"\n}",
        "## Rate Limits\n\nThe platform enforces layered rate limiting for security and cost control.\n\n### Edge Rate Limits (Upstash)\n\nApplied at the CDN edge before requests reach the application server.\n\n| Scope | Limit | Window | Environment Variable |\n|-------|-------|--------|---------------------|\n| Per IP | 60 requests | 1 minute |",
        "|\n| Per User (Console) | 120 requests | 1 minute |",
        "|\n\n**Headers Returned:**",
        "http\nX-RateLimit-Limit: 60\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1737654321\nRetry-After: 60",
        "### Server Rate Limits (MongoDB)\n\nApplied at the application layer with persistent counters.\n\n| Scope | Widget Limit | Console Limit | Environment Variable |\n|-------|--------------|---------------|---------------------|\n| Sessions per minute | 12 | 3 |",
        ",",
        "|\n| Daily tokens | 300,000 | 50,000 |",
        "|\n| Daily dollars | $20 | $1 |",
        "|\n| Concurrent sessions | 10 | 1 |",
        "|\n\n### Session Limits\n\n| Limit | Default | Environment Variable |\n|-------|---------|---------------------|\n| Max session duration | 15 minutes |",
        "|\n| Max idle time | 300 seconds |",
        "|\n\n## Error Codes\n\nAll errors follow this format:",
        "json\n{\n  \"error\": \"Human-readable error message\",\n  \"code\": \"MACHINE_READABLE_CODE\",\n  \"userMessage\": \"User-friendly explanation\"\n}",
        "### Common Error Codes\n\n| Code | HTTP Status | Meaning | User Action |\n|------|-------------|---------|-------------|\n|",
        "| 429 | Too many requests | Wait and retry |\n|",
        "| 403 | Bot detection triggered | Refresh browser |\n|",
        "| 429 | Too many active sessions | Close existing sessions |\n|",
        "| 403 | Session too long | Start new session |\n|",
        "| 429 | Usage limit reached | Try again tomorrow |\n|",
        "| 401 | Wrong or expired OTP | Request new code |\n|",
        "| 401 | Widget key invalid | Check configuration |\n|",
        "| 403 | Origin doesn't match widget | Update widget origin |\n\n## Security Controls\n\n### Bot Protection\n\nThe platform uses BotID to detect and block automated clients.\n\n**Client Requirements:**\n\n* Include BotID client library\n* Pass BotID headers with requests\n\n**Server Validation:**",
        "json\n{\n  \"verdict\": {\n    \"isBot\": false,\n    \"isVerifiedBot\": false,\n    \"confidence\": 0.95\n  }\n}",
        "**Blocking Policy:**\n\n* Block if",
        "and",
        "* Allow verified bots (search engines)\n* Log all bot verdicts for analysis\n\n### CORS Protection\n\nWidget keys enforce strict origin matching.\n\n**Tenant Configuration:**",
        "json\n{\n  \"widgetKeys\": [\n    {\n      \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n      \"origin\": \"https://cypressresort.vercel.app\",\n      \"revoked\": false\n    }\n  ]\n}",
        "**Validation:**\n\n* Request origin must exactly match widget key origin\n* Wildcards not supported for security\n* Multiple keys supported for multiple domains\n\n### Session Security\n\n**JWT Tokens:**\n\n* Signed with",
        "* Include expiration timestamps\n* Auto-cleared on quota/limit violations\n\n**Session Cookies:**\n\n* HTTPOnly (not accessible via JavaScript)\n* Secure (HTTPS only in production)\n* SameSite=Lax (CSRF protection)\n\n## Monitoring & Analytics\n\n### Session States\n\nSessions progress through these states:\n\n| State | Description | Conditions |\n|-------|-------------|------------|\n| Live (Engaged) | Active conversation |",
        "|\n| Live (Idle) | Connected but quiet |",
        "|\n| Stale | Abandoned |",
        "(1 hour default) |\n| Ended | Explicitly closed |",
        "|\n\n### MongoDB Collections\n\n**",
        "** — Active session registry",
        "json\n{\n  \"_id\": \"s:<emailHash>:<sessionId>\",\n  \"emailHash\": \"dca6...7621\",\n  \"tenantId\": \"cypress-resorts\",\n  \"agentId\": \"concierge\",\n  \"startedAt\": \"2025-01-23T10:00:00Z\",\n  \"lastSeenAt\": \"2025-01-23T10:05:00Z\",\n  \"active\": true\n}",
        "**",
        "** — Daily quota tracking",
        "json\n{\n  \"_id\": \"d:<emailHash>:2025-01-23\",\n  \"tokens\": 15000,\n  \"dollars\": 1.50\n}",
        "** — Fixed-window counters",
        "json\n{\n  \"_id\": \"ip:127.0.0.1:29367014\",\n  \"count\": 5,\n  \"windowSec\": 60,\n  \"createdAt\": \"2025-01-23T10:00:00Z\"\n}",
        "## Environment Variables\n\n### Required",
        "bash\n# Database\nMONGODB_URI=mongodb+srv://...\nDATABASE_NAME=voicedb\n\n# OpenAI\nOPENAI_API_KEY=sk-...\n\n# Security\nJWT_SECRET=<random-secret>\n\n# Transport (for widget embedding)\nTRANSPORT_API_URL=https://your-domain.com/api",
        "### Optional Rate Limits",
        "bash\n# Edge Limits\nRATE_IP_PER_MIN=60\nRATE_USER_PER_MIN=120\nRATE_BURST=20\n\n# Widget Limits\nWIDGET_SESSION_PER_MIN=12\nWIDGET_MAX_TOKENS_DAILY=300000\nWIDGET_MAX_DOLLARS_DAILY=20\nWIDGET_MAX_CONCURRENT_SESSIONS=10\n\n# Console Limits\nCONSOLE_SESSION_PER_MIN=3\nCONSOLE_MAX_TOKENS_DAILY=50000\nCONSOLE_MAX_DOLLARS_DAILY=1\nCONSOLE_MAX_CONCURRENT_SESSIONS=1\n\n# Session Limits\nMAX_SESSION_MINUTES=15\nMAX_SESSION_IDLE_SEC=300\n\n# Upstash (for edge rate limiting)\nUPSTASH_REDIS_REST_URL=https://...\nUPSTASH_REDIS_REST_TOKEN=...",
        "### Optional Features",
        "bash\n# Require authentication for all sessions\nREQUIRE_AUTH_FOR_SESSION=false\n\n# Enable debug metrics\nDEBUG_METRICS=false"
      ]
    }
  },
  {
    "slug": "/reference/components",
    "title": "UI Components Reference",
    "description": "Complete catalog of UI components available for rendering agent tool responses with props, examples, and best practices.",
    "content": "## UI Components Reference\n\nVOX agents can render rich visual components in the conversation interface using the `show_component` core tool or the `ui.onSuccess`/`ui.onError` configuration in HTTP tool descriptors.\n\nThis reference documents all available components, their props, and when to use them.\n\n## Component Catalog\n\n### catalog\\_results\n\nDisplays a grid of items with images, titles, prices, and actions — perfect for product search results or property listings.\n\n**Use Cases:**\n\n* Product search results\n* Room availability listings\n* Property searches\n* Service packages\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `title` | string | No | Section heading |\n| `description` | string | No | Subtitle or context |\n| `items` | array | Yes | Array of item objects |\n| `currency` | string | No | Currency code (USD, EUR, etc.) |\n\n**Item Object Schema:**\n\n```json\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"description\": \"string\",\n  \"price\": \"number\",\n  \"image\": \"url\",\n  \"url\": \"url\",\n  \"metadata\": {\n    \"category\": \"string\",\n    \"rating\": \"number\",\n    \"in_stock\": \"boolean\"\n  }\n}\n```\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"catalog_results\",\n  \"title\": \"Available Drills\",\n  \"description\": \"8 products match your search\",\n  \"props\": {\n    \"items\": [\n      {\n        \"id\": \"drill-123\",\n        \"name\": \"DeWalt 20V MAX Drill\",\n        \"description\": \"Brushless motor, 2 batteries included\",\n        \"price\": 189.99,\n        \"image\": \"https://cdn.shop.com/drill-123.jpg\",\n        \"url\": \"https://shop.com/products/drill-123\",\n        \"metadata\": {\n          \"category\": \"Power Tools\",\n          \"rating\": 4.8,\n          \"in_stock\": true\n        }\n      },\n      {\n        \"id\": \"drill-456\",\n        \"name\": \"Makita 18V LXT Drill\",\n        \"description\": \"Compact, lightweight design\",\n        \"price\": 149.99,\n        \"image\": \"https://cdn.shop.com/drill-456.jpg\",\n        \"url\": \"https://shop.com/products/drill-456\",\n        \"metadata\": {\n          \"category\": \"Power Tools\",\n          \"rating\": 4.6,\n          \"in_stock\": true\n        }\n      }\n    ],\n    \"currency\": \"USD\"\n  }\n}\n```\n\n**Rendered UI:**\n\n```\n┌────────────────────────────────────────┐\n│  Available Drills                      │\n│  8 products match your search          │\n│                                        │\n│  ┌──────┐  ┌──────┐                  │\n│  │ IMG  │  │ IMG  │                  │\n│  └──────┘  └──────┘                  │\n│  DeWalt    Makita                     │\n│  $189.99   $149.99                    │\n│  ★4.8      ★4.6                       │\n│  [View]    [View]                     │\n└────────────────────────────────────────┘\n```\n\n***\n\n### alert\n\nDisplays a message with optional severity styling — use for errors, warnings, or informational messages.\n\n**Use Cases:**\n\n* Error messages\n* Warning notifications\n* Success confirmations\n* Informational tips\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `title` | string | Yes | Alert heading |\n| `description` | string | No | Detailed message |\n| `severity` | string | No | `\"error\"`, `\"warning\"`, `\"info\"`, `\"success\"` |\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"alert\",\n  \"title\": \"Out of Stock\",\n  \"description\": \"This item is currently unavailable, but we have similar options in stock.\",\n  \"props\": {\n    \"severity\": \"warning\"\n  }\n}\n```\n\n**Rendered UI:**\n\n```\n┌────────────────────────────────────────┐\n│  ⚠️ Out of Stock                       │\n│                                        │\n│  This item is currently unavailable,   │\n│  but we have similar options in stock. │\n└────────────────────────────────────────┘\n```\n\n***\n\n### booking\\_confirmation\n\nDisplays a booking or reservation confirmation with details and confirmation number.\n\n**Use Cases:**\n\n* Hotel reservations\n* Appointment confirmations\n* Order confirmations\n* Service bookings\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `confirmation_number` | string | Yes | Unique confirmation code |\n| `title` | string | No | Heading (defaults to \"Reservation Confirmed\") |\n| `guest_name` | string | No | Customer/guest name |\n| `check_in` | string | No | Start date or time |\n| `check_out` | string | No | End date or time |\n| `unit_name` | string | No | Room, table, service name |\n| `total_price` | number | No | Total cost |\n| `currency` | string | No | Currency code |\n| `details` | object | No | Additional key-value details |\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"booking_confirmation\",\n  \"title\": \"Reservation Confirmed\",\n  \"description\": \"Your booking is all set!\",\n  \"props\": {\n    \"confirmation_number\": \"CYP-45782\",\n    \"guest_name\": \"Sarah Johnson\",\n    \"check_in\": \"2025-02-15\",\n    \"check_out\": \"2025-02-17\",\n    \"unit_name\": \"Sunset Suite\",\n    \"total_price\": 450.00,\n    \"currency\": \"USD\",\n    \"details\": {\n      \"Guests\": \"2 adults\",\n      \"View\": \"Ocean View\",\n      \"Bed\": \"King\"\n    }\n  }\n}\n```\n\n**Rendered UI:**\n\n```\n┌────────────────────────────────────────┐\n│  ✓ Reservation Confirmed               │\n│                                        │\n│  Confirmation: CYP-45782               │\n│  Guest: Sarah Johnson                  │\n│                                        │\n│  Check-in:  Feb 15, 2025              │\n│  Check-out: Feb 17, 2025              │\n│  Room:      Sunset Suite               │\n│                                        │\n│  Guests: 2 adults                      │\n│  View:   Ocean View                    │\n│  Bed:    King                          │\n│                                        │\n│  Total: $450.00                        │\n└────────────────────────────────────────┘\n```\n\n***\n\n### property\\_card\n\nDisplays detailed information about a single property, room, or listing with image, amenities, and pricing.\n\n**Use Cases:**\n\n* Hotel room details\n* Rental property listings\n* Venue information\n* Single product spotlight\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `name` | string | Yes | Property/room name |\n| `description` | string | No | Detailed description |\n| `image` | string | No | Primary image URL |\n| `images` | array | No | Array of image URLs |\n| `price` | number | No | Price per unit |\n| `currency` | string | No | Currency code |\n| `amenities` | array | No | List of features/amenities |\n| `url` | string | No | Link to full details |\n| `metadata` | object | No | Additional details |\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"property_card\",\n  \"props\": {\n    \"name\": \"Sunset Suite\",\n    \"description\": \"Luxurious oceanfront suite with private balcony and stunning sunset views\",\n    \"image\": \"https://cdn.resort.com/sunset-suite-1.jpg\",\n    \"images\": [\n      \"https://cdn.resort.com/sunset-suite-1.jpg\",\n      \"https://cdn.resort.com/sunset-suite-2.jpg\",\n      \"https://cdn.resort.com/sunset-suite-3.jpg\"\n    ],\n    \"price\": 225.00,\n    \"currency\": \"USD\",\n    \"amenities\": [\n      \"Ocean View\",\n      \"King Bed\",\n      \"Private Balcony\",\n      \"Jacuzzi Tub\",\n      \"Mini Bar\",\n      \"WiFi\"\n    ],\n    \"url\": \"https://resort.com/rooms/sunset-suite\",\n    \"metadata\": {\n      \"Size\": \"450 sq ft\",\n      \"Max Guests\": \"2 adults\",\n      \"Floor\": \"3rd - 5th\"\n    }\n  }\n}\n```\n\n**Rendered UI:**\n\n```\n┌────────────────────────────────────────┐\n│  ┌────────────────────────────────┐   │\n│  │                                 │   │\n│  │    [Sunset Suite Image]        │   │\n│  │                                 │   │\n│  └────────────────────────────────┘   │\n│                                        │\n│  Sunset Suite              $225/night │\n│                                        │\n│  Luxurious oceanfront suite with      │\n│  private balcony and stunning sunset  │\n│  views                                 │\n│                                        │\n│  ✓ Ocean View    ✓ King Bed           │\n│  ✓ Private Balcony   ✓ Jacuzzi Tub    │\n│  ✓ Mini Bar      ✓ WiFi               │\n│                                        │\n│  Size: 450 sq ft                       │\n│  Max Guests: 2 adults                  │\n│                                        │\n│  [View Full Details]                   │\n└────────────────────────────────────────┘\n```\n\n***\n\n### comparison\\_table\n\nDisplays a side-by-side comparison of options — useful for helping users choose between products or services.\n\n**Use Cases:**\n\n* Product comparisons\n* Pricing tier comparisons\n* Feature comparisons\n* Service level comparisons\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `title` | string | No | Table heading |\n| `columns` | array | Yes | Array of option objects to compare |\n| `rows` | array | Yes | Array of feature/attribute names |\n\n**Column Object:**\n\n```json\n{\n  \"name\": \"string\",\n  \"price\": \"number\",\n  \"highlighted\": \"boolean\",\n  \"values\": {\n    \"feature_name\": \"value\"\n  }\n}\n```\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"comparison_table\",\n  \"title\": \"Compare Drills\",\n  \"props\": {\n    \"columns\": [\n      {\n        \"name\": \"Makita 18V\",\n        \"price\": 149.99,\n        \"highlighted\": false,\n        \"values\": {\n          \"Power\": \"250 UWO\",\n          \"Weight\": \"7.3 lbs\",\n          \"Battery Life\": \"2 hours\",\n          \"Warranty\": \"3 years\"\n        }\n      },\n      {\n        \"name\": \"DeWalt 20V\",\n        \"price\": 189.99,\n        \"highlighted\": true,\n        \"values\": {\n          \"Power\": \"300 UWO\",\n          \"Weight\": \"8.2 lbs\",\n          \"Battery Life\": \"2.5 hours\",\n          \"Warranty\": \"5 years\"\n        }\n      },\n      {\n        \"name\": \"Milwaukee 18V\",\n        \"price\": 219.99,\n        \"highlighted\": false,\n        \"values\": {\n          \"Power\": \"350 UWO\",\n          \"Weight\": \"8.9 lbs\",\n          \"Battery Life\": \"3 hours\",\n          \"Warranty\": \"5 years\"\n        }\n      }\n    ],\n    \"rows\": [\"Power\", \"Weight\", \"Battery Life\", \"Warranty\"]\n  }\n}\n```\n\n**Rendered UI:**\n\n```\n┌────────────────────────────────────────┐\n│  Compare Drills                        │\n│                                        │\n│              Makita  │ DeWalt │ Milw.  │\n│                      │  (⭐)  │        │\n│  ──────────────────────────────────── │\n│  Power       250 UWO │ 300    │ 350    │\n│  Weight      7.3 lbs │ 8.2    │ 8.9    │\n│  Battery     2 hours │ 2.5    │ 3      │\n│  Warranty    3 years │ 5      │ 5      │\n│  ──────────────────────────────────── │\n│  Price       $149.99 │ $189.99│ $219.99│\n└────────────────────────────────────────┘\n```\n\n***\n\n### image\\_gallery\n\nDisplays a collection of images with captions — great for showcasing properties, products, or facilities.\n\n**Use Cases:**\n\n* Property photo tours\n* Product image galleries\n* Facility showcases\n* Before/after comparisons\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n| `title` | string | No | Gallery heading |\n| `images` | array | Yes | Array of image objects |\n\n**Image Object:**\n\n```json\n{\n  \"url\": \"string\",\n  \"caption\": \"string\",\n  \"alt\": \"string\"\n}\n```\n\n**Example:**\n\n```json\n{\n  \"component_name\": \"image_gallery\",\n  \"title\": \"Sunset Suite Photos\",\n  \"props\": {\n    \"images\": [\n      {\n        \"url\": \"https://cdn.resort.com/sunset-1.jpg\",\n        \"caption\": \"Bedroom with ocean view\",\n        \"alt\": \"King bed with floor-to-ceiling windows\"\n      },\n      {\n        \"url\": \"https://cdn.resort.com/sunset-2.jpg\",\n        \"caption\": \"Private balcony\",\n        \"alt\": \"Balcony with lounge chairs\"\n      },\n      {\n        \"url\": \"https://cdn.resort.com/sunset-3.jpg\",\n        \"caption\": \"Luxurious bathroom\",\n        \"alt\": \"Bathroom with jacuzzi tub\"\n      }\n    ]\n  }\n}\n```\n\n***\n\n## Component Selection Guide\n\n## Best Practices\n\n### Component Selection\n\n**Match Component to Context:**\n\n* User searches → `catalog_results`\n* User selects item → `property_card`\n* User asks to compare → `comparison_table`\n* Booking succeeds → `booking_confirmation`\n* Error occurs → `alert`\n\n**Don't Over-Render:**\n\n* Limit to 1-2 components per agent turn\n* Don't show component and then immediately replace it\n* Use components for rich data, plain text for simple responses\n\n### Data Quality\n\n**Always Provide:**\n\n* Clear titles and descriptions\n* High-quality images (if applicable)\n* Complete data (price, availability, etc.)\n\n**Avoid:**\n\n* Broken image URLs\n* Missing required props\n* Inconsistent data structures\n\n### Accessibility\n\n**Include:**\n\n* Alt text for images\n* Clear, descriptive titles\n* Structured data for screen readers\n\n## Template Interpolation\n\nComponents support template interpolation in props:\n\n**From HTTP Tool Response:**\n\n```json\n{\n  \"onSuccess\": {\n    \"open\": {\n      \"component_name\": \"catalog_results\",\n      \"title\": \"Product Results\",\n      \"description\": \"{{response.count}} products match your search\",\n      \"props\": {\n        \"items\": \"{{response.products}}\",\n        \"currency\": \"USD\"\n      }\n    }\n  }\n}\n```\n\n**From Agent Parameters:**\n\n```json\n{\n  \"component_name\": \"alert\",\n  \"title\": \"Searching for {{args.query}}\",\n  \"description\": \"One moment while we find the best matches...\"\n}\n```\n\n## Error Handling\n\nIf a component fails to render (missing required props, invalid data), the platform:\n\n1. Logs the error for debugging\n2. Shows a fallback alert component\n3. Agent conversation continues normally\n\n**Common Rendering Errors:**\n\n* Missing required prop\n* Invalid image URL\n* Malformed data structure\n\n**Prevention:**\n\n* Validate response data before rendering\n* Provide fallback values for optional props\n* Test components with realistic data\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "ui components reference vox agents can render rich visual components in the conversation interface using the show_component core tool or the ui onsuccess ui onerror configuration in http tool descriptors this reference documents all available components their props and when to use them component catalog catalog _results displays a grid of items with images titles prices and actions perfect for product search results or property listings use cases: product search results room availability listings property searches service packages props: prop type required description------ ------ ---------- -------------title string no section headingdescription string no subtitle or contextitems array yes array of item objectscurrency string no currency code usd eur etc item object schema: example: rendered ui: alert displays a message with optional severity styling use for errors warnings or informational messages use cases: error messages warning notifications success confirmations informational tips props: prop type required description------ ------ ---------- -------------title string yes alert headingdescription string no detailed messageseverity string no error warning info success example: rendered ui: booking _confirmation displays a booking or reservation confirmation with details and confirmation number use cases: hotel reservations appointment confirmations order confirmations service bookings props: prop type required description------ ------ ---------- -------------confirmation_number string yes unique confirmation codetitle string no heading defaults to reservation confirmed guest_name string no customer guest namecheck_in string no start date or timecheck_out string no end date or timeunit_name string no room table service nametotal_price number no total costcurrency string no currency codedetails object no additional key-value details example: rendered ui: property _card displays detailed information about a single property room or listing with image amenities and pricing use cases: hotel room details rental property listings venue information single product spotlight props: prop type required description------ ------ ---------- -------------name string yes property room namedescription string no detailed descriptionimage string no primary image urlimages array no array of image urlsprice number no price per unitcurrency string no currency codeamenities array no list of features amenitiesurl string no link to full detailsmetadata object no additional details example: rendered ui: comparison _table displays a side-by-side comparison of options useful for helping users choose between products or services use cases: product comparisons pricing tier comparisons feature comparisons service level comparisons props: prop type required description------ ------ ---------- -------------title string no table headingcolumns array yes array of option objects to comparerows array yes array of feature attribute names column object: example: rendered ui: image _gallery displays a collection of images with captions great for showcasing properties products or facilities use cases: property photo tours product image galleries facility showcases before after comparisons props: prop type required description------ ------ ---------- -------------title string no gallery headingimages array yes array of image objects image object: example: component selection guide best practices component selection match component to context: user searches catalog_results user selects item property_card user asks to compare comparison_table booking succeeds booking_confirmation error occurs alert don t over-render: limit to 1-2 components per agent turn don t show component and then immediately replace it use components for rich data plain text for simple responses data quality always provide: clear titles and descriptions high-quality images if applicable complete data price availability etc avoid: broken image urls missing required props inconsistent data structures accessibility include: alt text for images clear descriptive titles structured data for screen readers template interpolation components support template interpolation in props: from http tool response: from agent parameters: error handling if a component fails to render missing required props invalid data the platform: logs the error for debugging shows a fallback alert component agent conversation continues normally common rendering errors: missing required prop invalid image url malformed data structure prevention: validate response data before rendering provide fallback values for optional props test components with realistic data next steps",
      "headings": [
        "UI Components Reference",
        "Component Catalog",
        "Component Selection Guide",
        "Best Practices",
        "Template Interpolation",
        "Error Handling",
        "Next Steps"
      ],
      "keywords": [
        "UI components",
        "visual",
        "rendering",
        "interface",
        "UI Components Reference",
        "Component Catalog",
        "Component Selection Guide",
        "Best Practices",
        "Template Interpolation",
        "Error Handling",
        "Next Steps",
        "Use Cases:",
        "Props:",
        "Item Object Schema:",
        "Example:",
        "Rendered UI:",
        "### alert\n\nDisplays a message with optional severity styling — use for errors, warnings, or informational messages.",
        "### booking\\_confirmation\n\nDisplays a booking or reservation confirmation with details and confirmation number.",
        "### property\\_card\n\nDisplays detailed information about a single property, room, or listing with image, amenities, and pricing.",
        "### comparison\\_table\n\nDisplays a side-by-side comparison of options — useful for helping users choose between products or services.",
        "Column Object:",
        "### image\\_gallery\n\nDisplays a collection of images with captions — great for showcasing properties, products, or facilities.",
        "Image Object:",
        "## Component Selection Guide\n\n## Best Practices\n\n### Component Selection",
        "Don't Over-Render:",
        "Always Provide:",
        "Avoid:",
        "Include:",
        "From HTTP Tool Response:",
        "From Agent Parameters:",
        "Common Rendering Errors:",
        "Prevention:",
        "show_component",
        "ui.onSuccess",
        "ui.onError",
        "title",
        "description",
        "items",
        "currency",
        "json\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"description\": \"string\",\n  \"price\": \"number\",\n  \"image\": \"url\",\n  \"url\": \"url\",\n  \"metadata\": {\n    \"category\": \"string\",\n    \"rating\": \"number\",\n    \"in_stock\": \"boolean\"\n  }\n}",
        "**Example:**",
        "json\n{\n  \"component_name\": \"catalog_results\",\n  \"title\": \"Available Drills\",\n  \"description\": \"8 products match your search\",\n  \"props\": {\n    \"items\": [\n      {\n        \"id\": \"drill-123\",\n        \"name\": \"DeWalt 20V MAX Drill\",\n        \"description\": \"Brushless motor, 2 batteries included\",\n        \"price\": 189.99,\n        \"image\": \"https://cdn.shop.com/drill-123.jpg\",\n        \"url\": \"https://shop.com/products/drill-123\",\n        \"metadata\": {\n          \"category\": \"Power Tools\",\n          \"rating\": 4.8,\n          \"in_stock\": true\n        }\n      },\n      {\n        \"id\": \"drill-456\",\n        \"name\": \"Makita 18V LXT Drill\",\n        \"description\": \"Compact, lightweight design\",\n        \"price\": 149.99,\n        \"image\": \"https://cdn.shop.com/drill-456.jpg\",\n        \"url\": \"https://shop.com/products/drill-456\",\n        \"metadata\": {\n          \"category\": \"Power Tools\",\n          \"rating\": 4.6,\n          \"in_stock\": true\n        }\n      }\n    ],\n    \"currency\": \"USD\"\n  }\n}",
        "**Rendered UI:**",
        "┌────────────────────────────────────────┐\n│  Available Drills                      │\n│  8 products match your search          │\n│                                        │\n│  ┌──────┐  ┌──────┐                  │\n│  │ IMG  │  │ IMG  │                  │\n│  └──────┘  └──────┘                  │\n│  DeWalt    Makita                     │\n│  $189.99   $149.99                    │\n│  ★4.8      ★4.6                       │\n│  [View]    [View]                     │\n└────────────────────────────────────────┘",
        "***\n\n### alert\n\nDisplays a message with optional severity styling — use for errors, warnings, or informational messages.\n\n**Use Cases:**\n\n* Error messages\n* Warning notifications\n* Success confirmations\n* Informational tips\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n|",
        "| string | Yes | Alert heading |\n|",
        "| string | No | Detailed message |\n|",
        "| string | No |",
        ",",
        "|\n\n**Example:**",
        "json\n{\n  \"component_name\": \"alert\",\n  \"title\": \"Out of Stock\",\n  \"description\": \"This item is currently unavailable, but we have similar options in stock.\",\n  \"props\": {\n    \"severity\": \"warning\"\n  }\n}",
        "┌────────────────────────────────────────┐\n│  ⚠️ Out of Stock                       │\n│                                        │\n│  This item is currently unavailable,   │\n│  but we have similar options in stock. │\n└────────────────────────────────────────┘",
        "***\n\n### booking\\_confirmation\n\nDisplays a booking or reservation confirmation with details and confirmation number.\n\n**Use Cases:**\n\n* Hotel reservations\n* Appointment confirmations\n* Order confirmations\n* Service bookings\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n|",
        "| string | Yes | Unique confirmation code |\n|",
        "| string | No | Heading (defaults to \"Reservation Confirmed\") |\n|",
        "| string | No | Customer/guest name |\n|",
        "| string | No | Start date or time |\n|",
        "| string | No | End date or time |\n|",
        "| string | No | Room, table, service name |\n|",
        "| number | No | Total cost |\n|",
        "| string | No | Currency code |\n|",
        "| object | No | Additional key-value details |\n\n**Example:**",
        "json\n{\n  \"component_name\": \"booking_confirmation\",\n  \"title\": \"Reservation Confirmed\",\n  \"description\": \"Your booking is all set!\",\n  \"props\": {\n    \"confirmation_number\": \"CYP-45782\",\n    \"guest_name\": \"Sarah Johnson\",\n    \"check_in\": \"2025-02-15\",\n    \"check_out\": \"2025-02-17\",\n    \"unit_name\": \"Sunset Suite\",\n    \"total_price\": 450.00,\n    \"currency\": \"USD\",\n    \"details\": {\n      \"Guests\": \"2 adults\",\n      \"View\": \"Ocean View\",\n      \"Bed\": \"King\"\n    }\n  }\n}",
        "┌────────────────────────────────────────┐\n│  ✓ Reservation Confirmed               │\n│                                        │\n│  Confirmation: CYP-45782               │\n│  Guest: Sarah Johnson                  │\n│                                        │\n│  Check-in:  Feb 15, 2025              │\n│  Check-out: Feb 17, 2025              │\n│  Room:      Sunset Suite               │\n│                                        │\n│  Guests: 2 adults                      │\n│  View:   Ocean View                    │\n│  Bed:    King                          │\n│                                        │\n│  Total: $450.00                        │\n└────────────────────────────────────────┘",
        "***\n\n### property\\_card\n\nDisplays detailed information about a single property, room, or listing with image, amenities, and pricing.\n\n**Use Cases:**\n\n* Hotel room details\n* Rental property listings\n* Venue information\n* Single product spotlight\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n|",
        "| string | Yes | Property/room name |\n|",
        "| string | No | Detailed description |\n|",
        "| string | No | Primary image URL |\n|",
        "| array | No | Array of image URLs |\n|",
        "| number | No | Price per unit |\n|",
        "| array | No | List of features/amenities |\n|",
        "| string | No | Link to full details |\n|",
        "| object | No | Additional details |\n\n**Example:**",
        "json\n{\n  \"component_name\": \"property_card\",\n  \"props\": {\n    \"name\": \"Sunset Suite\",\n    \"description\": \"Luxurious oceanfront suite with private balcony and stunning sunset views\",\n    \"image\": \"https://cdn.resort.com/sunset-suite-1.jpg\",\n    \"images\": [\n      \"https://cdn.resort.com/sunset-suite-1.jpg\",\n      \"https://cdn.resort.com/sunset-suite-2.jpg\",\n      \"https://cdn.resort.com/sunset-suite-3.jpg\"\n    ],\n    \"price\": 225.00,\n    \"currency\": \"USD\",\n    \"amenities\": [\n      \"Ocean View\",\n      \"King Bed\",\n      \"Private Balcony\",\n      \"Jacuzzi Tub\",\n      \"Mini Bar\",\n      \"WiFi\"\n    ],\n    \"url\": \"https://resort.com/rooms/sunset-suite\",\n    \"metadata\": {\n      \"Size\": \"450 sq ft\",\n      \"Max Guests\": \"2 adults\",\n      \"Floor\": \"3rd - 5th\"\n    }\n  }\n}",
        "┌────────────────────────────────────────┐\n│  ┌────────────────────────────────┐   │\n│  │                                 │   │\n│  │    [Sunset Suite Image]        │   │\n│  │                                 │   │\n│  └────────────────────────────────┘   │\n│                                        │\n│  Sunset Suite              $225/night │\n│                                        │\n│  Luxurious oceanfront suite with      │\n│  private balcony and stunning sunset  │\n│  views                                 │\n│                                        │\n│  ✓ Ocean View    ✓ King Bed           │\n│  ✓ Private Balcony   ✓ Jacuzzi Tub    │\n│  ✓ Mini Bar      ✓ WiFi               │\n│                                        │\n│  Size: 450 sq ft                       │\n│  Max Guests: 2 adults                  │\n│                                        │\n│  [View Full Details]                   │\n└────────────────────────────────────────┘",
        "***\n\n### comparison\\_table\n\nDisplays a side-by-side comparison of options — useful for helping users choose between products or services.\n\n**Use Cases:**\n\n* Product comparisons\n* Pricing tier comparisons\n* Feature comparisons\n* Service level comparisons\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n|",
        "| string | No | Table heading |\n|",
        "| array | Yes | Array of option objects to compare |\n|",
        "| array | Yes | Array of feature/attribute names |\n\n**Column Object:**",
        "json\n{\n  \"name\": \"string\",\n  \"price\": \"number\",\n  \"highlighted\": \"boolean\",\n  \"values\": {\n    \"feature_name\": \"value\"\n  }\n}",
        "json\n{\n  \"component_name\": \"comparison_table\",\n  \"title\": \"Compare Drills\",\n  \"props\": {\n    \"columns\": [\n      {\n        \"name\": \"Makita 18V\",\n        \"price\": 149.99,\n        \"highlighted\": false,\n        \"values\": {\n          \"Power\": \"250 UWO\",\n          \"Weight\": \"7.3 lbs\",\n          \"Battery Life\": \"2 hours\",\n          \"Warranty\": \"3 years\"\n        }\n      },\n      {\n        \"name\": \"DeWalt 20V\",\n        \"price\": 189.99,\n        \"highlighted\": true,\n        \"values\": {\n          \"Power\": \"300 UWO\",\n          \"Weight\": \"8.2 lbs\",\n          \"Battery Life\": \"2.5 hours\",\n          \"Warranty\": \"5 years\"\n        }\n      },\n      {\n        \"name\": \"Milwaukee 18V\",\n        \"price\": 219.99,\n        \"highlighted\": false,\n        \"values\": {\n          \"Power\": \"350 UWO\",\n          \"Weight\": \"8.9 lbs\",\n          \"Battery Life\": \"3 hours\",\n          \"Warranty\": \"5 years\"\n        }\n      }\n    ],\n    \"rows\": [\"Power\", \"Weight\", \"Battery Life\", \"Warranty\"]\n  }\n}",
        "┌────────────────────────────────────────┐\n│  Compare Drills                        │\n│                                        │\n│              Makita  │ DeWalt │ Milw.  │\n│                      │  (⭐)  │        │\n│  ──────────────────────────────────── │\n│  Power       250 UWO │ 300    │ 350    │\n│  Weight      7.3 lbs │ 8.2    │ 8.9    │\n│  Battery     2 hours │ 2.5    │ 3      │\n│  Warranty    3 years │ 5      │ 5      │\n│  ──────────────────────────────────── │\n│  Price       $149.99 │ $189.99│ $219.99│\n└────────────────────────────────────────┘",
        "***\n\n### image\\_gallery\n\nDisplays a collection of images with captions — great for showcasing properties, products, or facilities.\n\n**Use Cases:**\n\n* Property photo tours\n* Product image galleries\n* Facility showcases\n* Before/after comparisons\n\n**Props:**\n\n| Prop | Type | Required | Description |\n|------|------|----------|-------------|\n|",
        "| string | No | Gallery heading |\n|",
        "| array | Yes | Array of image objects |\n\n**Image Object:**",
        "json\n{\n  \"url\": \"string\",\n  \"caption\": \"string\",\n  \"alt\": \"string\"\n}",
        "json\n{\n  \"component_name\": \"image_gallery\",\n  \"title\": \"Sunset Suite Photos\",\n  \"props\": {\n    \"images\": [\n      {\n        \"url\": \"https://cdn.resort.com/sunset-1.jpg\",\n        \"caption\": \"Bedroom with ocean view\",\n        \"alt\": \"King bed with floor-to-ceiling windows\"\n      },\n      {\n        \"url\": \"https://cdn.resort.com/sunset-2.jpg\",\n        \"caption\": \"Private balcony\",\n        \"alt\": \"Balcony with lounge chairs\"\n      },\n      {\n        \"url\": \"https://cdn.resort.com/sunset-3.jpg\",\n        \"caption\": \"Luxurious bathroom\",\n        \"alt\": \"Bathroom with jacuzzi tub\"\n      }\n    ]\n  }\n}",
        "***\n\n## Component Selection Guide\n\n## Best Practices\n\n### Component Selection\n\n**Match Component to Context:**\n\n* User searches →",
        "* User selects item →",
        "* User asks to compare →",
        "* Booking succeeds →",
        "* Error occurs →",
        "**Don't Over-Render:**\n\n* Limit to 1-2 components per agent turn\n* Don't show component and then immediately replace it\n* Use components for rich data, plain text for simple responses\n\n### Data Quality\n\n**Always Provide:**\n\n* Clear titles and descriptions\n* High-quality images (if applicable)\n* Complete data (price, availability, etc.)\n\n**Avoid:**\n\n* Broken image URLs\n* Missing required props\n* Inconsistent data structures\n\n### Accessibility\n\n**Include:**\n\n* Alt text for images\n* Clear, descriptive titles\n* Structured data for screen readers\n\n## Template Interpolation\n\nComponents support template interpolation in props:\n\n**From HTTP Tool Response:**",
        "json\n{\n  \"onSuccess\": {\n    \"open\": {\n      \"component_name\": \"catalog_results\",\n      \"title\": \"Product Results\",\n      \"description\": \"{{response.count}} products match your search\",\n      \"props\": {\n        \"items\": \"{{response.products}}\",\n        \"currency\": \"USD\"\n      }\n    }\n  }\n}",
        "**From Agent Parameters:**",
        "json\n{\n  \"component_name\": \"alert\",\n  \"title\": \"Searching for {{args.query}}\",\n  \"description\": \"One moment while we find the best matches...\"\n}"
      ]
    }
  },
  {
    "slug": "/reference/coretools",
    "title": "Core Tools Reference",
    "description": "Complete reference for all built-in VOX platform tools available to agents.",
    "content": "## Core Tools Reference\n\nVOX agents have access to a suite of built-in platform tools that provide essential capabilities without requiring custom HTTP integrations. These core tools handle common operations like time queries, web scraping, and UI component rendering.\n\nAll core tools are automatically available to agents — no configuration required.\n\n## Platform Tools\n\n### getCurrentTime\n\nReturns the current date and time for the agent's timezone.\n\n**Purpose:** Enables time-aware responses and date calculations\n\n**Parameters:**\n\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {},\n  \"required\": []\n}\n```\n\n**Returns:**\n\n```json\n{\n  \"currentTime\": \"2025-01-23T14:30:00Z\",\n  \"timezone\": \"America/Chicago\",\n  \"formatted\": \"Thursday, January 23, 2025 at 2:30 PM CST\"\n}\n```\n\n**Example Usage:**\n\n```\nUser: \"Is the restaurant still open?\"\nAgent: Calls getCurrentTime() → 8:45 PM\nAgent: \"The restaurant closes at 9 PM, so yes, you have 15 minutes to order.\"\n```\n\n**When to Use:**\n\n* Scheduling and availability queries\n* Greeting based on time of day\n* Date calculations (days until, time since)\n* Business hours validation\n\n***\n\n### show\\_component\n\nRenders a UI component in the conversation interface.\n\n**Purpose:** Display rich visual content like product catalogs, alerts, booking confirmations\n\n**Parameters:**\n\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"component_name\": {\n      \"type\": \"string\",\n      \"description\": \"Name of the component to render\",\n      \"enum\": [\n        \"catalog_results\",\n        \"alert\",\n        \"booking_confirmation\",\n        \"property_card\",\n        \"comparison_table\",\n        \"image_gallery\"\n      ]\n    },\n    \"props\": {\n      \"type\": \"object\",\n      \"description\": \"Component-specific properties\"\n    }\n  },\n  \"required\": [\"component_name\", \"props\"]\n}\n```\n\n**Returns:**\n\n```json\n{\n  \"success\": true,\n  \"rendered\": true,\n  \"componentId\": \"cmp_abc123\"\n}\n```\n\n**Example Usage:**\n\n```\nAgent calls:\n  show_component({\n    component_name: \"catalog_results\",\n    props: {\n      title: \"Available Drills\",\n      items: [\n        { id: \"1\", name: \"DeWalt 20V\", price: 189.99, image: \"...\" },\n        { id: \"2\", name: \"Makita 18V\", price: 149.99, image: \"...\" }\n      ],\n      currency: \"USD\"\n    }\n  })\n\nUser sees:\n  Visual product cards with images, names, prices\n```\n\n**When to Use:**\n\n* Display search results\n* Show booking confirmations\n* Render alerts or notifications\n* Present comparison tables\n\n**Component Reference:** See [UI Components Reference](/voice/reference/components) for all available components and their props.\n\n***\n\n### scrapeWebsite\n\nFetches and extracts text content from a public URL.\n\n**Purpose:** Retrieve real-time information from websites when APIs aren't available\n\n**Parameters:**\n\n```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"url\": {\n      \"type\": \"string\",\n      \"format\": \"uri\",\n      \"description\": \"Public URL to scrape\"\n    }\n  },\n  \"required\": [\"url\"]\n}\n```\n\n**Returns:**\n\n```json\n{\n  \"success\": true,\n  \"url\": \"https://example.com/page\",\n  \"title\": \"Page Title\",\n  \"content\": \"Extracted text content...\",\n  \"length\": 1500\n}\n```\n\n**Example Usage:**\n\n```\nUser: \"What are your pool hours?\"\nAgent: Calls scrapeWebsite({ url: \"https://resort.com/amenities\" })\nAgent: \"The pool is open daily from 6 AM to 10 PM.\"\n```\n\n**Limitations:**\n\n* Only works on public URLs (no authentication)\n* Returns text content only (no structured data)\n* Subject to rate limits (max 10 requests per session)\n* Not recommended for frequently changing data (use HTTP tools instead)\n\n**When to Use:**\n\n* One-time lookups of public information\n* Fallback when API isn't available\n* FAQ or policy retrieval\n\n**When NOT to Use:**\n\n* Real-time inventory or availability (use HTTP tools)\n* Authenticated content\n* Frequent repeated lookups\n\n***\n\n## Tool Invocation Rules\n\n### Automatic vs Explicit\n\n**Automatic Tools:**\n\n* `getCurrentTime` — Called automatically when time context is needed\n* No need to explicitly prompt \"use getCurrentTime\"\n\n**Explicit Tools:**\n\n* `show_component` — Must be explicitly called in response to user queries\n* `scrapeWebsite` — Called when agent needs external data\n\n### Tool Call Sequencing\n\nAgents can call multiple tools in sequence:\n\n```\nTurn 1:\n  User: \"Show me drills under $200\"\n\n  Agent calls:\n    1. search_products({ query: \"drills\", max_price: 200 })\n    2. show_component({\n         component_name: \"catalog_results\",\n         props: { items: search_results }\n       })\n```\n\n### Error Handling\n\nIf a tool call fails, the agent should gracefully handle it:\n\n```\nTool call: scrapeWebsite({ url: \"https://invalid-url.com\" })\n\nResponse:\n  { \"success\": false, \"error\": \"Failed to fetch URL\" }\n\nAgent should:\n  - Acknowledge the failure\n  - Offer alternative (ask user, try different source)\n  - Never pretend the tool succeeded\n```\n\n## Tool Call Validation\n\nThe platform validates all tool calls before execution:\n\n**Validates:**\n\n* Parameter types match schema\n* Required parameters present\n* Enum values are valid\n* URLs are well-formed\n\n**Rejects with error:**\n\n```json\n{\n  \"error\": \"Invalid tool call\",\n  \"code\": \"INVALID_PARAMETERS\",\n  \"details\": \"Missing required parameter: component_name\"\n}\n```\n\n## Usage Limits\n\nCore tools have usage limits to prevent abuse:\n\n| Tool | Limit | Window | Reason |\n|------|-------|--------|--------|\n| `getCurrentTime` | Unlimited | - | Lightweight |\n| `show_component` | 20 calls | Per session | Prevent UI spam |\n| `scrapeWebsite` | 10 calls | Per session | External rate limits |\n\n## Best Practices\n\n## Custom vs Core Tools\n\n**Use Core Tools When:**\n\n* Functionality is generic (time, UI, public web scraping)\n* No authentication or business logic required\n* Built-in capability meets your needs\n\n**Use HTTP Tools When:**\n\n* Integrating with your own APIs\n* Need authentication or API keys\n* Business-specific operations (inventory, bookings, CRM)\n* Structured data with complex schemas\n\n**Example:**\n\n* ✅ Use `getCurrentTime` for time checks\n* ❌ Don't build a custom HTTP tool for time\n* ✅ Use HTTP tool for your booking API\n* ❌ Don't try to use `scrapeWebsite` for authenticated inventory\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "core tools reference vox agents have access to a suite of built-in platform tools that provide essential capabilities without requiring custom http integrations these core tools handle common operations like time queries web scraping and ui component rendering all core tools are automatically available to agents no configuration required platform tools getcurrenttime returns the current date and time for the agent s timezone purpose: enables time-aware responses and date calculations parameters: returns: example usage: when to use: scheduling and availability queries greeting based on time of day date calculations days until time since business hours validation show _component renders a ui component in the conversation interface purpose: display rich visual content like product catalogs alerts booking confirmations parameters: returns: example usage: when to use: display search results show booking confirmations render alerts or notifications present comparison tables component reference: see ui components reference for all available components and their props scrapewebsite fetches and extracts text content from a public url purpose: retrieve real-time information from websites when apis aren t available parameters: returns: example usage: limitations: only works on public urls no authentication returns text content only no structured data subject to rate limits max 10 requests per session not recommended for frequently changing data use http tools instead when to use: one-time lookups of public information fallback when api isn t available faq or policy retrieval when not to use: real-time inventory or availability use http tools authenticated content frequent repeated lookups tool invocation rules automatic vs explicit automatic tools: getcurrenttime called automatically when time context is needed no need to explicitly prompt use getcurrenttime explicit tools: show_component must be explicitly called in response to user queries scrapewebsite called when agent needs external data tool call sequencing agents can call multiple tools in sequence: error handling if a tool call fails the agent should gracefully handle it: tool call validation the platform validates all tool calls before execution: validates: parameter types match schema required parameters present enum values are valid urls are well-formed rejects with error: usage limits core tools have usage limits to prevent abuse: tool limit window reason------ ------- -------- --------getcurrenttime unlimited - lightweightshow_component 20 calls per session prevent ui spamscrapewebsite 10 calls per session external rate limits best practices custom vs core tools use core tools when: functionality is generic time ui public web scraping no authentication or business logic required built-in capability meets your needs use http tools when: integrating with your own apis need authentication or api keys business-specific operations inventory bookings crm structured data with complex schemas example: use getcurrenttime for time checks don t build a custom http tool for time use http tool for your booking api don t try to use scrapewebsite for authenticated inventory next steps",
      "headings": [
        "Core Tools Reference",
        "Platform Tools",
        "Tool Invocation Rules",
        "Tool Call Validation",
        "Usage Limits",
        "Best Practices",
        "Custom vs Core Tools",
        "Next Steps"
      ],
      "keywords": [
        "core tools",
        "platform tools",
        "built-in",
        "capabilities",
        "Core Tools Reference",
        "Platform Tools",
        "Tool Invocation Rules",
        "Tool Call Validation",
        "Usage Limits",
        "Best Practices",
        "Custom vs Core Tools",
        "Next Steps",
        "Purpose:",
        "Parameters:",
        "Returns:",
        "Example Usage:",
        "When to Use:",
        "### show\\_component\n\nRenders a UI component in the conversation interface.",
        "Display rich visual content like product catalogs, alerts, booking confirmations",
        "```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"component_name\": {\n      \"type\": \"string\",\n      \"description\": \"Name of the component to render\",\n      \"enum\": [\n        \"catalog_results\",\n        \"alert\",\n        \"booking_confirmation\",\n        \"property_card\",\n        \"comparison_table\",\n        \"image_gallery\"\n      ]\n    },\n    \"props\": {\n      \"type\": \"object\",\n      \"description\": \"Component-specific properties\"\n    }\n  },\n  \"required\": [\"component_name\", \"props\"]\n}\n```",
        "```json\n{\n  \"success\": true,\n  \"rendered\": true,\n  \"componentId\": \"cmp_abc123\"\n}\n```",
        "```\nAgent calls:\n  show_component({\n    component_name: \"catalog_results\",\n    props: {\n      title: \"Available Drills\",\n      items: [\n        { id: \"1\", name: \"DeWalt 20V\", price: 189.99, image: \"...\" },\n        { id: \"2\", name: \"Makita 18V\", price: 149.99, image: \"...\" }\n      ],\n      currency: \"USD\"\n    }\n  })\n\nUser sees:\n  Visual product cards with images, names, prices\n```",
        "Component Reference:",
        "### scrapeWebsite\n\nFetches and extracts text content from a public URL.",
        "Retrieve real-time information from websites when APIs aren't available",
        "```json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"url\": {\n      \"type\": \"string\",\n      \"format\": \"uri\",\n      \"description\": \"Public URL to scrape\"\n    }\n  },\n  \"required\": [\"url\"]\n}\n```",
        "```json\n{\n  \"success\": true,\n  \"url\": \"https://example.com/page\",\n  \"title\": \"Page Title\",\n  \"content\": \"Extracted text content...\",\n  \"length\": 1500\n}\n```",
        "```\nUser: \"What are your pool hours?\"\nAgent: Calls scrapeWebsite({ url: \"https://resort.com/amenities\" })\nAgent: \"The pool is open daily from 6 AM to 10 PM.\"\n```",
        "When NOT to Use:",
        "## Tool Invocation Rules\n\n### Automatic vs Explicit",
        "Explicit Tools:",
        "Validates:",
        "Rejects with error:",
        "Use Core Tools When:",
        "Use HTTP Tools When:",
        "Example:",
        "json\n{\n  \"type\": \"object\",\n  \"properties\": {},\n  \"required\": []\n}",
        "**Returns:**",
        "json\n{\n  \"currentTime\": \"2025-01-23T14:30:00Z\",\n  \"timezone\": \"America/Chicago\",\n  \"formatted\": \"Thursday, January 23, 2025 at 2:30 PM CST\"\n}",
        "**Example Usage:**",
        "User: \"Is the restaurant still open?\"\nAgent: Calls getCurrentTime() → 8:45 PM\nAgent: \"The restaurant closes at 9 PM, so yes, you have 15 minutes to order.\"",
        "**When to Use:**\n\n* Scheduling and availability queries\n* Greeting based on time of day\n* Date calculations (days until, time since)\n* Business hours validation\n\n***\n\n### show\\_component\n\nRenders a UI component in the conversation interface.\n\n**Purpose:** Display rich visual content like product catalogs, alerts, booking confirmations\n\n**Parameters:**",
        "json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"component_name\": {\n      \"type\": \"string\",\n      \"description\": \"Name of the component to render\",\n      \"enum\": [\n        \"catalog_results\",\n        \"alert\",\n        \"booking_confirmation\",\n        \"property_card\",\n        \"comparison_table\",\n        \"image_gallery\"\n      ]\n    },\n    \"props\": {\n      \"type\": \"object\",\n      \"description\": \"Component-specific properties\"\n    }\n  },\n  \"required\": [\"component_name\", \"props\"]\n}",
        "json\n{\n  \"success\": true,\n  \"rendered\": true,\n  \"componentId\": \"cmp_abc123\"\n}",
        "Agent calls:\n  show_component({\n    component_name: \"catalog_results\",\n    props: {\n      title: \"Available Drills\",\n      items: [\n        { id: \"1\", name: \"DeWalt 20V\", price: 189.99, image: \"...\" },\n        { id: \"2\", name: \"Makita 18V\", price: 149.99, image: \"...\" }\n      ],\n      currency: \"USD\"\n    }\n  })\n\nUser sees:\n  Visual product cards with images, names, prices",
        "**When to Use:**\n\n* Display search results\n* Show booking confirmations\n* Render alerts or notifications\n* Present comparison tables\n\n**Component Reference:** See [UI Components Reference](/voice/reference/components) for all available components and their props.\n\n***\n\n### scrapeWebsite\n\nFetches and extracts text content from a public URL.\n\n**Purpose:** Retrieve real-time information from websites when APIs aren't available\n\n**Parameters:**",
        "json\n{\n  \"type\": \"object\",\n  \"properties\": {\n    \"url\": {\n      \"type\": \"string\",\n      \"format\": \"uri\",\n      \"description\": \"Public URL to scrape\"\n    }\n  },\n  \"required\": [\"url\"]\n}",
        "json\n{\n  \"success\": true,\n  \"url\": \"https://example.com/page\",\n  \"title\": \"Page Title\",\n  \"content\": \"Extracted text content...\",\n  \"length\": 1500\n}",
        "User: \"What are your pool hours?\"\nAgent: Calls scrapeWebsite({ url: \"https://resort.com/amenities\" })\nAgent: \"The pool is open daily from 6 AM to 10 PM.\"",
        "**Limitations:**\n\n* Only works on public URLs (no authentication)\n* Returns text content only (no structured data)\n* Subject to rate limits (max 10 requests per session)\n* Not recommended for frequently changing data (use HTTP tools instead)\n\n**When to Use:**\n\n* One-time lookups of public information\n* Fallback when API isn't available\n* FAQ or policy retrieval\n\n**When NOT to Use:**\n\n* Real-time inventory or availability (use HTTP tools)\n* Authenticated content\n* Frequent repeated lookups\n\n***\n\n## Tool Invocation Rules\n\n### Automatic vs Explicit\n\n**Automatic Tools:**\n\n*",
        "— Called automatically when time context is needed\n* No need to explicitly prompt \"use getCurrentTime\"\n\n**Explicit Tools:**\n\n*",
        "— Must be explicitly called in response to user queries\n*",
        "— Called when agent needs external data\n\n### Tool Call Sequencing\n\nAgents can call multiple tools in sequence:",
        "Turn 1:\n  User: \"Show me drills under $200\"\n\n  Agent calls:\n    1. search_products({ query: \"drills\", max_price: 200 })\n    2. show_component({\n         component_name: \"catalog_results\",\n         props: { items: search_results }\n       })",
        "### Error Handling\n\nIf a tool call fails, the agent should gracefully handle it:",
        "Tool call: scrapeWebsite({ url: \"https://invalid-url.com\" })\n\nResponse:\n  { \"success\": false, \"error\": \"Failed to fetch URL\" }\n\nAgent should:\n  - Acknowledge the failure\n  - Offer alternative (ask user, try different source)\n  - Never pretend the tool succeeded",
        "## Tool Call Validation\n\nThe platform validates all tool calls before execution:\n\n**Validates:**\n\n* Parameter types match schema\n* Required parameters present\n* Enum values are valid\n* URLs are well-formed\n\n**Rejects with error:**",
        "json\n{\n  \"error\": \"Invalid tool call\",\n  \"code\": \"INVALID_PARAMETERS\",\n  \"details\": \"Missing required parameter: component_name\"\n}",
        "## Usage Limits\n\nCore tools have usage limits to prevent abuse:\n\n| Tool | Limit | Window | Reason |\n|------|-------|--------|--------|\n|",
        "| Unlimited | - | Lightweight |\n|",
        "| 20 calls | Per session | Prevent UI spam |\n|",
        "| 10 calls | Per session | External rate limits |\n\n## Best Practices\n\n## Custom vs Core Tools\n\n**Use Core Tools When:**\n\n* Functionality is generic (time, UI, public web scraping)\n* No authentication or business logic required\n* Built-in capability meets your needs\n\n**Use HTTP Tools When:**\n\n* Integrating with your own APIs\n* Need authentication or API keys\n* Business-specific operations (inventory, bookings, CRM)\n* Structured data with complex schemas\n\n**Example:**\n\n* ✅ Use",
        "for time checks\n* ❌ Don't build a custom HTTP tool for time\n* ✅ Use HTTP tool for your booking API\n* ❌ Don't try to use"
      ]
    }
  },
  {
    "slug": "/reference/httptools",
    "title": "HTTP Tools Schema",
    "description": "Complete schema reference for building custom HTTP tool descriptors with parameter validation, templating, and UI rendering.",
    "content": "## HTTP Tool Descriptor Schema\n\nHTTP tool descriptors define how your agent integrates with external APIs. This reference documents the complete schema for building tool descriptors with parameter validation, template interpolation, and UI rendering.\n\n## Complete Schema\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"string\",\n  \"description\": \"string\",\n  \"priority\": \"number (1-10)\",\n  \"enabled\": \"boolean\",\n  \"version\": \"number\",\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": { /* JSON Schema */ },\n    \"required\": [\"array of required params\"]\n  },\n  \"http\": {\n    \"method\": \"GET | POST | PUT | DELETE\",\n    \"urlTemplate\": \"string with {{args.*}} placeholders\",\n    \"headers\": { /* key-value with {{secrets.*}} */ },\n    \"bodyTemplate\": \"string (for POST/PUT)\",\n    \"okField\": \"string\",\n    \"timeoutMs\": \"number\",\n    \"pruneEmpty\": \"boolean\"\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"string\",\n        \"title\": \"string\",\n        \"description\": \"string\",\n        \"props\": { /* component-specific */ }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"string\",\n        \"title\": \"string\",\n        \"description\": \"string\"\n      }\n    }\n  }\n}\n```\n\n## Field Reference\n\n### Top-Level Fields\n\n#### `kind` (required)\n\n**Type:** `\"http_tool\"`\n**Description:** Identifies this as an HTTP tool descriptor\n\n```json\n{\n  \"kind\": \"http_tool\"\n}\n```\n\n***\n\n#### `name` (required)\n\n**Type:** `string`\n**Description:** Unique tool identifier used by the agent to invoke the tool\n\n**Rules:**\n\n* Lowercase, snake\\_case\n* Descriptive and action-oriented\n* Unique within the agent's tool set\n\n**Examples:**\n\n* ✅ `search_products`\n* ✅ `create_reservation`\n* ✅ `get_customer_profile`\n* ❌ `tool1` (not descriptive)\n* ❌ `SearchProducts` (not snake\\_case)\n\n```json\n{\n  \"name\": \"search_products\"\n}\n```\n\n***\n\n#### `description` (required)\n\n**Type:** `string`\n**Description:** Clear explanation of what the tool does — guides the agent on when to use it\n\n**Best Practices:**\n\n* Start with an action verb\n* Explain when to use it\n* Include parameter expectations\n\n**Examples:**\n\n```json\n{\n  \"description\": \"Search product catalog by keyword, category, and price range to help users find items\"\n}\n```\n\n***\n\n#### `priority` (optional)\n\n**Type:** `number` (1-10)\n**Default:** `5`\n**Description:** Tool selection priority when multiple tools could apply\n\n**Guidelines:**\n\n* `10` — Critical tools used frequently (search, availability)\n* `5` — Standard tools (details, recommendations)\n* `1` — Rare or fallback tools\n\n```json\n{\n  \"priority\": 10\n}\n```\n\n***\n\n#### `enabled` (optional)\n\n**Type:** `boolean`\n**Default:** `true`\n**Description:** Temporarily disable a tool without removing it\n\n```json\n{\n  \"enabled\": false\n}\n```\n\n***\n\n#### `version` (optional)\n\n**Type:** `number`\n**Default:** `1`\n**Description:** Track tool schema versions for migration management\n\n```json\n{\n  \"version\": 2\n}\n```\n\n***\n\n### `parameters` Object\n\nDefines the tool's input schema using JSON Schema syntax.\n\n#### Structure\n\n```json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"param_name\": {\n        \"type\": \"string | number | boolean | array | object\",\n        \"description\": \"Parameter description\",\n        \"enum\": [\"option1\", \"option2\"],\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"pattern\": \"regex\",\n        \"items\": { /* for arrays */ },\n        \"properties\": { /* for objects */ }\n      }\n    },\n    \"required\": [\"param1\", \"param2\"]\n  }\n}\n```\n\n#### Supported Types\n\n**String:**\n\n```json\n{\n  \"query\": {\n    \"type\": \"string\",\n    \"description\": \"Search keywords\",\n    \"minLength\": 1,\n    \"maxLength\": 100\n  }\n}\n```\n\n**Number:**\n\n```json\n{\n  \"max_price\": {\n    \"type\": \"number\",\n    \"description\": \"Maximum price in dollars\",\n    \"minimum\": 0,\n    \"maximum\": 10000\n  }\n}\n```\n\n**Boolean:**\n\n```json\n{\n  \"in_stock_only\": {\n    \"type\": \"boolean\",\n    \"description\": \"Filter to in-stock items only\"\n  }\n}\n```\n\n**Enum (constrained values):**\n\n```json\n{\n  \"category\": {\n    \"type\": \"string\",\n    \"enum\": [\"drills\", \"saws\", \"fasteners\", \"safety\"],\n    \"description\": \"Product category\"\n  }\n}\n```\n\n**Array:**\n\n```json\n{\n  \"tags\": {\n    \"type\": \"array\",\n    \"items\": {\n      \"type\": \"string\"\n    },\n    \"description\": \"Product tags for filtering\"\n  }\n}\n```\n\n**Object (nested parameters):**\n\n```json\n{\n  \"guest_info\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"name\": { \"type\": \"string\" },\n      \"email\": { \"type\": \"string\", \"format\": \"email\" },\n      \"phone\": { \"type\": \"string\" }\n    },\n    \"required\": [\"name\", \"email\"]\n  }\n}\n```\n\n***\n\n### `http` Object\n\nDefines how to execute the HTTP request.\n\n#### `method` (required)\n\n**Type:** `\"GET\" | \"POST\" | \"PUT\" | \"DELETE\"`\n**Description:** HTTP method for the request\n\n```json\n{\n  \"method\": \"GET\"\n}\n```\n\n***\n\n#### `urlTemplate` (required)\n\n**Type:** `string`\n**Description:** URL with template placeholders for parameter interpolation\n\n**Template Syntax:**\n\n* `{{args.param_name}}` — Insert parameter value\n* `{{args.param_name | filter}}` — Apply type coercion filter\n* `{{secrets.secret_name}}` — Insert secret value (for auth tokens)\n\n**Type Coercion Filters:**\n\n* `| number` — Coerce to number\n* `| json` — JSON stringify\n* `| bool` — Coerce to boolean\n* `| encode` — URL encode (automatic for query params)\n\n**Examples:**\n\n**GET with query parameters:**\n\n```json\n{\n  \"urlTemplate\": \"https://api.shop.com/products?q={{args.query}}&cat={{args.category}}&max={{args.max_price | number}}&limit={{args.limit | number}}\"\n}\n```\n\n**POST to specific resource:**\n\n```json\n{\n  \"urlTemplate\": \"https://api.booking.com/reservations\"\n}\n```\n\n**Dynamic resource IDs:**\n\n```json\n{\n  \"urlTemplate\": \"https://api.crm.com/customers/{{args.customer_id}}\"\n}\n```\n\n**CRITICAL: Always use type coercion for non-string parameters**\n\n```\n❌ {{args.limit}} → might send \"10\" (string)\n✅ {{args.limit | number}} → sends 10 (number)\n```\n\n***\n\n#### `headers` (optional)\n\n**Type:** `object`\n**Description:** HTTP headers with template support for auth tokens\n\n**Common Headers:**\n\n```json\n{\n  \"headers\": {\n    \"authorization\": \"Bearer {{secrets.api_token}}\",\n    \"content-type\": \"application/json\",\n    \"x-api-key\": \"{{secrets.api_key}}\"\n  }\n}\n```\n\n**Never hardcode secrets:**\n\n```\n❌ \"authorization\": \"Bearer sk_live_abc123\"\n✅ \"authorization\": \"Bearer {{secrets.api_token}}\"\n```\n\n***\n\n#### `bodyTemplate` (required for POST/PUT)\n\n**Type:** `string`\n**Description:** Request body with template interpolation\n\n**JSON Body:**\n\n```json\n{\n  \"bodyTemplate\": \"{\\\"query\\\": \\\"{{args.query}}\\\", \\\"filters\\\": {{args.filters | json}}, \\\"limit\\\": {{args.limit | number}}}\"\n}\n```\n\n**Nested Objects:**\n\n```json\n{\n  \"bodyTemplate\": \"{\\\"reservation\\\": {\\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}}\"\n}\n```\n\n**Best Practice:** Use `| json` filter for object/array parameters\n\n***\n\n#### `okField` (required)\n\n**Type:** `string`\n**Description:** Response field path to check for success (used to determine onSuccess vs onError UI)\n\n**Examples:**\n\n**Top-level boolean:**\n\n```json\n{\n  \"okField\": \"success\"\n}\n\n// Response: { \"success\": true, \"data\": [...] }\n// If success === true → onSuccess UI\n// If success === false → onError UI\n```\n\n**Nested field:**\n\n```json\n{\n  \"okField\": \"result.ok\"\n}\n\n// Response: { \"result\": { \"ok\": true } }\n```\n\n**HTTP status as fallback:**\n\n```json\n{\n  \"okField\": \"_status\"\n}\n\n// Uses HTTP status: 2xx → onSuccess, 4xx/5xx → onError\n```\n\n***\n\n#### `timeoutMs` (optional)\n\n**Type:** `number`\n**Default:** `5000`\n**Description:** Request timeout in milliseconds\n\n**Guidelines:**\n\n* Fast queries (search, lookup): 3000-5000ms\n* Mutations (booking, payment): 10000-15000ms\n* Heavy operations: 20000-30000ms (max)\n\n```json\n{\n  \"timeoutMs\": 5000\n}\n```\n\n***\n\n#### `pruneEmpty` (optional)\n\n**Type:** `boolean`\n**Default:** `false`\n**Description:** Remove empty/null parameters from URL query string\n\n```json\n{\n  \"pruneEmpty\": true\n}\n\n// If args.category is undefined:\n// ❌ Without pruneEmpty: ?query=drill&category=&max_price=200\n// ✅ With pruneEmpty: ?query=drill&max_price=200\n```\n\n***\n\n### `ui` Object\n\nDefines how to render responses in the conversation interface.\n\n#### `onSuccess` (required)\n\n**Type:** `object`\n**Description:** UI to display when `okField` is truthy\n\n**Structure:**\n\n```json\n{\n  \"onSuccess\": {\n    \"open\": {\n      \"component_name\": \"catalog_results\",\n      \"title\": \"Search Results\",\n      \"description\": \"{{response.count}} products match your search\",\n      \"props\": {\n        \"items\": \"{{response.products}}\",\n        \"currency\": \"USD\"\n      }\n    }\n  }\n}\n```\n\n**Template Support:**\n\n* `{{response.field}}` — Insert response field value\n* `{{args.param}}` — Echo parameter value\n\n***\n\n#### `onError` (required)\n\n**Type:** `object`\n**Description:** UI to display when `okField` is falsy or request fails\n\n**Structure:**\n\n```json\n{\n  \"onError\": {\n    \"open\": {\n      \"component_name\": \"alert\",\n      \"title\": \"Search Failed\",\n      \"description\": \"{{response.error_message}}\",\n      \"props\": {\n        \"severity\": \"error\"\n      }\n    }\n  }\n}\n```\n\n***\n\n## Complete Examples\n\n### Example 1: Product Search (GET)\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_products\",\n  \"description\": \"Search DIY Warehouse product catalog by keyword, category, and price range\",\n  \"priority\": 10,\n  \"enabled\": true,\n  \"version\": 1,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"query\": {\n        \"type\": \"string\",\n        \"description\": \"Search keywords\"\n      },\n      \"category\": {\n        \"type\": \"string\",\n        \"enum\": [\"drills\", \"saws\", \"fasteners\", \"safety\"],\n        \"description\": \"Product category\"\n      },\n      \"max_price\": {\n        \"type\": \"number\",\n        \"minimum\": 0,\n        \"description\": \"Maximum price in dollars\"\n      },\n      \"limit\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 50,\n        \"description\": \"Max results to return\"\n      }\n    },\n    \"required\": [\"query\"]\n  },\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://api.diywarehouse.com/products/search?q={{args.query}}&cat={{args.category}}&max_price={{args.max_price | number}}&limit={{args.limit | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.diy_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000,\n    \"pruneEmpty\": true\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Product Results\",\n        \"description\": \"{{response.count}} products match your search\",\n        \"props\": {\n          \"items\": \"{{response.products}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Search Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}\n```\n\n### Example 2: Create Booking (POST)\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"create_reservation\",\n  \"description\": \"Book a hotel room for specified dates and guest count\",\n  \"priority\": 9,\n  \"enabled\": true,\n  \"version\": 1,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"unit_id\": {\n        \"type\": \"string\",\n        \"description\": \"Room/unit identifier\"\n      },\n      \"check_in\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-in date (YYYY-MM-DD)\"\n      },\n      \"check_out\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-out date (YYYY-MM-DD)\"\n      },\n      \"guests\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 12,\n        \"description\": \"Number of guests\"\n      },\n      \"guest_info\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": { \"type\": \"string\" },\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\n          \"phone\": { \"type\": \"string\" }\n        },\n        \"required\": [\"name\", \"email\"]\n      }\n    },\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guests\", \"guest_info\"]\n  },\n  \"http\": {\n    \"method\": \"POST\",\n    \"urlTemplate\": \"https://api.resort.com/reservations\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.resort_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"bodyTemplate\": \"{\\\"unit_id\\\": \\\"{{args.unit_id}}\\\", \\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}\",\n    \"okField\": \"success\",\n    \"timeoutMs\": 10000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"booking_confirmation\",\n        \"title\": \"Reservation Confirmed\",\n        \"description\": \"Your booking is confirmed for {{response.check_in}} to {{response.check_out}}\",\n        \"props\": {\n          \"confirmation_number\": \"{{response.confirmation_code}}\",\n          \"unit_name\": \"{{response.unit_name}}\",\n          \"guest_name\": \"{{response.guest_name}}\",\n          \"total_price\": \"{{response.total_price}}\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Booking Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}\n```\n\n## Validation Rules\n\nThe platform validates tool descriptors on deployment:\n\n**Checks:**\n\n* All required fields present\n* `name` is unique\n* `parameters` follows JSON Schema spec\n* `urlTemplate` has no orphaned placeholders\n* `okField` is defined\n* `ui.onSuccess` and `ui.onError` defined\n* Template interpolations use correct syntax\n\n**Common Errors:**\n\n| Error | Cause | Fix |\n|-------|-------|-----|\n| Missing required field | `okField` not defined | Add `\"okField\": \"success\"` |\n| Invalid template | `{{param}}` without `args.` | Change to `{{args.param}}` |\n| Type mismatch | String param used as number | Add `| number` filter |\n| Orphaned placeholder | URL references undefined param | Add param to schema or remove |\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "http tool descriptor schema http tool descriptors define how your agent integrates with external apis this reference documents the complete schema for building tool descriptors with parameter validation template interpolation and ui rendering complete schema field reference top-level fields kind required type: http_tool description: identifies this as an http tool descriptor name required type: string description: unique tool identifier used by the agent to invoke the tool rules: lowercase snake _case descriptive and action-oriented unique within the agent s tool set examples: search_products create_reservation getcustomerprofile tool1 not descriptive searchproducts not snake _case description required type: string description: clear explanation of what the tool does guides the agent on when to use it best practices: start with an action verb explain when to use it include parameter expectations examples: priority optional type: number 1-10 default: 5 description: tool selection priority when multiple tools could apply guidelines: 10 critical tools used frequently search availability 5 standard tools details recommendations 1 rare or fallback tools enabled optional type: boolean default: true description: temporarily disable a tool without removing it version optional type: number default: 1 description: track tool schema versions for migration management parameters object defines the tool s input schema using json schema syntax structure supported types string: number: boolean: enum constrained values : array: object nested parameters : http object defines how to execute the http request method required type: get post put delete description: http method for the request urltemplate required type: string description: url with template placeholders for parameter interpolation template syntax: args param_name insert parameter value args param_name filter apply type coercion filter secrets secret_name insert secret value for auth tokens type coercion filters: number coerce to number json json stringify bool coerce to boolean encode url encode automatic for query params examples: get with query parameters: post to specific resource: dynamic resource ids: critical: always use type coercion for non-string parameters headers optional type: object description: http headers with template support for auth tokens common headers: never hardcode secrets: bodytemplate required for post put type: string description: request body with template interpolation json body: nested objects: best practice: use json filter for object array parameters okfield required type: string description: response field path to check for success used to determine onsuccess vs onerror ui examples: top-level boolean: nested field: http status as fallback: timeoutms optional type: number default: 5000 description: request timeout in milliseconds guidelines: fast queries search lookup : 3000-5000ms mutations booking payment : 10000-15000ms heavy operations: 20000-30000ms max pruneempty optional type: boolean default: false description: remove empty null parameters from url query string ui object defines how to render responses in the conversation interface onsuccess required type: object description: ui to display when okfield is truthy structure: template support: response field insert response field value args param echo parameter value onerror required type: object description: ui to display when okfield is falsy or request fails structure: complete examples example 1: product search get example 2: create booking post validation rules the platform validates tool descriptors on deployment: checks: all required fields present name is unique parameters follows json schema spec urltemplate has no orphaned placeholders okfield is defined ui onsuccess and ui onerror defined template interpolations use correct syntax common errors: error cause fix------- ------- -----missing required field okfield not defined add okfield : success invalid template param without args change to args param type mismatch string param used as number add number filterorphaned placeholder url references undefined param add param to schema or remove next steps",
      "headings": [
        "HTTP Tool Descriptor Schema",
        "Complete Schema",
        "Field Reference",
        "Complete Examples",
        "Validation Rules",
        "Next Steps"
      ],
      "keywords": [
        "HTTP tools",
        "schema",
        "API",
        "integration",
        "tool descriptor",
        "HTTP Tool Descriptor Schema",
        "Complete Schema",
        "Field Reference",
        "Complete Examples",
        "Validation Rules",
        "Next Steps",
        "Type:",
        "Description:",
        "#### `name` (required)",
        "`string`",
        "Unique tool identifier used by the agent to invoke the tool",
        "Examples:",
        "#### `description` (required)",
        "Clear explanation of what the tool does — guides the agent on when to use it",
        "#### `priority` (optional)",
        "`number` (1-10)",
        "`5`",
        "Tool selection priority when multiple tools could apply",
        "#### `enabled` (optional)",
        "`boolean`",
        "`true`",
        "Temporarily disable a tool without removing it\n\n```json\n{\n  \"enabled\": false\n}\n```",
        "Default:",
        "String:",
        "Number:",
        "Boolean:",
        "Enum (constrained values):",
        "Array:",
        "Object (nested parameters):",
        "### `http` Object\n\nDefines how to execute the HTTP request.\n\n#### `method` (required)",
        "`\"GET\" | \"POST\" | \"PUT\" | \"DELETE\"`",
        "HTTP method for the request\n\n```json\n{\n  \"method\": \"GET\"\n}\n```",
        "Template Syntax:",
        "Type Coercion Filters:",
        "GET with query parameters:",
        "POST to specific resource:",
        "Dynamic resource IDs:",
        "CRITICAL: Always use type coercion for non-string parameters",
        "#### `headers` (optional)",
        "`object`",
        "HTTP headers with template support for auth tokens",
        "```json\n{\n  \"headers\": {\n    \"authorization\": \"Bearer {{secrets.api_token}}\",\n    \"content-type\": \"application/json\",\n    \"x-api-key\": \"{{secrets.api_key}}\"\n  }\n}\n```",
        "```\n❌ \"authorization\": \"Bearer sk_live_abc123\"\n✅ \"authorization\": \"Bearer {{secrets.api_token}}\"\n```",
        "JSON Body:",
        "Nested Objects:",
        "Best Practice:",
        "#### `okField` (required)",
        "Response field path to check for success (used to determine onSuccess vs onError UI)",
        "",
        "```json\n{\n  \"okField\": \"success\"\n}\n\n// Response: { \"success\": true, \"data\": [...] }\n// If success === true → onSuccess UI\n// If success === false → onError UI\n```",
        "```json\n{\n  \"okField\": \"result.ok\"\n}\n\n// Response: { \"result\": { \"ok\": true } }\n```",
        "```json\n{\n  \"okField\": \"_status\"\n}\n\n// Uses HTTP status: 2xx → onSuccess, 4xx/5xx → onError\n```",
        "Guidelines:",
        "#### `pruneEmpty` (optional)",
        "`false`",
        "Remove empty/null parameters from URL query string\n\n```json\n{\n  \"pruneEmpty\": true\n}\n\n// If args.category is undefined:\n// ❌ Without pruneEmpty: ?query=drill&category=&max_price=200\n// ✅ With pruneEmpty: ?query=drill&max_price=200\n```",
        "Structure:",
        "Template Support:",
        "#### `onError` (required)",
        "UI to display when `okField` is falsy or request fails",
        "```json\n{\n  \"onError\": {\n    \"open\": {\n      \"component_name\": \"alert\",\n      \"title\": \"Search Failed\",\n      \"description\": \"{{response.error_message}}\",\n      \"props\": {\n        \"severity\": \"error\"\n      }\n    }\n  }\n}\n```",
        "Checks:",
        "Common Errors:",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"string\",\n  \"description\": \"string\",\n  \"priority\": \"number (1-10)\",\n  \"enabled\": \"boolean\",\n  \"version\": \"number\",\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": { /* JSON Schema */ },\n    \"required\": [\"array of required params\"]\n  },\n  \"http\": {\n    \"method\": \"GET | POST | PUT | DELETE\",\n    \"urlTemplate\": \"string with {{args.*}} placeholders\",\n    \"headers\": { /* key-value with {{secrets.*}} */ },\n    \"bodyTemplate\": \"string (for POST/PUT)\",\n    \"okField\": \"string\",\n    \"timeoutMs\": \"number\",\n    \"pruneEmpty\": \"boolean\"\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"string\",\n        \"title\": \"string\",\n        \"description\": \"string\",\n        \"props\": { /* component-specific */ }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"string\",\n        \"title\": \"string\",\n        \"description\": \"string\"\n      }\n    }\n  }\n}",
        "## Field Reference\n\n### Top-Level Fields\n\n####",
        "(required)\n\n**Type:**",
        "**Description:** Identifies this as an HTTP tool descriptor",
        "json\n{\n  \"kind\": \"http_tool\"\n}",
        "***\n\n####",
        "**Description:** Unique tool identifier used by the agent to invoke the tool\n\n**Rules:**\n\n* Lowercase, snake\\_case\n* Descriptive and action-oriented\n* Unique within the agent's tool set\n\n**Examples:**\n\n* ✅",
        "* ✅",
        "* ❌",
        "(not descriptive)\n* ❌",
        "(not snake\\_case)",
        "json\n{\n  \"name\": \"search_products\"\n}",
        "**Description:** Clear explanation of what the tool does — guides the agent on when to use it\n\n**Best Practices:**\n\n* Start with an action verb\n* Explain when to use it\n* Include parameter expectations\n\n**Examples:**",
        "json\n{\n  \"description\": \"Search product catalog by keyword, category, and price range to help users find items\"\n}",
        "(optional)\n\n**Type:**",
        "(1-10)\n**Default:**",
        "**Description:** Tool selection priority when multiple tools could apply\n\n**Guidelines:**\n\n*",
        "— Critical tools used frequently (search, availability)\n*",
        "— Standard tools (details, recommendations)\n*",
        "— Rare or fallback tools",
        "json\n{\n  \"priority\": 10\n}",
        "**Default:**",
        "**Description:** Temporarily disable a tool without removing it",
        "json\n{\n  \"enabled\": false\n}",
        "**Description:** Track tool schema versions for migration management",
        "json\n{\n  \"version\": 2\n}",
        "***\n\n###",
        "Object\n\nDefines the tool's input schema using JSON Schema syntax.\n\n#### Structure",
        "json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"param_name\": {\n        \"type\": \"string | number | boolean | array | object\",\n        \"description\": \"Parameter description\",\n        \"enum\": [\"option1\", \"option2\"],\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"pattern\": \"regex\",\n        \"items\": { /* for arrays */ },\n        \"properties\": { /* for objects */ }\n      }\n    },\n    \"required\": [\"param1\", \"param2\"]\n  }\n}",
        "#### Supported Types\n\n**String:**",
        "json\n{\n  \"query\": {\n    \"type\": \"string\",\n    \"description\": \"Search keywords\",\n    \"minLength\": 1,\n    \"maxLength\": 100\n  }\n}",
        "**Number:**",
        "json\n{\n  \"max_price\": {\n    \"type\": \"number\",\n    \"description\": \"Maximum price in dollars\",\n    \"minimum\": 0,\n    \"maximum\": 10000\n  }\n}",
        "**Boolean:**",
        "json\n{\n  \"in_stock_only\": {\n    \"type\": \"boolean\",\n    \"description\": \"Filter to in-stock items only\"\n  }\n}",
        "**Enum (constrained values):**",
        "json\n{\n  \"category\": {\n    \"type\": \"string\",\n    \"enum\": [\"drills\", \"saws\", \"fasteners\", \"safety\"],\n    \"description\": \"Product category\"\n  }\n}",
        "**Array:**",
        "json\n{\n  \"tags\": {\n    \"type\": \"array\",\n    \"items\": {\n      \"type\": \"string\"\n    },\n    \"description\": \"Product tags for filtering\"\n  }\n}",
        "**Object (nested parameters):**",
        "json\n{\n  \"guest_info\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"name\": { \"type\": \"string\" },\n      \"email\": { \"type\": \"string\", \"format\": \"email\" },\n      \"phone\": { \"type\": \"string\" }\n    },\n    \"required\": [\"name\", \"email\"]\n  }\n}",
        "Object\n\nDefines how to execute the HTTP request.\n\n####",
        "**Description:** HTTP method for the request",
        "json\n{\n  \"method\": \"GET\"\n}",
        "**Description:** URL with template placeholders for parameter interpolation\n\n**Template Syntax:**\n\n*",
        "— Insert parameter value\n*",
        "— Apply type coercion filter\n*",
        "— Insert secret value (for auth tokens)\n\n**Type Coercion Filters:**\n\n*",
        "— Coerce to number\n*",
        "— JSON stringify\n*",
        "— Coerce to boolean\n*",
        "— URL encode (automatic for query params)\n\n**Examples:**\n\n**GET with query parameters:**",
        "json\n{\n  \"urlTemplate\": \"https://api.shop.com/products?q={{args.query}}&cat={{args.category}}&max={{args.max_price | number}}&limit={{args.limit | number}}\"\n}",
        "**POST to specific resource:**",
        "json\n{\n  \"urlTemplate\": \"https://api.booking.com/reservations\"\n}",
        "**Dynamic resource IDs:**",
        "json\n{\n  \"urlTemplate\": \"https://api.crm.com/customers/{{args.customer_id}}\"\n}",
        "**CRITICAL: Always use type coercion for non-string parameters**",
        "❌ {{args.limit}} → might send \"10\" (string)\n✅ {{args.limit | number}} → sends 10 (number)",
        "**Description:** HTTP headers with template support for auth tokens\n\n**Common Headers:**",
        "json\n{\n  \"headers\": {\n    \"authorization\": \"Bearer {{secrets.api_token}}\",\n    \"content-type\": \"application/json\",\n    \"x-api-key\": \"{{secrets.api_key}}\"\n  }\n}",
        "**Never hardcode secrets:**",
        "❌ \"authorization\": \"Bearer sk_live_abc123\"\n✅ \"authorization\": \"Bearer {{secrets.api_token}}\"",
        "(required for POST/PUT)\n\n**Type:**",
        "**Description:** Request body with template interpolation\n\n**JSON Body:**",
        "json\n{\n  \"bodyTemplate\": \"{\\\"query\\\": \\\"{{args.query}}\\\", \\\"filters\\\": {{args.filters | json}}, \\\"limit\\\": {{args.limit | number}}}\"\n}",
        "**Nested Objects:**",
        "json\n{\n  \"bodyTemplate\": \"{\\\"reservation\\\": {\\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}}\"\n}",
        "**Best Practice:** Use",
        "filter for object/array parameters\n\n***\n\n####",
        "**Description:** Response field path to check for success (used to determine onSuccess vs onError UI)\n\n**Examples:**\n\n**Top-level boolean:**",
        "json\n{\n  \"okField\": \"success\"\n}\n\n// Response: { \"success\": true, \"data\": [...] }\n// If success === true → onSuccess UI\n// If success === false → onError UI",
        "**Nested field:**",
        "json\n{\n  \"okField\": \"result.ok\"\n}\n\n// Response: { \"result\": { \"ok\": true } }",
        "**HTTP status as fallback:**",
        "json\n{\n  \"okField\": \"_status\"\n}\n\n// Uses HTTP status: 2xx → onSuccess, 4xx/5xx → onError",
        "**Description:** Request timeout in milliseconds\n\n**Guidelines:**\n\n* Fast queries (search, lookup): 3000-5000ms\n* Mutations (booking, payment): 10000-15000ms\n* Heavy operations: 20000-30000ms (max)",
        "json\n{\n  \"timeoutMs\": 5000\n}",
        "**Description:** Remove empty/null parameters from URL query string",
        "json\n{\n  \"pruneEmpty\": true\n}\n\n// If args.category is undefined:\n// ❌ Without pruneEmpty: ?query=drill&category=&max_price=200\n// ✅ With pruneEmpty: ?query=drill&max_price=200",
        "Object\n\nDefines how to render responses in the conversation interface.\n\n####",
        "**Description:** UI to display when",
        "is truthy\n\n**Structure:**",
        "json\n{\n  \"onSuccess\": {\n    \"open\": {\n      \"component_name\": \"catalog_results\",\n      \"title\": \"Search Results\",\n      \"description\": \"{{response.count}} products match your search\",\n      \"props\": {\n        \"items\": \"{{response.products}}\",\n        \"currency\": \"USD\"\n      }\n    }\n  }\n}",
        "**Template Support:**\n\n*",
        "— Insert response field value\n*",
        "— Echo parameter value\n\n***\n\n####",
        "is falsy or request fails\n\n**Structure:**",
        "json\n{\n  \"onError\": {\n    \"open\": {\n      \"component_name\": \"alert\",\n      \"title\": \"Search Failed\",\n      \"description\": \"{{response.error_message}}\",\n      \"props\": {\n        \"severity\": \"error\"\n      }\n    }\n  }\n}",
        "***\n\n## Complete Examples\n\n### Example 1: Product Search (GET)",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_products\",\n  \"description\": \"Search DIY Warehouse product catalog by keyword, category, and price range\",\n  \"priority\": 10,\n  \"enabled\": true,\n  \"version\": 1,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"query\": {\n        \"type\": \"string\",\n        \"description\": \"Search keywords\"\n      },\n      \"category\": {\n        \"type\": \"string\",\n        \"enum\": [\"drills\", \"saws\", \"fasteners\", \"safety\"],\n        \"description\": \"Product category\"\n      },\n      \"max_price\": {\n        \"type\": \"number\",\n        \"minimum\": 0,\n        \"description\": \"Maximum price in dollars\"\n      },\n      \"limit\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 50,\n        \"description\": \"Max results to return\"\n      }\n    },\n    \"required\": [\"query\"]\n  },\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://api.diywarehouse.com/products/search?q={{args.query}}&cat={{args.category}}&max_price={{args.max_price | number}}&limit={{args.limit | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.diy_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000,\n    \"pruneEmpty\": true\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Product Results\",\n        \"description\": \"{{response.count}} products match your search\",\n        \"props\": {\n          \"items\": \"{{response.products}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Search Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}",
        "### Example 2: Create Booking (POST)",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"create_reservation\",\n  \"description\": \"Book a hotel room for specified dates and guest count\",\n  \"priority\": 9,\n  \"enabled\": true,\n  \"version\": 1,\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"unit_id\": {\n        \"type\": \"string\",\n        \"description\": \"Room/unit identifier\"\n      },\n      \"check_in\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-in date (YYYY-MM-DD)\"\n      },\n      \"check_out\": {\n        \"type\": \"string\",\n        \"format\": \"date\",\n        \"description\": \"Check-out date (YYYY-MM-DD)\"\n      },\n      \"guests\": {\n        \"type\": \"number\",\n        \"minimum\": 1,\n        \"maximum\": 12,\n        \"description\": \"Number of guests\"\n      },\n      \"guest_info\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"name\": { \"type\": \"string\" },\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\n          \"phone\": { \"type\": \"string\" }\n        },\n        \"required\": [\"name\", \"email\"]\n      }\n    },\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guests\", \"guest_info\"]\n  },\n  \"http\": {\n    \"method\": \"POST\",\n    \"urlTemplate\": \"https://api.resort.com/reservations\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.resort_api_token}}\",\n      \"content-type\": \"application/json\"\n    },\n    \"bodyTemplate\": \"{\\\"unit_id\\\": \\\"{{args.unit_id}}\\\", \\\"check_in\\\": \\\"{{args.check_in}}\\\", \\\"check_out\\\": \\\"{{args.check_out}}\\\", \\\"guests\\\": {{args.guests | number}}, \\\"guest_info\\\": {{args.guest_info | json}}}\",\n    \"okField\": \"success\",\n    \"timeoutMs\": 10000\n  },\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"booking_confirmation\",\n        \"title\": \"Reservation Confirmed\",\n        \"description\": \"Your booking is confirmed for {{response.check_in}} to {{response.check_out}}\",\n        \"props\": {\n          \"confirmation_number\": \"{{response.confirmation_code}}\",\n          \"unit_name\": \"{{response.unit_name}}\",\n          \"guest_name\": \"{{response.guest_name}}\",\n          \"total_price\": \"{{response.total_price}}\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Booking Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}",
        "## Validation Rules\n\nThe platform validates tool descriptors on deployment:\n\n**Checks:**\n\n* All required fields present\n*",
        "is unique\n*",
        "follows JSON Schema spec\n*",
        "has no orphaned placeholders\n*",
        "is defined\n*",
        "and",
        "defined\n* Template interpolations use correct syntax\n\n**Common Errors:**\n\n| Error | Cause | Fix |\n|-------|-------|-----|\n| Missing required field |",
        "not defined | Add",
        "|\n| Invalid template |",
        "without",
        "| Change to",
        "|\n| Type mismatch | String param used as number | Add"
      ]
    }
  },
  {
    "slug": "/reference",
    "title": "API Reference",
    "description": "Complete technical reference for the VOX platform APIs, tools, and components.",
    "content": "## VOX Platform Reference Documentation\n\nThis section provides comprehensive technical reference for developers building voice agents on the VOX platform. Use these references when implementing agents, designing tools, or integrating UI components.\n\n## What's in the Reference\n\nThe VOX reference documentation is organized into four main sections, each covering a critical aspect of the platform's technical capabilities.\n\n## Quick Navigation\n\n### For Agent Developers\n\nIf you're building your first voice agent, start with these references:\n\n* **Core Tools** — Learn what's available out-of-the-box\n* **HTTP Tools** — Understand how to connect your APIs\n* **UI Components** — Discover how to render rich visuals\n\n### For API Integrators\n\nIf you're integrating the VOX platform into your application:\n\n* **API Reference** — Session creation, authentication, rate limiting\n* **HTTP Tools** — Tool descriptor schema and templating rules\n\n### For Platform Engineers\n\nIf you're managing multi-tenant deployments:\n\n* **API Reference** — Rate limits, security controls, usage monitoring\n* **HTTP Tools** — Validation rules and error handling\n\n## Reference Conventions\n\nThroughout this documentation, we follow these conventions:\n\n### Required vs Optional\n\n| Notation | Meaning |\n|----------|---------|\n| `fieldName` | Required field |\n| `fieldName?` | Optional field |\n| `fieldName` (default: value) | Has a default value |\n\n### Type Notation\n\n```typescript\nstring          // String value\nnumber          // Numeric value\nboolean         // true or false\nobject          // JSON object\narray           // JSON array\nenum            // One of specified values\npattern         // Must match regex pattern\n```\n\n### HTTP Status Codes\n\n| Code | Meaning | When It Happens |\n|------|---------|-----------------|\n| 200 | Success | Request completed successfully |\n| 400 | Bad Request | Invalid parameters or malformed request |\n| 401 | Unauthorized | Missing or invalid authentication |\n| 403 | Forbidden | Valid auth but insufficient permissions |\n| 429 | Too Many Requests | Rate limit exceeded |\n| 500 | Server Error | Internal platform error |\n\n## Using This Reference\n\n### Code Examples\n\nAll examples are production-ready. Copy and adapt them directly:\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"example_tool\",\n  \"description\": \"Clear description of what this tool does\"\n}\n```\n\n### Templating Syntax\n\nThe platform uses a templating system with this context:\n\n* `args.fieldName` — Access tool parameters\n* `response.fieldName` — Access API response data\n* `secrets.keyName` — Access secure credentials\n* `status` — Access HTTP status code\n\n### Filters\n\nApply type coercion and transformations:\n\n* `args.value | number` — Coerce to number\n* `args.value | bool` — Coerce to boolean\n* `args.value | json` — Pass complex objects\n* `args.value | upper` — Uppercase string\n* `args.value | default('fallback')` — Provide default\n\n## Common Patterns\n\n### Authentication Headers\n\n```json\n{\n  \"headers\": {\n    \"authorization\": \"Bearer {{secrets.api_key}}\",\n    \"content-type\": \"application/json\"\n  }\n}\n```\n\n### Error Handling\n\n```json\n{\n  \"ui\": {\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Operation Failed\",\n        \"description\": \"{{response.message}}\"\n      }\n    }\n  }\n}\n```\n\n### Parameter Validation\n\n```json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"email\": { \"type\": \"string\", \"format\": \"email\" },\n      \"date\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" }\n    },\n    \"required\": [\"email\", \"date\"]\n  }\n}\n```\n\n## Next Steps\n\nChoose the reference section that matches your current task:\n",
    "_searchMeta": {
      "cleanContent": "vox platform reference documentation this section provides comprehensive technical reference for developers building voice agents on the vox platform use these references when implementing agents designing tools or integrating ui components what s in the reference the vox reference documentation is organized into four main sections each covering a critical aspect of the platform s technical capabilities quick navigation for agent developers if you re building your first voice agent start with these references: core tools learn what s available out-of-the-box http tools understand how to connect your apis ui components discover how to render rich visuals for api integrators if you re integrating the vox platform into your application: api reference session creation authentication rate limiting http tools tool descriptor schema and templating rules for platform engineers if you re managing multi-tenant deployments: api reference rate limits security controls usage monitoring http tools validation rules and error handling reference conventions throughout this documentation we follow these conventions: required vs optional notation meaning---------- ---------fieldname required fieldfieldname optional fieldfieldname default: value has a default value type notation http status codes code meaning when it happens------ --------- -----------------200 success request completed successfully400 bad request invalid parameters or malformed request401 unauthorized missing or invalid authentication403 forbidden valid auth but insufficient permissions429 too many requests rate limit exceeded500 server error internal platform error using this reference code examples all examples are production-ready copy and adapt them directly: templating syntax the platform uses a templating system with this context: args fieldname access tool parameters response fieldname access api response data secrets keyname access secure credentials status access http status code filters apply type coercion and transformations: args value number coerce to number args value bool coerce to boolean args value json pass complex objects args value upper uppercase string args value default fallback provide default common patterns authentication headers error handling parameter validation next steps choose the reference section that matches your current task:",
      "headings": [
        "VOX Platform Reference Documentation",
        "What's in the Reference",
        "Quick Navigation",
        "Reference Conventions",
        "Using This Reference",
        "Common Patterns",
        "Next Steps"
      ],
      "keywords": [
        "reference",
        "API",
        "tools",
        "components",
        "technical documentation",
        "VOX Platform Reference Documentation",
        "What's in the Reference",
        "Quick Navigation",
        "Reference Conventions",
        "Using This Reference",
        "Common Patterns",
        "Next Steps",
        "Core Tools",
        "HTTP Tools",
        "UI Components",
        "API Reference",
        "fieldName",
        "fieldName?",
        "typescript\nstring          // String value\nnumber          // Numeric value\nboolean         // true or false\nobject          // JSON object\narray           // JSON array\nenum            // One of specified values\npattern         // Must match regex pattern",
        "### HTTP Status Codes\n\n| Code | Meaning | When It Happens |\n|------|---------|-----------------|\n| 200 | Success | Request completed successfully |\n| 400 | Bad Request | Invalid parameters or malformed request |\n| 401 | Unauthorized | Missing or invalid authentication |\n| 403 | Forbidden | Valid auth but insufficient permissions |\n| 429 | Too Many Requests | Rate limit exceeded |\n| 500 | Server Error | Internal platform error |\n\n## Using This Reference\n\n### Code Examples\n\nAll examples are production-ready. Copy and adapt them directly:",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"example_tool\",\n  \"description\": \"Clear description of what this tool does\"\n}",
        "### Templating Syntax\n\nThe platform uses a templating system with this context:\n\n*",
        "— Access tool parameters\n*",
        "— Access API response data\n*",
        "— Access secure credentials\n*",
        "— Access HTTP status code\n\n### Filters\n\nApply type coercion and transformations:\n\n*",
        "— Coerce to number\n*",
        "— Coerce to boolean\n*",
        "— Pass complex objects\n*",
        "— Uppercase string\n*",
        "— Provide default\n\n## Common Patterns\n\n### Authentication Headers",
        "json\n{\n  \"headers\": {\n    \"authorization\": \"Bearer {{secrets.api_key}}\",\n    \"content-type\": \"application/json\"\n  }\n}",
        "### Error Handling",
        "json\n{\n  \"ui\": {\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Operation Failed\",\n        \"description\": \"{{response.message}}\"\n      }\n    }\n  }\n}",
        "### Parameter Validation",
        "json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"email\": { \"type\": \"string\", \"format\": \"email\" },\n      \"date\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" }\n    },\n    \"required\": [\"email\", \"date\"]\n  }\n}"
      ]
    }
  },
  {
    "slug": "/roi",
    "title": "ROI Analysis",
    "description": "Calculate the business value and return on investment for your voice agent deployment.",
    "content": "## ROI Analysis: Measuring Voice Agent Value\n\nVoice agents deliver measurable business impact. This guide helps you calculate ROI, set realistic targets, and track value over time.\n\n## ROI Calculator Framework\n\n### Input Variables\n\n**Current Costs (Without Voice Agent):**\n\n* Monthly customer service volume (calls, chats, emails)\n* Average handle time per interaction\n* Hourly cost per agent (salary + benefits + overhead)\n* Conversion rate (if e-commerce/sales)\n* Average order value (if applicable)\n\n**Voice Agent Costs:**\n\n* Development/setup (one-time): $5,000-$15,000\n* Monthly hosting and API costs: $500-$2,000\n* Monthly maintenance: $500-$1,000\n\n**Expected Outcomes:**\n\n* Automation rate (% of interactions handled by voice)\n* Conversion lift (% increase in conversion)\n* Average order value increase\n\n### ROI Calculation\n\n```\nMonthly Savings =\n  (Current Volume × Automation Rate × Avg Handle Time × Hourly Cost)\n  - Voice Agent Monthly Cost\n\nRevenue Impact =\n  (Sessions × Conversion Rate Lift × Avg Order Value)\n\nTotal Monthly ROI = Monthly Savings + Revenue Impact\n\nPayback Period =\n  One-Time Setup Cost / Total Monthly ROI\n```\n\n## Real-World Examples\n\n### Example 1: Cypress Resort (Hospitality)\n\n**Before Voice Agent:**\n\n* 800 booking inquiries/month via phone\n* 12 minutes average call duration\n* $25/hour front desk cost\n* 45% phone booking conversion rate\n\n**After Voice Agent (3 months):**\n\n* 32% of website visitors use voice agent\n* 58% voice session completion rate\n* 680 voice-assisted sessions/month\n* $127,000 in direct bookings attributed to voice\n\n**Calculation:**\n\n```\nMonthly Savings:\n  800 calls × 30% automation × 12 min × $25/hour\n  = 800 × 0.30 × 0.2 hours × $25\n  = $1,200/month in reduced phone time\n\nRevenue Impact:\n  680 sessions × 58% completion × $320 avg booking\n  = $126,000/month in bookings\n\nSetup Cost: $8,000\nMonthly Cost: $850 (OpenAI + hosting)\n\nNet Monthly ROI: $126,000 - $850 = $125,150\nPayback Period: $8,000 / $125,150 = 0.06 months (2 days!)\n```\n\n### Example 2: DIY Warehouse (E-Commerce)\n\n**Before Voice Agent:**\n\n* 15,000 monthly website visitors\n* 2.8% conversion rate\n* $87 average order value\n* 420 monthly orders = $36,540 revenue\n\n**After Voice Agent (3 months):**\n\n* 18% of visitors engage with voice agent\n* 23% higher conversion for voice-assisted sessions\n* 31% higher average order value for voice sessions\n\n**Calculation:**\n\n```\nVoice Sessions: 15,000 × 18% = 2,700/month\n\nVoice Conversions: 2,700 × (2.8% × 1.23) = 93 orders\nVoice AOV: $87 × 1.31 = $114\n\nAdditional Revenue: 93 orders × $114 = $10,602/month\n\nSetup Cost: $12,000\nMonthly Cost: $1,200\n\nNet Monthly ROI: $10,602 - $1,200 = $9,402\nPayback Period: $12,000 / $9,402 = 1.3 months\nAnnual ROI: ($9,402 × 12) / $12,000 = 940%\n```\n\n### Example 3: SupportBot (Customer Service)\n\n**Before Voice Agent:**\n\n* 3,500 support tickets/month\n* 45 minutes average resolution time\n* $22/hour support agent cost\n* 60% tier-1 tickets (simple inquiries)\n\n**After Voice Agent:**\n\n* 55% of tier-1 tickets automated\n* 8 minutes average voice resolution\n* 85% customer satisfaction\n\n**Calculation:**\n\n```\nTier-1 Tickets: 3,500 × 60% = 2,100\nAutomated: 2,100 × 55% = 1,155 tickets\n\nTime Saved:\n  1,155 tickets × (45 min - 8 min) = 1,155 × 37 min\n  = 42,735 minutes = 712 hours\n\nMonthly Savings: 712 hours × $22 = $15,664\n\nSetup Cost: $10,000\nMonthly Cost: $1,500\n\nNet Monthly ROI: $15,664 - $1,500 = $14,164\nPayback Period: $10,000 / $14,164 = 0.7 months\nAnnual ROI: ($14,164 × 12) / $10,000 = 1,700%\n```\n\n## Industry Benchmarks\n\n### Hospitality\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Visitor Engagement | 15-20% | 25-35% | 40%+ |\n| Completion Rate | 40-50% | 55-65% | 70%+ |\n| Conversion Lift | 10-15% | 20-30% | 40%+ |\n| Avg Session Duration | 5-8 min | 3-5 min | \\< 3 min |\n| Monthly ROI Multiple | 5-10x | 15-25x | 50x+ |\n\n### E-Commerce\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Visitor Engagement | 10-15% | 15-20% | 25%+ |\n| Conversion Lift | 8-12% | 15-25% | 35%+ |\n| AOV Increase | 5-10% | 15-25% | 30%+ |\n| Cart Abandonment Reduction | 5-8% | 10-15% | 20%+ |\n| Monthly ROI Multiple | 3-5x | 8-15x | 25x+ |\n\n### Customer Support\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Automation Rate | 30-40% | 45-60% | 70%+ |\n| Customer Satisfaction | 3.5-4.0 / 5 | 4.2-4.5 / 5 | 4.7+ / 5 |\n| Avg Resolution Time | 10-12 min | 6-8 min | \\< 5 min |\n| Escalation Rate | 15-20% | 8-12% | \\< 5% |\n| Monthly ROI Multiple | 6-10x | 12-20x | 30x+ |\n\n## Tracking ROI Over Time\n\n### Month 1: Baseline\n\n* Track current metrics before voice agent\n* Document costs and conversion rates\n* Set realistic targets\n\n### Months 2-3: Initial Deployment\n\n* Monitor engagement and completion rates\n* Review session transcripts for improvements\n* Iterate on prompt and tools\n* Calculate preliminary ROI\n\n### Months 4-6: Optimization\n\n* Implement learnings from transcripts\n* A/B test prompt variations\n* Optimize tool performance\n* Measure improvement in key metrics\n\n### Months 7-12: Scale\n\n* Expand agent capabilities based on demand\n* Add advanced features\n* Track long-term trends\n* Report full-year ROI\n\n## ROI Improvement Strategies\n\n## Reporting ROI to Stakeholders\n\n### Monthly Executive Summary\n\n**Template:**\n\n```\nVoice Agent ROI Report - January 2025\n\nKey Metrics:\n- Total Sessions: 2,450 (+12% MoM)\n- Completion Rate: 62% (+5% MoM)\n- Conversions: 380 bookings (+18% MoM)\n- Revenue Impact: $96,000 (+22% MoM)\n\nCosts:\n- Platform: $850\n- Maintenance: $200\n\nNet ROI: $95,000 (112x return)\nCumulative ROI (3 months): $278,000\n\nOptimizations This Month:\n- Reduced avg session duration by 30 seconds\n- Added product comparison tool (+8% conversion)\n- Improved greeting message (+5% engagement)\n\nNext Month Goals:\n- Increase engagement to 35%\n- Test new widget positioning\n- Add FAQ tool for common questions\n```\n\n## Cost-Benefit Scenarios\n\n### Low-Volume Scenario\n\n* 500 sessions/month\n* $500 monthly cost\n* 50% completion rate\n* $150 avg value per completion\n\n**ROI:** 500 × 0.5 × $150 = $37,500 revenue - $500 cost = $37,000/month (74x)\n\n### Medium-Volume Scenario\n\n* 2,000 sessions/month\n* $1,200 monthly cost\n* 60% completion rate\n* $180 avg value per completion\n\n**ROI:** 2,000 × 0.6 × $180 = $216,000 revenue - $1,200 cost = $214,800/month (179x)\n\n### High-Volume Scenario\n\n* 10,000 sessions/month\n* $3,500 monthly cost\n* 65% completion rate\n* $200 avg value per completion\n\n**ROI:** 10,000 × 0.65 × $200 = $1,300,000 revenue - $3,500 cost = $1,296,500/month (370x)\n\n## Beyond Direct ROI\n\n**Intangible Benefits:**\n\n* 24/7 availability (capture after-hours demand)\n* Reduced customer support burden\n* Improved customer experience\n* Brand differentiation\n* Data insights from conversations\n* Scalability without linear cost increase\n\n## Next Steps\n\n**Ready to calculate your ROI?** Use the framework above or contact us for a custom ROI analysis: support@strategicmachines.ai\n",
    "_searchMeta": {
      "cleanContent": "roi analysis: measuring voice agent value voice agents deliver measurable business impact this guide helps you calculate roi set realistic targets and track value over time roi calculator framework input variables current costs without voice agent : monthly customer service volume calls chats emails average handle time per interaction hourly cost per agent salary benefits overhead conversion rate if e-commerce sales average order value if applicable voice agent costs: development setup one-time : 5 000- 15 000 monthly hosting and api costs: 500- 2 000 monthly maintenance: 500- 1 000 expected outcomes: automation rate of interactions handled by voice conversion lift increase in conversion average order value increase roi calculation real-world examples example 1: cypress resort hospitality before voice agent: 800 booking inquiries month via phone 12 minutes average call duration 25 hour front desk cost 45 phone booking conversion rate after voice agent 3 months : 32 of website visitors use voice agent 58 voice session completion rate 680 voice-assisted sessions month 127 000 in direct bookings attributed to voice calculation: example 2: diy warehouse e-commerce before voice agent: 15 000 monthly website visitors 2 8 conversion rate 87 average order value 420 monthly orders 36 540 revenue after voice agent 3 months : 18 of visitors engage with voice agent 23 higher conversion for voice-assisted sessions 31 higher average order value for voice sessions calculation: example 3: supportbot customer service before voice agent: 3 500 support tickets month 45 minutes average resolution time 22 hour support agent cost 60 tier-1 tickets simple inquiries after voice agent: 55 of tier-1 tickets automated 8 minutes average voice resolution 85 customer satisfaction calculation: industry benchmarks hospitality metric conservative target exceptional-------- -------------- -------- -------------visitor engagement 15-20 25-35 40 completion rate 40-50 55-65 70 conversion lift 10-15 20-30 40 avg session duration 5-8 min 3-5 min 3 minmonthly roi multiple 5-10x 15-25x 50x e-commerce metric conservative target exceptional-------- -------------- -------- -------------visitor engagement 10-15 15-20 25 conversion lift 8-12 15-25 35 aov increase 5-10 15-25 30 cart abandonment reduction 5-8 10-15 20 monthly roi multiple 3-5x 8-15x 25x customer support metric conservative target exceptional-------- -------------- -------- -------------automation rate 30-40 45-60 70 customer satisfaction 3 5-4 0 5 4 2-4 5 5 4 7 5avg resolution time 10-12 min 6-8 min 5 minescalation rate 15-20 8-12 5 monthly roi multiple 6-10x 12-20x 30x tracking roi over time month 1: baseline track current metrics before voice agent document costs and conversion rates set realistic targets months 2-3: initial deployment monitor engagement and completion rates review session transcripts for improvements iterate on prompt and tools calculate preliminary roi months 4-6: optimization implement learnings from transcripts a b test prompt variations optimize tool performance measure improvement in key metrics months 7-12: scale expand agent capabilities based on demand add advanced features track long-term trends report full-year roi roi improvement strategies reporting roi to stakeholders monthly executive summary template: cost-benefit scenarios low-volume scenario 500 sessions month 500 monthly cost 50 completion rate 150 avg value per completion roi: 500 0 5 150 37 500 revenue - 500 cost 37 000 month 74x medium-volume scenario 2 000 sessions month 1 200 monthly cost 60 completion rate 180 avg value per completion roi: 2 000 0 6 180 216 000 revenue - 1 200 cost 214 800 month 179x high-volume scenario 10 000 sessions month 3 500 monthly cost 65 completion rate 200 avg value per completion roi: 10 000 0 65 200 1 300 000 revenue - 3 500 cost 1 296 500 month 370x beyond direct roi intangible benefits: 24 7 availability capture after-hours demand reduced customer support burden improved customer experience brand differentiation data insights from conversations scalability without linear cost increase next steps ready to calculate your roi use the framework above or contact us for a custom roi analysis: support strategicmachines ai",
      "headings": [
        "ROI Analysis: Measuring Voice Agent Value",
        "ROI Calculator Framework",
        "Real-World Examples",
        "Industry Benchmarks",
        "Tracking ROI Over Time",
        "ROI Improvement Strategies",
        "Reporting ROI to Stakeholders",
        "Cost-Benefit Scenarios",
        "Beyond Direct ROI",
        "Next Steps"
      ],
      "keywords": [
        "ROI",
        "business value",
        "cost analysis",
        "benchmarks",
        "ROI Analysis: Measuring Voice Agent Value",
        "ROI Calculator Framework",
        "Real-World Examples",
        "Industry Benchmarks",
        "Tracking ROI Over Time",
        "ROI Improvement Strategies",
        "Reporting ROI to Stakeholders",
        "Cost-Benefit Scenarios",
        "Beyond Direct ROI",
        "Next Steps",
        "Current Costs (Without Voice Agent):",
        "Voice Agent Costs:",
        "Expected Outcomes:",
        "Before Voice Agent:",
        "After Voice Agent (3 months):",
        "Calculation:",
        "After Voice Agent:",
        "Template:",
        "ROI:",
        "Intangible Benefits:",
        "Ready to calculate your ROI?",
        "Monthly Savings =\n  (Current Volume × Automation Rate × Avg Handle Time × Hourly Cost)\n  - Voice Agent Monthly Cost\n\nRevenue Impact =\n  (Sessions × Conversion Rate Lift × Avg Order Value)\n\nTotal Monthly ROI = Monthly Savings + Revenue Impact\n\nPayback Period =\n  One-Time Setup Cost / Total Monthly ROI",
        "## Real-World Examples\n\n### Example 1: Cypress Resort (Hospitality)\n\n**Before Voice Agent:**\n\n* 800 booking inquiries/month via phone\n* 12 minutes average call duration\n* $25/hour front desk cost\n* 45% phone booking conversion rate\n\n**After Voice Agent (3 months):**\n\n* 32% of website visitors use voice agent\n* 58% voice session completion rate\n* 680 voice-assisted sessions/month\n* $127,000 in direct bookings attributed to voice\n\n**Calculation:**",
        "Monthly Savings:\n  800 calls × 30% automation × 12 min × $25/hour\n  = 800 × 0.30 × 0.2 hours × $25\n  = $1,200/month in reduced phone time\n\nRevenue Impact:\n  680 sessions × 58% completion × $320 avg booking\n  = $126,000/month in bookings\n\nSetup Cost: $8,000\nMonthly Cost: $850 (OpenAI + hosting)\n\nNet Monthly ROI: $126,000 - $850 = $125,150\nPayback Period: $8,000 / $125,150 = 0.06 months (2 days!)",
        "### Example 2: DIY Warehouse (E-Commerce)\n\n**Before Voice Agent:**\n\n* 15,000 monthly website visitors\n* 2.8% conversion rate\n* $87 average order value\n* 420 monthly orders = $36,540 revenue\n\n**After Voice Agent (3 months):**\n\n* 18% of visitors engage with voice agent\n* 23% higher conversion for voice-assisted sessions\n* 31% higher average order value for voice sessions\n\n**Calculation:**",
        "Voice Sessions: 15,000 × 18% = 2,700/month\n\nVoice Conversions: 2,700 × (2.8% × 1.23) = 93 orders\nVoice AOV: $87 × 1.31 = $114\n\nAdditional Revenue: 93 orders × $114 = $10,602/month\n\nSetup Cost: $12,000\nMonthly Cost: $1,200\n\nNet Monthly ROI: $10,602 - $1,200 = $9,402\nPayback Period: $12,000 / $9,402 = 1.3 months\nAnnual ROI: ($9,402 × 12) / $12,000 = 940%",
        "### Example 3: SupportBot (Customer Service)\n\n**Before Voice Agent:**\n\n* 3,500 support tickets/month\n* 45 minutes average resolution time\n* $22/hour support agent cost\n* 60% tier-1 tickets (simple inquiries)\n\n**After Voice Agent:**\n\n* 55% of tier-1 tickets automated\n* 8 minutes average voice resolution\n* 85% customer satisfaction\n\n**Calculation:**",
        "Tier-1 Tickets: 3,500 × 60% = 2,100\nAutomated: 2,100 × 55% = 1,155 tickets\n\nTime Saved:\n  1,155 tickets × (45 min - 8 min) = 1,155 × 37 min\n  = 42,735 minutes = 712 hours\n\nMonthly Savings: 712 hours × $22 = $15,664\n\nSetup Cost: $10,000\nMonthly Cost: $1,500\n\nNet Monthly ROI: $15,664 - $1,500 = $14,164\nPayback Period: $10,000 / $14,164 = 0.7 months\nAnnual ROI: ($14,164 × 12) / $10,000 = 1,700%",
        "## Industry Benchmarks\n\n### Hospitality\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Visitor Engagement | 15-20% | 25-35% | 40%+ |\n| Completion Rate | 40-50% | 55-65% | 70%+ |\n| Conversion Lift | 10-15% | 20-30% | 40%+ |\n| Avg Session Duration | 5-8 min | 3-5 min | \\< 3 min |\n| Monthly ROI Multiple | 5-10x | 15-25x | 50x+ |\n\n### E-Commerce\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Visitor Engagement | 10-15% | 15-20% | 25%+ |\n| Conversion Lift | 8-12% | 15-25% | 35%+ |\n| AOV Increase | 5-10% | 15-25% | 30%+ |\n| Cart Abandonment Reduction | 5-8% | 10-15% | 20%+ |\n| Monthly ROI Multiple | 3-5x | 8-15x | 25x+ |\n\n### Customer Support\n\n| Metric | Conservative | Target | Exceptional |\n|--------|--------------|--------|-------------|\n| Automation Rate | 30-40% | 45-60% | 70%+ |\n| Customer Satisfaction | 3.5-4.0 / 5 | 4.2-4.5 / 5 | 4.7+ / 5 |\n| Avg Resolution Time | 10-12 min | 6-8 min | \\< 5 min |\n| Escalation Rate | 15-20% | 8-12% | \\< 5% |\n| Monthly ROI Multiple | 6-10x | 12-20x | 30x+ |\n\n## Tracking ROI Over Time\n\n### Month 1: Baseline\n\n* Track current metrics before voice agent\n* Document costs and conversion rates\n* Set realistic targets\n\n### Months 2-3: Initial Deployment\n\n* Monitor engagement and completion rates\n* Review session transcripts for improvements\n* Iterate on prompt and tools\n* Calculate preliminary ROI\n\n### Months 4-6: Optimization\n\n* Implement learnings from transcripts\n* A/B test prompt variations\n* Optimize tool performance\n* Measure improvement in key metrics\n\n### Months 7-12: Scale\n\n* Expand agent capabilities based on demand\n* Add advanced features\n* Track long-term trends\n* Report full-year ROI\n\n## ROI Improvement Strategies\n\n## Reporting ROI to Stakeholders\n\n### Monthly Executive Summary\n\n**Template:**",
        "Voice Agent ROI Report - January 2025\n\nKey Metrics:\n- Total Sessions: 2,450 (+12% MoM)\n- Completion Rate: 62% (+5% MoM)\n- Conversions: 380 bookings (+18% MoM)\n- Revenue Impact: $96,000 (+22% MoM)\n\nCosts:\n- Platform: $850\n- Maintenance: $200\n\nNet ROI: $95,000 (112x return)\nCumulative ROI (3 months): $278,000\n\nOptimizations This Month:\n- Reduced avg session duration by 30 seconds\n- Added product comparison tool (+8% conversion)\n- Improved greeting message (+5% engagement)\n\nNext Month Goals:\n- Increase engagement to 35%\n- Test new widget positioning\n- Add FAQ tool for common questions"
      ]
    }
  },
  {
    "slug": "/security/authentication",
    "title": "Authentication",
    "description": "OTP-based authentication, session management, and JWT token security for the VOX platform.",
    "content": "## Authentication\n\nThe VOX platform supports two authentication modes: public widget-based access for end-user voice sessions and console authentication for administrative access.\n\n## Widget Authentication (Public)\n\nEnd users interact with voice agents through widgets without requiring authentication. Security is enforced through widget keys and origin validation.\n\n### Widget Key Structure\n\n```json\n{\n  \"id\": \"main-site\",\n  \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n  \"origin\": \"https://yoursite.com\",\n  \"label\": \"Main marketing site\",\n  \"revoked\": false\n}\n```\n\n**Security Controls:**\n\n* **Origin Validation** — Widget key only works from configured origin\n* **Key Revocation** — Instantly disable compromised keys\n* **Environment Isolation** — Separate keys for dev, staging, production\n\n**Best Practices:**\n\n* Create unique keys per domain\n* Never use wildcards in origin configuration\n* Rotate keys quarterly\n* Monitor usage per key for anomalies\n\n## Console Authentication (Protected)\n\nAdministrative console access uses one-time password (OTP) authentication for enhanced security.\n\n### OTP Authentication Flow\n\n1. **User Requests OTP**\n   * User enters email address\n   * System sends 6-digit code via email\n   * Code expires in 10 minutes\n\n2. **User Verifies OTP**\n   * User enters code\n   * System validates code\n   * JWT session token issued\n\n3. **Session Maintained**\n   * HTTPOnly cookie stores JWT\n   * Token expires in 24 hours\n   * Automatic renewal on activity\n\n### API Endpoints\n\n**Send OTP:**\n\n```\nPOST /api/auth/otp/send\n{\n  \"email\": \"user@example.com\"\n}\n```\n\n**Verify OTP:**\n\n```\nPOST /api/auth/otp/verify\n{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}\n```\n\n**Check Session:**\n\n```\nGET /api/auth/session\nCookie: tenant_session=<jwt_token>\n```\n\nSee the [API Reference](/voice/reference/api) for complete authentication endpoint documentation.\n\n## JWT Token Security\n\n### Token Structure\n\nTokens include:\n\n* Email address\n* Session ID\n* Expiration timestamp\n* Signature (HMAC SHA-256)\n\n### Token Storage\n\n**Console Sessions:**\n\n* Stored in HTTPOnly cookies\n* Not accessible via JavaScript\n* Secure flag enabled (HTTPS only)\n* SameSite=Lax (CSRF protection)\n\n**Security Properties:**\n\n```javascript\nSet-Cookie: tenant_session=<jwt>;\n  HttpOnly;\n  Secure;\n  SameSite=Lax;\n  Max-Age=86400;\n  Path=/\n```\n\n## Session Management\n\n### Session Lifecycle\n\n```\nLogin (OTP Verify)\n    ↓\nSession Created\n    ↓\n[Active] ← Activity Extends Session\n    ↓\nExpires (24 hours) or Logout\n    ↓\nSession Destroyed\n```\n\n### Session Security Controls\n\n| Control | Value | Purpose |\n|---------|-------|---------|\n| Max Duration | 24 hours | Limit exposure window |\n| Idle Timeout | N/A (console) | Console stays active |\n| Cookie Expiry | 24 hours | Auto-logout |\n| Secure Flag | True (prod) | HTTPS only |\n| HTTPOnly Flag | True | XSS protection |\n\n### Logout\n\nExplicit logout clears the session cookie:\n\n```\nPOST /api/auth/logout\n```\n\nDestroys the JWT and clears the cookie.\n\n## Security Best Practices\n\n## Threat Mitigation\n\n### Protection Against\n\n**Brute Force Attacks:**\n\n* OTP code expires in 10 minutes\n* Rate limiting on OTP send (3 per hour per email)\n* Rate limiting on OTP verify (5 attempts per code)\n\n**Session Hijacking:**\n\n* HTTPOnly cookies prevent XSS theft\n* Secure flag prevents transmission over HTTP\n* Short session lifetime limits exposure\n\n**CSRF (Cross-Site Request Forgery):**\n\n* SameSite=Lax cookie attribute\n* Origin validation on sensitive operations\n* Token binding to session\n\n**Replay Attacks:**\n\n* OTP codes single-use only\n* JWT tokens include expiration\n* Session tracking prevents token reuse\n\n## Configuration\n\n### Environment Variables\n\n```bash\n# Required\nJWT_SECRET=<32+ character random string>\n\n# Optional (with defaults shown)\nOTP_EXPIRY_MINUTES=10\nSESSION_EXPIRY_HOURS=24\nMAX_OTP_PER_HOUR=3\nMAX_OTP_VERIFY_ATTEMPTS=5\n```\n\n### Generating Secure Secrets\n\n```bash\n# Generate strong JWT secret\nnode -e \"console.log(require('crypto').randomBytes(32).toString('hex'))\"\n\n# Or using OpenSSL\nopenssl rand -hex 32\n```\n\n## Troubleshooting\n\n### OTP Not Received\n\n**Causes:**\n\n* Email in spam folder\n* Email service rate limit\n* Invalid email address\n\n**Solutions:**\n\n* Check spam/junk folder\n* Verify email service configuration\n* Check server logs for email send errors\n\n### Session Expires Too Quickly\n\n**Causes:**\n\n* SESSION\\_EXPIRY\\_HOURS set too low\n* Browser blocking cookies\n* Cookie domain mismatch\n\n**Solutions:**\n\n* Increase session expiry if appropriate\n* Check browser cookie settings\n* Verify cookie domain matches site domain\n\n### Invalid Token Errors\n\n**Causes:**\n\n* JWT\\_SECRET mismatch (server restart with new secret)\n* Token expired\n* Malformed token\n\n**Solutions:**\n\n* Log out and log back in\n* Verify JWT\\_SECRET hasn't changed\n* Check server logs for token validation errors\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "authentication the vox platform supports two authentication modes: public widget-based access for end-user voice sessions and console authentication for administrative access widget authentication public end users interact with voice agents through widgets without requiring authentication security is enforced through widget keys and origin validation widget key structure security controls: origin validation widget key only works from configured origin key revocation instantly disable compromised keys environment isolation separate keys for dev staging production best practices: create unique keys per domain never use wildcards in origin configuration rotate keys quarterly monitor usage per key for anomalies console authentication protected administrative console access uses one-time password otp authentication for enhanced security otp authentication flow user requests otp user enters email address system sends 6-digit code via email code expires in 10 minutes user verifies otp user enters code system validates code jwt session token issued session maintained httponly cookie stores jwt token expires in 24 hours automatic renewal on activity api endpoints send otp: verify otp: check session: see the api reference for complete authentication endpoint documentation jwt token security token structure tokens include: email address session id expiration timestamp signature hmac sha-256 token storage console sessions: stored in httponly cookies not accessible via javascript secure flag enabled https only samesite lax csrf protection security properties: session management session lifecycle session security controls control value purpose--------- ------- ---------max duration 24 hours limit exposure windowidle timeout n a console console stays activecookie expiry 24 hours auto-logoutsecure flag true prod https onlyhttponly flag true xss protection logout explicit logout clears the session cookie: destroys the jwt and clears the cookie security best practices threat mitigation protection against brute force attacks: otp code expires in 10 minutes rate limiting on otp send 3 per hour per email rate limiting on otp verify 5 attempts per code session hijacking: httponly cookies prevent xss theft secure flag prevents transmission over http short session lifetime limits exposure csrf cross-site request forgery : samesite lax cookie attribute origin validation on sensitive operations token binding to session replay attacks: otp codes single-use only jwt tokens include expiration session tracking prevents token reuse configuration environment variables generating secure secrets troubleshooting otp not received causes: email in spam folder email service rate limit invalid email address solutions: check spam junk folder verify email service configuration check server logs for email send errors session expires too quickly causes: session expiry hours set too low browser blocking cookies cookie domain mismatch solutions: increase session expiry if appropriate check browser cookie settings verify cookie domain matches site domain invalid token errors causes: jwt _secret mismatch server restart with new secret token expired malformed token solutions: log out and log back in verify jwt _secret hasn t changed check server logs for token validation errors next steps",
      "headings": [
        "Authentication",
        "Widget Authentication (Public)",
        "Console Authentication (Protected)",
        "JWT Token Security",
        "Session Management",
        "Security Best Practices",
        "Threat Mitigation",
        "Configuration",
        "Troubleshooting",
        "Next Steps"
      ],
      "keywords": [
        "authentication",
        "OTP",
        "JWT",
        "sessions",
        "security",
        "Authentication",
        "Widget Authentication (Public)",
        "Console Authentication (Protected)",
        "JWT Token Security",
        "Session Management",
        "Security Best Practices",
        "Threat Mitigation",
        "Configuration",
        "Troubleshooting",
        "Next Steps",
        "Security Controls:",
        "Origin Validation",
        "Key Revocation",
        "Environment Isolation",
        "Best Practices:",
        "User Requests OTP",
        "User Verifies OTP",
        "Session Maintained",
        "Send OTP:",
        "Verify OTP:",
        "Check Session:",
        "Console Sessions:",
        "Security Properties:",
        "Brute Force Attacks:",
        "Session Hijacking:",
        "CSRF (Cross-Site Request Forgery):",
        "Replay Attacks:",
        "Causes:",
        "Solutions:",
        "json\n{\n  \"id\": \"main-site\",\n  \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\n  \"origin\": \"https://yoursite.com\",\n  \"label\": \"Main marketing site\",\n  \"revoked\": false\n}",
        "**Security Controls:**\n\n* **Origin Validation** — Widget key only works from configured origin\n* **Key Revocation** — Instantly disable compromised keys\n* **Environment Isolation** — Separate keys for dev, staging, production\n\n**Best Practices:**\n\n* Create unique keys per domain\n* Never use wildcards in origin configuration\n* Rotate keys quarterly\n* Monitor usage per key for anomalies\n\n## Console Authentication (Protected)\n\nAdministrative console access uses one-time password (OTP) authentication for enhanced security.\n\n### OTP Authentication Flow\n\n1. **User Requests OTP**\n   * User enters email address\n   * System sends 6-digit code via email\n   * Code expires in 10 minutes\n\n2. **User Verifies OTP**\n   * User enters code\n   * System validates code\n   * JWT session token issued\n\n3. **Session Maintained**\n   * HTTPOnly cookie stores JWT\n   * Token expires in 24 hours\n   * Automatic renewal on activity\n\n### API Endpoints\n\n**Send OTP:**",
        "POST /api/auth/otp/send\n{\n  \"email\": \"user@example.com\"\n}",
        "**Verify OTP:**",
        "POST /api/auth/otp/verify\n{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}",
        "**Check Session:**",
        "GET /api/auth/session\nCookie: tenant_session=<jwt_token>",
        "See the [API Reference](/voice/reference/api) for complete authentication endpoint documentation.\n\n## JWT Token Security\n\n### Token Structure\n\nTokens include:\n\n* Email address\n* Session ID\n* Expiration timestamp\n* Signature (HMAC SHA-256)\n\n### Token Storage\n\n**Console Sessions:**\n\n* Stored in HTTPOnly cookies\n* Not accessible via JavaScript\n* Secure flag enabled (HTTPS only)\n* SameSite=Lax (CSRF protection)\n\n**Security Properties:**",
        "javascript\nSet-Cookie: tenant_session=<jwt>;\n  HttpOnly;\n  Secure;\n  SameSite=Lax;\n  Max-Age=86400;\n  Path=/",
        "## Session Management\n\n### Session Lifecycle",
        "Login (OTP Verify)\n    ↓\nSession Created\n    ↓\n[Active] ← Activity Extends Session\n    ↓\nExpires (24 hours) or Logout\n    ↓\nSession Destroyed",
        "### Session Security Controls\n\n| Control | Value | Purpose |\n|---------|-------|---------|\n| Max Duration | 24 hours | Limit exposure window |\n| Idle Timeout | N/A (console) | Console stays active |\n| Cookie Expiry | 24 hours | Auto-logout |\n| Secure Flag | True (prod) | HTTPS only |\n| HTTPOnly Flag | True | XSS protection |\n\n### Logout\n\nExplicit logout clears the session cookie:",
        "POST /api/auth/logout",
        "Destroys the JWT and clears the cookie.\n\n## Security Best Practices\n\n## Threat Mitigation\n\n### Protection Against\n\n**Brute Force Attacks:**\n\n* OTP code expires in 10 minutes\n* Rate limiting on OTP send (3 per hour per email)\n* Rate limiting on OTP verify (5 attempts per code)\n\n**Session Hijacking:**\n\n* HTTPOnly cookies prevent XSS theft\n* Secure flag prevents transmission over HTTP\n* Short session lifetime limits exposure\n\n**CSRF (Cross-Site Request Forgery):**\n\n* SameSite=Lax cookie attribute\n* Origin validation on sensitive operations\n* Token binding to session\n\n**Replay Attacks:**\n\n* OTP codes single-use only\n* JWT tokens include expiration\n* Session tracking prevents token reuse\n\n## Configuration\n\n### Environment Variables",
        "bash\n# Required\nJWT_SECRET=<32+ character random string>\n\n# Optional (with defaults shown)\nOTP_EXPIRY_MINUTES=10\nSESSION_EXPIRY_HOURS=24\nMAX_OTP_PER_HOUR=3\nMAX_OTP_VERIFY_ATTEMPTS=5",
        "### Generating Secure Secrets",
        "bash\n# Generate strong JWT secret\nnode -e \"console.log(require('crypto').randomBytes(32).toString('hex'))\"\n\n# Or using OpenSSL\nopenssl rand -hex 32"
      ]
    }
  },
  {
    "slug": "/security/botprotection",
    "title": "Bot Protection",
    "description": "BotID integration for detecting and blocking automated clients and malicious bots.",
    "content": "## Bot Protection\n\nThe VOX platform uses BotID to detect and block automated clients, preventing abuse, fraud, and cost attacks from non-human traffic.\n\n## What is BotID?\n\nBotID is a bot detection service that analyzes client behavior to determine if traffic is coming from a human or an automated script.\n\n**Detection Methods:**\n\n* Browser fingerprinting\n* Behavioral analysis\n* Device characteristics\n* Network patterns\n* Challenge-response tests\n\n**Verdict Types:**\n\n* **Human** — Real user with normal browser\n* **Bot (Verified)** — Known good bot (search engine crawler)\n* **Bot (Unverified)** — Automated client, potentially malicious\n\n## How It Works\n\n### Client-Side Integration\n\nThe VOX widget includes BotID client library:\n\n```html\n<!-- BotID included automatically in widget -->\n<script src=\"https://botid.example.com/client.js\"></script>\n```\n\n**Client Flow:**\n\n1. Widget loads BotID client\n2. Client collects browser/device signals\n3. Signals sent to BotID service\n4. Verification token generated\n5. Token included in session creation request\n\n### Server-Side Validation\n\n```\nSession Create Request\n    ↓\nExtract BotID Headers\n    ↓\nValidate with BotID Service\n    ↓\nCheck Verdict:\n  - isBot: false → Allow\n  - isBot: true, isVerifiedBot: true → Allow (search engine)\n  - isBot: true, isVerifiedBot: false → Block (403)\n```\n\n## Verdict Structure\n\nBotID returns a verdict object:\n\n```json\n{\n  \"verdict\": {\n    \"isBot\": false,\n    \"isVerifiedBot\": false,\n    \"confidence\": 0.95,\n    \"deviceId\": \"d_abc123...\",\n    \"sessionId\": \"s_xyz789...\"\n  }\n}\n```\n\n### Fields\n\n| Field | Type | Meaning |\n|-------|------|---------|\n| `isBot` | boolean | True if client appears automated |\n| `isVerifiedBot` | boolean | True if recognized good bot (crawler) |\n| `confidence` | number | Confidence score (0.0-1.0) |\n| `deviceId` | string | Unique device identifier |\n| `sessionId` | string | BotID session identifier |\n\n## Blocking Policy\n\n### Default Policy\n\n**Allow:**\n\n* `isBot: false` (human traffic)\n* `isBot: true, isVerifiedBot: true` (search engine crawlers)\n\n**Block:**\n\n* `isBot: true, isVerifiedBot: false` (unverified bots)\n* Missing or invalid BotID headers\n\n**Response When Blocked:**\n\n```json\n{\n  \"error\": \"Bot verification failed\",\n  \"code\": \"BOT_BLOCKED\",\n  \"userMessage\": \"We couldn't verify this device. Please refresh and try again.\"\n}\n```\n\n**HTTP Status:** `403 Forbidden`\n\n### Verified Bots\n\nWhitelisted bots (allowed even when `isBot: true`):\n\n* Googlebot (search indexing)\n* Bingbot (search indexing)\n* Other search engine crawlers\n\n**Why Allow:** Need SEO indexing without blocking crawlers\n\n## Configuration\n\n### Environment Variables\n\n```bash\n# BotID Service\nBOTID_API_URL=https://api.botid.example.com\nBOTID_API_KEY=your-botid-api-key\n\n# Optional: Bypass bot protection (dev/testing only)\nDISABLE_BOT_PROTECTION=false\n```\n\n### Disabling Bot Protection\n\nFor development or testing:\n\n```bash\nDISABLE_BOT_PROTECTION=true\n```\n\n**WARNING:** Never disable in production. Only use for local testing.\n\n## Logging and Monitoring\n\n### Logged Information\n\nEvery request logs:\n\n* BotID verdict (isBot, confidence)\n* Device ID\n* IP address\n* User agent\n* Timestamp\n\n**Example Log:**\n\n```json\n{\n  \"timestamp\": \"2025-01-23T10:00:00Z\",\n  \"ip\": \"203.0.113.45\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"botVerdict\": {\n    \"isBot\": false,\n    \"confidence\": 0.97\n  },\n  \"allowed\": true\n}\n```\n\n### Metrics to Track\n\n| Metric | Good Target | Alert If |\n|--------|-------------|----------|\n| Bot block rate | Less than 5% | More than 20% |\n| Confidence distribution | Peak at 0.9+ | Many scores Less than 0.5 |\n| Unique device IDs | Grows with users | Sudden spike |\n| Blocked IPs | Stable low count | Same IPs repeatedly blocked |\n\n## Common Scenarios\n\n### Scenario 1: Legitimate User Blocked\n\n**Symptoms:**\n\n* User reports \"couldn't verify device\" error\n* High confidence score but still blocked\n\n**Causes:**\n\n* BotID false positive\n* Browser extensions interfering\n* Corporate firewall modifying headers\n\n**Solutions:**\n\n1. Check BotID logs for specific deviceId\n2. Review user's browser/network environment\n3. Whitelist specific deviceId if confirmed human\n4. Contact BotID support if pattern emerges\n\n### Scenario 2: Bot Attack\n\n**Symptoms:**\n\n* Sudden spike in bot blocks\n* Same IP making many requests\n* Low confidence scores (Less than 0.3)\n\n**Causes:**\n\n* Automated script attacking platform\n* Scraper attempting data extraction\n* Cost attack generating sessions\n\n**Actions:**\n\n1. Verify blocks are working (bots getting 403)\n2. Review blocked IP addresses\n3. Add IPs to permanent blocklist if persistent\n4. Monitor for distributed attacks (many IPs)\n\n### Scenario 3: Search Engine Crawler\n\n**Symptoms:**\n\n* `isBot: true, isVerifiedBot: true` verdicts\n* User agent matches known crawler\n\n**Expected Behavior:**\n\n* Crawler is allowed through\n* Widget pages indexed for SEO\n* No session creation (crawlers don't run JavaScript)\n\n**No Action Needed:** This is correct behavior\n\n## False Positives and Tuning\n\n### Reducing False Positives\n\nIf legitimate users are blocked:\n\n1. **Review Confidence Threshold**\n   * Default: Block only high-confidence bots\n   * Consider: Only block confidence More than 0.8\n\n2. **Whitelist Patterns**\n   * Whitelist specific user agents (mobile apps)\n   * Whitelist IP ranges (corporate networks)\n   * Whitelist device IDs (confirmed humans)\n\n3. **Adjust Blocking Policy**\n   * Challenge mode: Show CAPTCHA instead of blocking\n   * Monitoring mode: Log but don't block (testing)\n\n### Configuration Example\n\n```javascript\n// Customized blocking policy\nfunction shouldBlockBot(verdict) {\n  // Allow all verified bots\n  if (verdict.isVerifiedBot) return false;\n\n  // Block high-confidence bots\n  if (verdict.isBot && verdict.confidence > 0.8) return true;\n\n  // Allow everything else\n  return false;\n}\n```\n\n## Cost Attack Mitigation\n\nBots can generate expensive OpenAI API usage:\n\n### Attack Pattern\n\n1. Bot floods session creation endpoints\n2. Each session consumes OpenAI tokens\n3. Costs escalate rapidly\n\n### Defense Layers\n\n**Layer 1: Bot Protection**\n\n* Blocks automated clients before session creation\n* Prevents token consumption\n\n**Layer 2: Rate Limiting**\n\n* Limits sessions per IP/user\n* Even if bot bypasses detection\n\n**Layer 3: Usage Quotas**\n\n* Daily token/dollar caps\n* Stops runaway costs\n\n**Combined:** Multi-layer defense prevents cost attacks\n\n## Best Practices\n\n## Troubleshooting\n\n### Bot Protection Not Working\n\n**Symptoms:**\n\n* Bots getting through\n* No bot blocks in logs\n\n**Diagnosis:**\n\n1. Check `DISABLE_BOT_PROTECTION` is `false`\n2. Verify BotID headers in requests\n3. Check BotID API credentials\n4. Review BotID service status\n\n**Solutions:**\n\n* Enable bot protection if disabled\n* Update BotID API key if expired\n* Contact BotID support if service down\n\n### Too Many False Positives\n\n**Symptoms:**\n\n* Legitimate users blocked frequently\n* User complaints about verification errors\n\n**Diagnosis:**\n\n1. Review confidence scores of blocked requests\n2. Identify patterns (browser, network, geography)\n3. Check if specific user segments affected\n\n**Solutions:**\n\n* Lower confidence threshold for blocking\n* Whitelist affected user patterns\n* Consider challenge mode instead of blocking\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "bot protection the vox platform uses botid to detect and block automated clients preventing abuse fraud and cost attacks from non-human traffic what is botid botid is a bot detection service that analyzes client behavior to determine if traffic is coming from a human or an automated script detection methods: browser fingerprinting behavioral analysis device characteristics network patterns challenge-response tests verdict types: human real user with normal browser bot verified known good bot search engine crawler bot unverified automated client potentially malicious how it works client-side integration the vox widget includes botid client library: client flow: widget loads botid client client collects browser device signals signals sent to botid service verification token generated token included in session creation request server-side validation verdict structure botid returns a verdict object: fields field type meaning------- ------ ---------isbot boolean true if client appears automatedisverifiedbot boolean true if recognized good bot crawler confidence number confidence score 0 0-1 0 deviceid string unique device identifiersessionid string botid session identifier blocking policy default policy allow: isbot: false human traffic isbot: true isverifiedbot: true search engine crawlers block: isbot: true isverifiedbot: false unverified bots missing or invalid botid headers response when blocked: http status: 403 forbidden verified bots whitelisted bots allowed even when isbot: true : googlebot search indexing bingbot search indexing other search engine crawlers why allow: need seo indexing without blocking crawlers configuration environment variables disabling bot protection for development or testing: warning: never disable in production only use for local testing logging and monitoring logged information every request logs: botid verdict isbot confidence device id ip address user agent timestamp example log: metrics to track metric good target alert if-------- ------------- ----------bot block rate less than 5 more than 20 confidence distribution peak at 0 9 many scores less than 0 5unique device ids grows with users sudden spikeblocked ips stable low count same ips repeatedly blocked common scenarios scenario 1: legitimate user blocked symptoms: user reports couldn t verify device error high confidence score but still blocked causes: botid false positive browser extensions interfering corporate firewall modifying headers solutions: check botid logs for specific deviceid review user s browser network environment whitelist specific deviceid if confirmed human contact botid support if pattern emerges scenario 2: bot attack symptoms: sudden spike in bot blocks same ip making many requests low confidence scores less than 0 3 causes: automated script attacking platform scraper attempting data extraction cost attack generating sessions actions: verify blocks are working bots getting 403 review blocked ip addresses add ips to permanent blocklist if persistent monitor for distributed attacks many ips scenario 3: search engine crawler symptoms: isbot: true isverifiedbot: true verdicts user agent matches known crawler expected behavior: crawler is allowed through widget pages indexed for seo no session creation crawlers don t run javascript no action needed: this is correct behavior false positives and tuning reducing false positives if legitimate users are blocked: review confidence threshold default: block only high-confidence bots consider: only block confidence more than 0 8 whitelist patterns whitelist specific user agents mobile apps whitelist ip ranges corporate networks whitelist device ids confirmed humans adjust blocking policy challenge mode: show captcha instead of blocking monitoring mode: log but don t block testing configuration example cost attack mitigation bots can generate expensive openai api usage: attack pattern bot floods session creation endpoints each session consumes openai tokens costs escalate rapidly defense layers layer 1: bot protection blocks automated clients before session creation prevents token consumption layer 2: rate limiting limits sessions per ip user even if bot bypasses detection layer 3: usage quotas daily token dollar caps stops runaway costs combined: multi-layer defense prevents cost attacks best practices troubleshooting bot protection not working symptoms: bots getting through no bot blocks in logs diagnosis: check disablebotprotection is false verify botid headers in requests check botid api credentials review botid service status solutions: enable bot protection if disabled update botid api key if expired contact botid support if service down too many false positives symptoms: legitimate users blocked frequently user complaints about verification errors diagnosis: review confidence scores of blocked requests identify patterns browser network geography check if specific user segments affected solutions: lower confidence threshold for blocking whitelist affected user patterns consider challenge mode instead of blocking next steps",
      "headings": [
        "Bot Protection",
        "What is BotID?",
        "How It Works",
        "Verdict Structure",
        "Blocking Policy",
        "Configuration",
        "Logging and Monitoring",
        "Common Scenarios",
        "False Positives and Tuning",
        "Cost Attack Mitigation",
        "Best Practices",
        "Troubleshooting",
        "Next Steps"
      ],
      "keywords": [
        "bot protection",
        "BotID",
        "automation",
        "security",
        "fraud",
        "Bot Protection",
        "What is BotID?",
        "How It Works",
        "Verdict Structure",
        "Blocking Policy",
        "Configuration",
        "Logging and Monitoring",
        "Common Scenarios",
        "False Positives and Tuning",
        "Cost Attack Mitigation",
        "Best Practices",
        "Troubleshooting",
        "Next Steps",
        "Detection Methods:",
        "Verdict Types:",
        "Human",
        "Bot (Verified)",
        "Bot (Unverified)",
        "Client Flow:",
        "Allow:",
        "Block:",
        "Response When Blocked:",
        "HTTP Status:",
        "Why Allow:",
        "WARNING:",
        "Example Log:",
        "Symptoms:",
        "Causes:",
        "Solutions:",
        "Actions:",
        "Expected Behavior:",
        "No Action Needed:",
        "Review Confidence Threshold",
        "Whitelist Patterns",
        "Adjust Blocking Policy",
        "Layer 1: Bot Protection",
        "Layer 2: Rate Limiting",
        "Layer 3: Usage Quotas",
        "Combined:",
        "Diagnosis:",
        "html\n<!-- BotID included automatically in widget -->\n<script src=\"https://botid.example.com/client.js\"></script>",
        "**Client Flow:**\n\n1. Widget loads BotID client\n2. Client collects browser/device signals\n3. Signals sent to BotID service\n4. Verification token generated\n5. Token included in session creation request\n\n### Server-Side Validation",
        "Session Create Request\n    ↓\nExtract BotID Headers\n    ↓\nValidate with BotID Service\n    ↓\nCheck Verdict:\n  - isBot: false → Allow\n  - isBot: true, isVerifiedBot: true → Allow (search engine)\n  - isBot: true, isVerifiedBot: false → Block (403)",
        "## Verdict Structure\n\nBotID returns a verdict object:",
        "json\n{\n  \"verdict\": {\n    \"isBot\": false,\n    \"isVerifiedBot\": false,\n    \"confidence\": 0.95,\n    \"deviceId\": \"d_abc123...\",\n    \"sessionId\": \"s_xyz789...\"\n  }\n}",
        "### Fields\n\n| Field | Type | Meaning |\n|-------|------|---------|\n|",
        "| boolean | True if client appears automated |\n|",
        "| boolean | True if recognized good bot (crawler) |\n|",
        "| number | Confidence score (0.0-1.0) |\n|",
        "| string | Unique device identifier |\n|",
        "| string | BotID session identifier |\n\n## Blocking Policy\n\n### Default Policy\n\n**Allow:**\n\n*",
        "(human traffic)\n*",
        "(search engine crawlers)\n\n**Block:**\n\n*",
        "(unverified bots)\n* Missing or invalid BotID headers\n\n**Response When Blocked:**",
        "json\n{\n  \"error\": \"Bot verification failed\",\n  \"code\": \"BOT_BLOCKED\",\n  \"userMessage\": \"We couldn't verify this device. Please refresh and try again.\"\n}",
        "**HTTP Status:**",
        "### Verified Bots\n\nWhitelisted bots (allowed even when",
        "):\n\n* Googlebot (search indexing)\n* Bingbot (search indexing)\n* Other search engine crawlers\n\n**Why Allow:** Need SEO indexing without blocking crawlers\n\n## Configuration\n\n### Environment Variables",
        "bash\n# BotID Service\nBOTID_API_URL=https://api.botid.example.com\nBOTID_API_KEY=your-botid-api-key\n\n# Optional: Bypass bot protection (dev/testing only)\nDISABLE_BOT_PROTECTION=false",
        "### Disabling Bot Protection\n\nFor development or testing:",
        "bash\nDISABLE_BOT_PROTECTION=true",
        "**WARNING:** Never disable in production. Only use for local testing.\n\n## Logging and Monitoring\n\n### Logged Information\n\nEvery request logs:\n\n* BotID verdict (isBot, confidence)\n* Device ID\n* IP address\n* User agent\n* Timestamp\n\n**Example Log:**",
        "json\n{\n  \"timestamp\": \"2025-01-23T10:00:00Z\",\n  \"ip\": \"203.0.113.45\",\n  \"userAgent\": \"Mozilla/5.0...\",\n  \"botVerdict\": {\n    \"isBot\": false,\n    \"confidence\": 0.97\n  },\n  \"allowed\": true\n}",
        "### Metrics to Track\n\n| Metric | Good Target | Alert If |\n|--------|-------------|----------|\n| Bot block rate | Less than 5% | More than 20% |\n| Confidence distribution | Peak at 0.9+ | Many scores Less than 0.5 |\n| Unique device IDs | Grows with users | Sudden spike |\n| Blocked IPs | Stable low count | Same IPs repeatedly blocked |\n\n## Common Scenarios\n\n### Scenario 1: Legitimate User Blocked\n\n**Symptoms:**\n\n* User reports \"couldn't verify device\" error\n* High confidence score but still blocked\n\n**Causes:**\n\n* BotID false positive\n* Browser extensions interfering\n* Corporate firewall modifying headers\n\n**Solutions:**\n\n1. Check BotID logs for specific deviceId\n2. Review user's browser/network environment\n3. Whitelist specific deviceId if confirmed human\n4. Contact BotID support if pattern emerges\n\n### Scenario 2: Bot Attack\n\n**Symptoms:**\n\n* Sudden spike in bot blocks\n* Same IP making many requests\n* Low confidence scores (Less than 0.3)\n\n**Causes:**\n\n* Automated script attacking platform\n* Scraper attempting data extraction\n* Cost attack generating sessions\n\n**Actions:**\n\n1. Verify blocks are working (bots getting 403)\n2. Review blocked IP addresses\n3. Add IPs to permanent blocklist if persistent\n4. Monitor for distributed attacks (many IPs)\n\n### Scenario 3: Search Engine Crawler\n\n**Symptoms:**\n\n*",
        "verdicts\n* User agent matches known crawler\n\n**Expected Behavior:**\n\n* Crawler is allowed through\n* Widget pages indexed for SEO\n* No session creation (crawlers don't run JavaScript)\n\n**No Action Needed:** This is correct behavior\n\n## False Positives and Tuning\n\n### Reducing False Positives\n\nIf legitimate users are blocked:\n\n1. **Review Confidence Threshold**\n   * Default: Block only high-confidence bots\n   * Consider: Only block confidence More than 0.8\n\n2. **Whitelist Patterns**\n   * Whitelist specific user agents (mobile apps)\n   * Whitelist IP ranges (corporate networks)\n   * Whitelist device IDs (confirmed humans)\n\n3. **Adjust Blocking Policy**\n   * Challenge mode: Show CAPTCHA instead of blocking\n   * Monitoring mode: Log but don't block (testing)\n\n### Configuration Example",
        "javascript\n// Customized blocking policy\nfunction shouldBlockBot(verdict) {\n  // Allow all verified bots\n  if (verdict.isVerifiedBot) return false;\n\n  // Block high-confidence bots\n  if (verdict.isBot && verdict.confidence > 0.8) return true;\n\n  // Allow everything else\n  return false;\n}",
        "## Cost Attack Mitigation\n\nBots can generate expensive OpenAI API usage:\n\n### Attack Pattern\n\n1. Bot floods session creation endpoints\n2. Each session consumes OpenAI tokens\n3. Costs escalate rapidly\n\n### Defense Layers\n\n**Layer 1: Bot Protection**\n\n* Blocks automated clients before session creation\n* Prevents token consumption\n\n**Layer 2: Rate Limiting**\n\n* Limits sessions per IP/user\n* Even if bot bypasses detection\n\n**Layer 3: Usage Quotas**\n\n* Daily token/dollar caps\n* Stops runaway costs\n\n**Combined:** Multi-layer defense prevents cost attacks\n\n## Best Practices\n\n## Troubleshooting\n\n### Bot Protection Not Working\n\n**Symptoms:**\n\n* Bots getting through\n* No bot blocks in logs\n\n**Diagnosis:**\n\n1. Check",
        "is"
      ]
    }
  },
  {
    "slug": "/security/compliance",
    "title": "Compliance",
    "description": "GDPR, data retention, PCI DSS, HIPAA, and industry-specific compliance guidance for voice agent deployments.",
    "content": "## Compliance Overview\n\nVOX deployments must comply with applicable regulations based on geography, industry, and data handling practices. This guide covers common compliance requirements and how to configure the platform accordingly.\n\n**Disclaimer:** This documentation provides guidance, not legal advice. Consult with legal counsel to ensure compliance with regulations applicable to your business.\n\n## GDPR (General Data Protection Regulation)\n\nApplies to processing personal data of EU residents.\n\n### Personal Data Collected\n\nVoice agents may collect:\n\n* **Direct identifiers**: Name, email, phone number\n* **Conversation data**: Session transcripts, voice recordings\n* **Technical data**: IP address, device information, session metadata\n\n### GDPR Requirements\n\n#### 1. Lawful Basis for Processing\n\nEstablish lawful basis before collecting data:\n\n* **Consent** — User explicitly agrees to data processing\n* **Contractual necessity** — Data needed to fulfill service\n* **Legitimate interest** — Balanced against user privacy\n\n**Implementation:**\n\n* Display privacy policy before widget interaction\n* Obtain consent for transcript retention\n* Document lawful basis in privacy policy\n\n#### 2. Data Minimization\n\nCollect only necessary data:\n\n* Don't collect data you don't need\n* Limit transcript retention period\n* Avoid collecting sensitive personal data\n\n**Implementation:**\n\n```javascript\n// Agent prompt - avoid collecting unnecessary data\n{\n  \"data_rules\": [\n    \"Only collect information needed for booking\",\n    \"Do not ask for: SSN, passport, credit cards\",\n    \"Minimize personal details to name, email, phone\"\n  ]\n}\n```\n\n#### 3. Right to Access\n\nUsers can request their data:\n\n* Provide session transcripts on request\n* Include all data associated with email/phone\n* Deliver in machine-readable format (JSON, CSV)\n\n**Implementation:**\n\n* Create admin endpoint to export user data\n* Include session metadata and transcripts\n* Respond within 30 days of request\n\n#### 4. Right to Erasure (\"Right to be Forgotten\")\n\nUsers can request data deletion:\n\n* Delete session transcripts\n* Remove user from databases\n* Anonymize analytics data\n\n**Implementation:**\n\n```javascript\n// MongoDB deletion\ndb.realtime_sessions.deleteMany({ email: \"user@example.com\" })\ndb.usage_daily.deleteMany({ _id: /^d:<emailHash>:/ })\ndb.transcripts.deleteMany({ email: \"user@example.com\" })\n```\n\n#### 5. Data Retention Limits\n\nDon't keep data longer than necessary:\n\n* Define retention period in privacy policy\n* Automatically delete old transcripts\n* Archive data with restricted access\n\n**Recommended Retention:**\n\n* Session transcripts: 90 days (configurable)\n* Usage metrics: 1 year\n* Anonymized analytics: Indefinite\n\n**Implementation:**\n\n```javascript\n// Automated deletion script (run daily)\nconst retentionDays = 90;\nconst cutoffDate = new Date();\ncutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\ndb.transcripts.deleteMany({\n  createdAt: { $lt: cutoffDate }\n});\n```\n\n#### 6. Data Processing Agreement (DPA)\n\nThird-party processors require DPA:\n\n* **OpenAI** — Voice processing (review OpenAI DPA)\n* **Upstash** — Rate limiting\n* **MongoDB Atlas** — Data storage (if using Atlas)\n\n**Implementation:**\n\n* Execute DPA with each processor\n* Document data flow for GDPR audit\n* Ensure processors are GDPR-compliant\n\n### Privacy Policy Requirements\n\nInclude in your privacy policy:\n\n* What data is collected (name, email, transcripts)\n* Why it's collected (provide voice service)\n* How long it's retained (90 days for transcripts)\n* User rights (access, erasure, portability)\n* Third-party processors (OpenAI, Upstash)\n* Contact for privacy requests\n\n**Sample Language:**\n\n> \"When you interact with our voice assistant, we collect your name, email, and conversation transcript to provide the service. Transcripts are retained for 90 days and then automatically deleted. You can request access to or deletion of your data at any time by contacting privacy@yourcompany.com. Voice processing is performed by OpenAI (see their privacy policy at openai.com/privacy).\"\n\n## PCI DSS (Payment Card Industry Data Security Standard)\n\nApplies if you process, store, or transmit credit card data.\n\n### Critical Rule: Never Collect Card Data via Voice\n\n**DO NOT:**\n\n* Ask users to speak credit card numbers\n* Collect CVV codes\n* Store card details in transcripts\n\n**INSTEAD:**\n\n* Use secure payment links (Stripe checkout)\n* Redirect to web form for payment\n* Use tokenized payment methods\n\n**Example Agent Behavior:**\n\n```\nUser: \"I'd like to pay for my booking\"\nAgent: \"I'll send you a secure payment link via email. Please complete payment there. Never share credit card information over voice.\"\n```\n\n### Compliance Checklist\n\n* \\[ ] Agent prompt explicitly forbids collecting card data\n* \\[ ] Payment flows redirect to PCI-compliant processor\n* \\[ ] Transcripts do not contain card numbers (even if user speaks them)\n* \\[ ] Privacy policy discloses payment processor\n* \\[ ] Payment links use HTTPS and tokenization\n\n### Transcript Sanitization\n\nIf users accidentally speak card numbers, sanitize transcripts:\n\n```javascript\n// Redact potential card numbers from transcripts\nfunction sanitizeTranscript(text) {\n  // Redact 16-digit sequences (card numbers)\n  return text.replace(/\\b\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}\\b/g, '[REDACTED]');\n}\n```\n\n## HIPAA (Health Insurance Portability and Accountability Act)\n\nApplies if you collect Protected Health Information (PHI) of US patients.\n\n### What is PHI?\n\nProtected Health Information includes:\n\n* Medical history or diagnosis\n* Treatment information\n* Health insurance details\n* Prescription information\n\n### HIPAA Requirements\n\n**For Voice Agents:**\n\n1. **Business Associate Agreement (BAA)** with all processors\n2. **Encryption** at rest and in transit\n3. **Access controls** limiting who can view PHI\n4. **Audit logging** of all PHI access\n5. **Data breach notification** within 60 days\n\n### Standard VOX Platform is NOT HIPAA-Compliant\n\n**Default configuration does NOT meet HIPAA requirements:**\n\n* No BAA with OpenAI (standard API)\n* Transcripts not encrypted at rest\n* Audit logging not comprehensive\n\n### HIPAA-Compliant Deployment\n\nFor HIPAA compliance, contact Strategic Machines for:\n\n* **OpenAI Enterprise** with BAA\n* **Encrypted MongoDB** deployment\n* **Enhanced audit logging**\n* **Compliance certification** support\n\n### Safe Use Cases (Non-PHI)\n\nVoice agents CAN handle non-PHI healthcare tasks:\n\n* **Appointment scheduling** (dates, provider, contact info only)\n* **General FAQs** (office hours, location, insurance accepted)\n* **Wayfinding** (directions to clinic)\n\n**Do NOT collect:**\n\n* Reason for visit (diagnosis)\n* Symptoms or medical history\n* Prescription details\n* Insurance claim information\n\n**Example Compliant Prompt:**\n\n```json\n{\n  \"policy\": {\n    \"data_rules\": [\n      \"ONLY collect: name, phone, preferred appointment date/time\",\n      \"NEVER ask about: symptoms, diagnoses, medications, insurance details\",\n      \"If user mentions medical information, politely redirect to phone/in-person intake\"\n    ]\n  }\n}\n```\n\n## CCPA (California Consumer Privacy Act)\n\nApplies to businesses serving California residents.\n\n### CCPA Rights\n\nSimilar to GDPR:\n\n* **Right to know** — What data is collected\n* **Right to delete** — Request data deletion\n* **Right to opt-out** — Opt out of data \"sale\" (sharing)\n\n### Compliance Steps\n\n1. **Privacy Policy**\n   * Disclose data collection practices\n   * Provide opt-out mechanism\n   * List third parties receiving data\n\n2. **Do Not Sell My Personal Information**\n   * Add link to website footer\n   * Provide opt-out form\n   * Honor requests within 15 days\n\n3. **Data Access and Deletion**\n   * Same as GDPR implementation\n   * Respond within 45 days\n\n## Data Localization Requirements\n\nSome jurisdictions require data to stay within borders:\n\n* **Russia** — Personal data of Russian citizens must be stored in Russia\n* **China** — Data generated in China must be stored in China\n\n### Implementation\n\nFor data localization:\n\n* Deploy VOX in local region (MongoDB Atlas regions)\n* Use OpenAI regional endpoints (if available)\n* Consult legal counsel for specific requirements\n\n## Compliance Checklist\n\n### General Privacy Compliance\n\n* \\[ ] Privacy policy published and accessible\n* \\[ ] Consent mechanism for data collection\n* \\[ ] Data retention policy defined and enforced\n* \\[ ] User data access request process\n* \\[ ] User data deletion request process\n* \\[ ] DPAs with all third-party processors\n* \\[ ] Regular compliance audits scheduled\n\n### Industry-Specific\n\n**Healthcare (HIPAA):**\n\n* \\[ ] BAA with all processors\n* \\[ ] Encryption at rest and in transit\n* \\[ ] Audit logging enabled\n* \\[ ] Access controls configured\n* \\[ ] Breach notification plan\n\n**Payments (PCI DSS):**\n\n* \\[ ] Agent never collects card data\n* \\[ ] Payment links use PCI-compliant processor\n* \\[ ] Transcripts sanitized for accidental card numbers\n\n**Finance (SOC 2, FINRA):**\n\n* \\[ ] Consult with compliance team\n* \\[ ] Implement enhanced audit logging\n* \\[ ] Configure data retention per regulations\n\n## Incident Response\n\n### Data Breach Procedure\n\nIf personal data is compromised:\n\n1. **Contain** — Stop the breach, secure systems\n2. **Assess** — Determine what data was accessed\n3. **Notify**\n   * GDPR: 72 hours to supervisory authority\n   * CCPA: Without unreasonable delay\n   * HIPAA: 60 days to affected individuals\n4. **Remediate** — Fix vulnerability, prevent recurrence\n5. **Document** — Maintain breach records\n\n### Breach Notification Template\n\n```\nSubject: Data Security Incident Notification\n\nWe are writing to inform you of a data security incident that may have affected your personal information.\n\nWhat Happened: [Brief description]\nData Affected: [Types of data: name, email, transcripts]\nWhat We're Doing: [Steps taken to secure systems]\nWhat You Can Do: [Recommended actions for users]\n\nFor questions, contact: security@yourcompany.com\n```\n\n## Best Practices\n\n## Next Steps\n\n**Need HIPAA-compliant deployment?** Contact Strategic Machines: compliance@strategicmachines.ai\n",
    "_searchMeta": {
      "cleanContent": "compliance overview vox deployments must comply with applicable regulations based on geography industry and data handling practices this guide covers common compliance requirements and how to configure the platform accordingly disclaimer: this documentation provides guidance not legal advice consult with legal counsel to ensure compliance with regulations applicable to your business gdpr general data protection regulation applies to processing personal data of eu residents personal data collected voice agents may collect: direct identifiers: name email phone number conversation data: session transcripts voice recordings technical data: ip address device information session metadata gdpr requirements lawful basis for processing establish lawful basis before collecting data: consent user explicitly agrees to data processing contractual necessity data needed to fulfill service legitimate interest balanced against user privacy implementation: display privacy policy before widget interaction obtain consent for transcript retention document lawful basis in privacy policy data minimization collect only necessary data: don t collect data you don t need limit transcript retention period avoid collecting sensitive personal data implementation: right to access users can request their data: provide session transcripts on request include all data associated with email phone deliver in machine-readable format json csv implementation: create admin endpoint to export user data include session metadata and transcripts respond within 30 days of request right to erasure right to be forgotten users can request data deletion: delete session transcripts remove user from databases anonymize analytics data implementation: data retention limits don t keep data longer than necessary: define retention period in privacy policy automatically delete old transcripts archive data with restricted access recommended retention: session transcripts: 90 days configurable usage metrics: 1 year anonymized analytics: indefinite implementation: data processing agreement dpa third-party processors require dpa: openai voice processing review openai dpa upstash rate limiting mongodb atlas data storage if using atlas implementation: execute dpa with each processor document data flow for gdpr audit ensure processors are gdpr-compliant privacy policy requirements include in your privacy policy: what data is collected name email transcripts why it s collected provide voice service how long it s retained 90 days for transcripts user rights access erasure portability third-party processors openai upstash contact for privacy requests sample language: when you interact with our voice assistant we collect your name email and conversation transcript to provide the service transcripts are retained for 90 days and then automatically deleted you can request access to or deletion of your data at any time by contacting privacy yourcompany com voice processing is performed by openai see their privacy policy at openai com privacy pci dss payment card industry data security standard applies if you process store or transmit credit card data critical rule: never collect card data via voice do not: ask users to speak credit card numbers collect cvv codes store card details in transcripts instead: use secure payment links stripe checkout redirect to web form for payment use tokenized payment methods example agent behavior: compliance checklist agent prompt explicitly forbids collecting card data payment flows redirect to pci-compliant processor transcripts do not contain card numbers even if user speaks them privacy policy discloses payment processor payment links use https and tokenization transcript sanitization if users accidentally speak card numbers sanitize transcripts: hipaa health insurance portability and accountability act applies if you collect protected health information phi of us patients what is phi protected health information includes: medical history or diagnosis treatment information health insurance details prescription information hipaa requirements for voice agents: business associate agreement baa with all processors encryption at rest and in transit access controls limiting who can view phi audit logging of all phi access data breach notification within 60 days standard vox platform is not hipaa-compliant default configuration does not meet hipaa requirements: no baa with openai standard api transcripts not encrypted at rest audit logging not comprehensive hipaa-compliant deployment for hipaa compliance contact strategic machines for: openai enterprise with baa encrypted mongodb deployment enhanced audit logging compliance certification support safe use cases non-phi voice agents can handle non-phi healthcare tasks: appointment scheduling dates provider contact info only general faqs office hours location insurance accepted wayfinding directions to clinic do not collect: reason for visit diagnosis symptoms or medical history prescription details insurance claim information example compliant prompt: ccpa california consumer privacy act applies to businesses serving california residents ccpa rights similar to gdpr: right to know what data is collected right to delete request data deletion right to opt-out opt out of data sale sharing compliance steps privacy policy disclose data collection practices provide opt-out mechanism list third parties receiving data do not sell my personal information add link to website footer provide opt-out form honor requests within 15 days data access and deletion same as gdpr implementation respond within 45 days data localization requirements some jurisdictions require data to stay within borders: russia personal data of russian citizens must be stored in russia china data generated in china must be stored in china implementation for data localization: deploy vox in local region mongodb atlas regions use openai regional endpoints if available consult legal counsel for specific requirements compliance checklist general privacy compliance privacy policy published and accessible consent mechanism for data collection data retention policy defined and enforced user data access request process user data deletion request process dpas with all third-party processors regular compliance audits scheduled industry-specific healthcare hipaa : baa with all processors encryption at rest and in transit audit logging enabled access controls configured breach notification plan payments pci dss : agent never collects card data payment links use pci-compliant processor transcripts sanitized for accidental card numbers finance soc 2 finra : consult with compliance team implement enhanced audit logging configure data retention per regulations incident response data breach procedure if personal data is compromised: contain stop the breach secure systems assess determine what data was accessed notify gdpr: 72 hours to supervisory authority ccpa: without unreasonable delay hipaa: 60 days to affected individuals remediate fix vulnerability prevent recurrence document maintain breach records breach notification template best practices next steps need hipaa-compliant deployment contact strategic machines: compliance strategicmachines ai",
      "headings": [
        "Compliance Overview",
        "GDPR (General Data Protection Regulation)",
        "PCI DSS (Payment Card Industry Data Security Standard)",
        "HIPAA (Health Insurance Portability and Accountability Act)",
        "CCPA (California Consumer Privacy Act)",
        "Data Localization Requirements",
        "Compliance Checklist",
        "Incident Response",
        "Best Practices",
        "Next Steps"
      ],
      "keywords": [
        "compliance",
        "GDPR",
        "PCI",
        "HIPAA",
        "privacy",
        "regulations",
        "Compliance Overview",
        "GDPR (General Data Protection Regulation)",
        "PCI DSS (Payment Card Industry Data Security Standard)",
        "HIPAA (Health Insurance Portability and Accountability Act)",
        "CCPA (California Consumer Privacy Act)",
        "Data Localization Requirements",
        "Compliance Checklist",
        "Incident Response",
        "Best Practices",
        "Next Steps",
        "Disclaimer:",
        "Direct identifiers",
        "Conversation data",
        "Technical data",
        "Consent",
        "Contractual necessity",
        "Legitimate interest",
        "Implementation:",
        "Recommended Retention:",
        "OpenAI",
        "Upstash",
        "MongoDB Atlas",
        "Sample Language:",
        "DO NOT:",
        "INSTEAD:",
        "Example Agent Behavior:",
        "For Voice Agents:",
        "Business Associate Agreement (BAA)",
        "Encryption",
        "Access controls",
        "Audit logging",
        "Data breach notification",
        "Default configuration does NOT meet HIPAA requirements:",
        "OpenAI Enterprise",
        "Encrypted MongoDB",
        "Enhanced audit logging",
        "Compliance certification",
        "Appointment scheduling",
        "General FAQs",
        "Wayfinding",
        "Do NOT collect:",
        "Example Compliant Prompt:",
        "Right to know",
        "Right to delete",
        "Right to opt-out",
        "Privacy Policy",
        "Do Not Sell My Personal Information",
        "Data Access and Deletion",
        "Russia",
        "China",
        "Healthcare (HIPAA):",
        "Payments (PCI DSS):",
        "Finance (SOC 2, FINRA):",
        "Contain",
        "Assess",
        "Notify",
        "Remediate",
        "Document",
        "Need HIPAA-compliant deployment?",
        "javascript\n// Agent prompt - avoid collecting unnecessary data\n{\n  \"data_rules\": [\n    \"Only collect information needed for booking\",\n    \"Do not ask for: SSN, passport, credit cards\",\n    \"Minimize personal details to name, email, phone\"\n  ]\n}",
        "#### 3. Right to Access\n\nUsers can request their data:\n\n* Provide session transcripts on request\n* Include all data associated with email/phone\n* Deliver in machine-readable format (JSON, CSV)\n\n**Implementation:**\n\n* Create admin endpoint to export user data\n* Include session metadata and transcripts\n* Respond within 30 days of request\n\n#### 4. Right to Erasure (\"Right to be Forgotten\")\n\nUsers can request data deletion:\n\n* Delete session transcripts\n* Remove user from databases\n* Anonymize analytics data\n\n**Implementation:**",
        "javascript\n// MongoDB deletion\ndb.realtime_sessions.deleteMany({ email: \"user@example.com\" })\ndb.usage_daily.deleteMany({ _id: /^d:<emailHash>:/ })\ndb.transcripts.deleteMany({ email: \"user@example.com\" })",
        "#### 5. Data Retention Limits\n\nDon't keep data longer than necessary:\n\n* Define retention period in privacy policy\n* Automatically delete old transcripts\n* Archive data with restricted access\n\n**Recommended Retention:**\n\n* Session transcripts: 90 days (configurable)\n* Usage metrics: 1 year\n* Anonymized analytics: Indefinite\n\n**Implementation:**",
        "javascript\n// Automated deletion script (run daily)\nconst retentionDays = 90;\nconst cutoffDate = new Date();\ncutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\ndb.transcripts.deleteMany({\n  createdAt: { $lt: cutoffDate }\n});",
        "#### 6. Data Processing Agreement (DPA)\n\nThird-party processors require DPA:\n\n* **OpenAI** — Voice processing (review OpenAI DPA)\n* **Upstash** — Rate limiting\n* **MongoDB Atlas** — Data storage (if using Atlas)\n\n**Implementation:**\n\n* Execute DPA with each processor\n* Document data flow for GDPR audit\n* Ensure processors are GDPR-compliant\n\n### Privacy Policy Requirements\n\nInclude in your privacy policy:\n\n* What data is collected (name, email, transcripts)\n* Why it's collected (provide voice service)\n* How long it's retained (90 days for transcripts)\n* User rights (access, erasure, portability)\n* Third-party processors (OpenAI, Upstash)\n* Contact for privacy requests\n\n**Sample Language:**\n\n> \"When you interact with our voice assistant, we collect your name, email, and conversation transcript to provide the service. Transcripts are retained for 90 days and then automatically deleted. You can request access to or deletion of your data at any time by contacting privacy@yourcompany.com. Voice processing is performed by OpenAI (see their privacy policy at openai.com/privacy).\"\n\n## PCI DSS (Payment Card Industry Data Security Standard)\n\nApplies if you process, store, or transmit credit card data.\n\n### Critical Rule: Never Collect Card Data via Voice\n\n**DO NOT:**\n\n* Ask users to speak credit card numbers\n* Collect CVV codes\n* Store card details in transcripts\n\n**INSTEAD:**\n\n* Use secure payment links (Stripe checkout)\n* Redirect to web form for payment\n* Use tokenized payment methods\n\n**Example Agent Behavior:**",
        "User: \"I'd like to pay for my booking\"\nAgent: \"I'll send you a secure payment link via email. Please complete payment there. Never share credit card information over voice.\"",
        "### Compliance Checklist\n\n* \\[ ] Agent prompt explicitly forbids collecting card data\n* \\[ ] Payment flows redirect to PCI-compliant processor\n* \\[ ] Transcripts do not contain card numbers (even if user speaks them)\n* \\[ ] Privacy policy discloses payment processor\n* \\[ ] Payment links use HTTPS and tokenization\n\n### Transcript Sanitization\n\nIf users accidentally speak card numbers, sanitize transcripts:",
        "javascript\n// Redact potential card numbers from transcripts\nfunction sanitizeTranscript(text) {\n  // Redact 16-digit sequences (card numbers)\n  return text.replace(/\\b\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}[\\s-]?\\d{4}\\b/g, '[REDACTED]');\n}",
        "## HIPAA (Health Insurance Portability and Accountability Act)\n\nApplies if you collect Protected Health Information (PHI) of US patients.\n\n### What is PHI?\n\nProtected Health Information includes:\n\n* Medical history or diagnosis\n* Treatment information\n* Health insurance details\n* Prescription information\n\n### HIPAA Requirements\n\n**For Voice Agents:**\n\n1. **Business Associate Agreement (BAA)** with all processors\n2. **Encryption** at rest and in transit\n3. **Access controls** limiting who can view PHI\n4. **Audit logging** of all PHI access\n5. **Data breach notification** within 60 days\n\n### Standard VOX Platform is NOT HIPAA-Compliant\n\n**Default configuration does NOT meet HIPAA requirements:**\n\n* No BAA with OpenAI (standard API)\n* Transcripts not encrypted at rest\n* Audit logging not comprehensive\n\n### HIPAA-Compliant Deployment\n\nFor HIPAA compliance, contact Strategic Machines for:\n\n* **OpenAI Enterprise** with BAA\n* **Encrypted MongoDB** deployment\n* **Enhanced audit logging**\n* **Compliance certification** support\n\n### Safe Use Cases (Non-PHI)\n\nVoice agents CAN handle non-PHI healthcare tasks:\n\n* **Appointment scheduling** (dates, provider, contact info only)\n* **General FAQs** (office hours, location, insurance accepted)\n* **Wayfinding** (directions to clinic)\n\n**Do NOT collect:**\n\n* Reason for visit (diagnosis)\n* Symptoms or medical history\n* Prescription details\n* Insurance claim information\n\n**Example Compliant Prompt:**",
        "json\n{\n  \"policy\": {\n    \"data_rules\": [\n      \"ONLY collect: name, phone, preferred appointment date/time\",\n      \"NEVER ask about: symptoms, diagnoses, medications, insurance details\",\n      \"If user mentions medical information, politely redirect to phone/in-person intake\"\n    ]\n  }\n}",
        "## CCPA (California Consumer Privacy Act)\n\nApplies to businesses serving California residents.\n\n### CCPA Rights\n\nSimilar to GDPR:\n\n* **Right to know** — What data is collected\n* **Right to delete** — Request data deletion\n* **Right to opt-out** — Opt out of data \"sale\" (sharing)\n\n### Compliance Steps\n\n1. **Privacy Policy**\n   * Disclose data collection practices\n   * Provide opt-out mechanism\n   * List third parties receiving data\n\n2. **Do Not Sell My Personal Information**\n   * Add link to website footer\n   * Provide opt-out form\n   * Honor requests within 15 days\n\n3. **Data Access and Deletion**\n   * Same as GDPR implementation\n   * Respond within 45 days\n\n## Data Localization Requirements\n\nSome jurisdictions require data to stay within borders:\n\n* **Russia** — Personal data of Russian citizens must be stored in Russia\n* **China** — Data generated in China must be stored in China\n\n### Implementation\n\nFor data localization:\n\n* Deploy VOX in local region (MongoDB Atlas regions)\n* Use OpenAI regional endpoints (if available)\n* Consult legal counsel for specific requirements\n\n## Compliance Checklist\n\n### General Privacy Compliance\n\n* \\[ ] Privacy policy published and accessible\n* \\[ ] Consent mechanism for data collection\n* \\[ ] Data retention policy defined and enforced\n* \\[ ] User data access request process\n* \\[ ] User data deletion request process\n* \\[ ] DPAs with all third-party processors\n* \\[ ] Regular compliance audits scheduled\n\n### Industry-Specific\n\n**Healthcare (HIPAA):**\n\n* \\[ ] BAA with all processors\n* \\[ ] Encryption at rest and in transit\n* \\[ ] Audit logging enabled\n* \\[ ] Access controls configured\n* \\[ ] Breach notification plan\n\n**Payments (PCI DSS):**\n\n* \\[ ] Agent never collects card data\n* \\[ ] Payment links use PCI-compliant processor\n* \\[ ] Transcripts sanitized for accidental card numbers\n\n**Finance (SOC 2, FINRA):**\n\n* \\[ ] Consult with compliance team\n* \\[ ] Implement enhanced audit logging\n* \\[ ] Configure data retention per regulations\n\n## Incident Response\n\n### Data Breach Procedure\n\nIf personal data is compromised:\n\n1. **Contain** — Stop the breach, secure systems\n2. **Assess** — Determine what data was accessed\n3. **Notify**\n   * GDPR: 72 hours to supervisory authority\n   * CCPA: Without unreasonable delay\n   * HIPAA: 60 days to affected individuals\n4. **Remediate** — Fix vulnerability, prevent recurrence\n5. **Document** — Maintain breach records\n\n### Breach Notification Template",
        "Subject: Data Security Incident Notification\n\nWe are writing to inform you of a data security incident that may have affected your personal information.\n\nWhat Happened: [Brief description]\nData Affected: [Types of data: name, email, transcripts]\nWhat We're Doing: [Steps taken to secure systems]\nWhat You Can Do: [Recommended actions for users]\n\nFor questions, contact: security@yourcompany.com"
      ]
    }
  },
  {
    "slug": "/security",
    "title": "Security & Compliance",
    "description": "Security architecture, authentication, bot protection, and compliance best practices for the VOX platform.",
    "content": "## Security & Compliance\n\nThe VOX platform implements defense-in-depth security with layered protection: edge rate limiting, bot detection, origin validation, session controls, and usage quotas.\n\nThis guide covers the security architecture and best practices for protecting your voice agents and customer data.\n\n## Security Layers\n\n## Security Topics\n\n## Security Best Practices\n\n### Widget Key Management\n\n**Do:**\n\n* Create separate widget keys for each domain\n* Use environment-specific keys (dev, staging, production)\n* Rotate keys quarterly\n* Revoke compromised keys immediately\n* Monitor usage per key\n\n**Don't:**\n\n* Use wildcards in origin configuration\n* Share widget keys across environments\n* Commit widget keys to git repositories\n* Reuse revoked keys\n\n### Secret Management\n\n**Do:**\n\n* Store API secrets in environment variables\n* Use different secrets per environment\n* Rotate secrets regularly\n* Encrypt secrets at rest\n* Use `{{secrets.*}}` template interpolation\n\n**Don't:**\n\n* Hardcode secrets in tool descriptors\n* Share secrets in plaintext\n* Log secret values\n* Expose secrets in client-side code\n\n### Session Security\n\n**Do:**\n\n* Set appropriate session timeouts\n* Enforce idle timeout limits\n* Track concurrent sessions per user\n* Implement session quotas\n* Clear sessions on quota violations\n\n**Don't:**\n\n* Allow unlimited session duration\n* Skip heartbeat enforcement\n* Ignore idle sessions\n* Reuse session tokens\n\n### API Security\n\n**Do:**\n\n* Use HTTPS for all API communications\n* Validate all input parameters\n* Implement request signing for sensitive operations\n* Use API keys per tenant\n* Monitor API usage patterns\n\n**Don't:**\n\n* Accept HTTP connections in production\n* Trust client-provided data without validation\n* Share API keys across tenants\n* Skip authentication on \"internal\" APIs\n\n## Threat Model\n\n### Common Threats\n\n| Threat | Mitigation | Layer |\n|--------|-----------|-------|\n| **DDoS / High Traffic** | Edge rate limiting (60 req/min per IP) | Edge |\n| **Bot Attacks** | BotID verification, block non-verified bots | Edge |\n| **Unauthorized Access** | Widget key origin validation | Server |\n| **Session Hijacking** | HTTPOnly cookies, secure JWT tokens | Server |\n| **API Abuse** | Server-side rate limits, usage quotas | Server |\n| **Cost Attacks** | Daily token/dollar caps, concurrent session limits | Server |\n| **Data Exfiltration** | Secrets not in responses, auth required for PII | Application |\n\n### Defense in Depth\n\n```\n┌─────────────────────────────────────┐\n│  Edge Layer (Upstash)               │\n│  - IP rate limiting                 │\n│  - Bot detection (BotID)            │\n└────────────┬────────────────────────┘\n             │\n┌────────────▼────────────────────────┐\n│  Server Layer (MongoDB)             │\n│  - Session rate limiting            │\n│  - Origin validation                │\n│  - Concurrent session limits        │\n└────────────┬────────────────────────┘\n             │\n┌────────────▼────────────────────────┐\n│  Application Layer                  │\n│  - Usage quotas (tokens, dollars)   │\n│  - Parameter validation             │\n│  - Secret management                │\n└─────────────────────────────────────┘\n```\n\n## Compliance Considerations\n\n### GDPR (General Data Protection Regulation)\n\n**Data Collection:**\n\n* Voice agents may collect personal data (name, email, phone)\n* Implement privacy policy disclosing data collection\n* Obtain consent before processing personal data\n* Provide data access and deletion mechanisms\n\n**Data Retention:**\n\n* Session transcripts stored for monitoring/improvement\n* Configure retention periods (default: 90 days)\n* Implement automated deletion of expired data\n* Allow users to request transcript deletion\n\n**Data Processing:**\n\n* Audio streams processed by OpenAI Realtime API\n* Review OpenAI's data processing agreement\n* Ensure GDPR-compliant subprocessor agreements\n* Document data flow for compliance audits\n\n### PCI DSS (Payment Card Industry)\n\n**Never collect payment card data via voice agent:**\n\n* Don't ask for credit card numbers\n* Don't process payments through voice\n* Use secure payment links instead\n* Redirect to PCI-compliant payment processor\n\n### HIPAA (Health Insurance Portability and Accountability Act)\n\n**Protected Health Information (PHI):**\n\n* Don't collect PHI without Business Associate Agreement (BAA)\n* Limit healthcare agents to scheduling only\n* Don't provide medical advice or diagnosis\n* Implement encryption for PHI at rest and in transit\n* Maintain audit logs of PHI access\n\n**Note:** Standard VOX platform is not HIPAA-compliant by default. Contact Strategic Machines for HIPAA-ready deployment options.\n\n## Security Checklist\n\n### Pre-Deployment\n\n* \\[ ] Widget keys configured with exact origins (no wildcards)\n* \\[ ] API secrets stored in environment variables\n* \\[ ] Rate limits configured appropriately for expected traffic\n* \\[ ] Session timeouts and idle limits set\n* \\[ ] Bot protection enabled and tested\n* \\[ ] HTTPS enforced on all endpoints\n* \\[ ] Privacy policy published and linked\n\n### Production\n\n* \\[ ] Monitor session creation rate for anomalies\n* \\[ ] Review rate limit violations weekly\n* \\[ ] Audit API usage patterns\n* \\[ ] Rotate secrets quarterly\n* \\[ ] Review and revoke unused widget keys\n* \\[ ] Test disaster recovery procedures\n* \\[ ] Maintain compliance audit trail\n\n### Incident Response\n\n* \\[ ] Define security incident response plan\n* \\[ ] Establish breach notification procedures\n* \\[ ] Document escalation contacts\n* \\[ ] Test incident response annually\n* \\[ ] Maintain security contact: security@strategicmachines.ai\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "security compliance the vox platform implements defense-in-depth security with layered protection: edge rate limiting bot detection origin validation session controls and usage quotas this guide covers the security architecture and best practices for protecting your voice agents and customer data security layers security topics security best practices widget key management do: create separate widget keys for each domain use environment-specific keys dev staging production rotate keys quarterly revoke compromised keys immediately monitor usage per key don t: use wildcards in origin configuration share widget keys across environments commit widget keys to git repositories reuse revoked keys secret management do: store api secrets in environment variables use different secrets per environment rotate secrets regularly encrypt secrets at rest use secrets template interpolation don t: hardcode secrets in tool descriptors share secrets in plaintext log secret values expose secrets in client-side code session security do: set appropriate session timeouts enforce idle timeout limits track concurrent sessions per user implement session quotas clear sessions on quota violations don t: allow unlimited session duration skip heartbeat enforcement ignore idle sessions reuse session tokens api security do: use https for all api communications validate all input parameters implement request signing for sensitive operations use api keys per tenant monitor api usage patterns don t: accept http connections in production trust client-provided data without validation share api keys across tenants skip authentication on internal apis threat model common threats threat mitigation layer-------- ----------- -------ddos high traffic edge rate limiting 60 req min per ip edgebot attacks botid verification block non-verified bots edgeunauthorized access widget key origin validation serversession hijacking httponly cookies secure jwt tokens serverapi abuse server-side rate limits usage quotas servercost attacks daily token dollar caps concurrent session limits serverdata exfiltration secrets not in responses auth required for pii application defense in depth compliance considerations gdpr general data protection regulation data collection: voice agents may collect personal data name email phone implement privacy policy disclosing data collection obtain consent before processing personal data provide data access and deletion mechanisms data retention: session transcripts stored for monitoring improvement configure retention periods default: 90 days implement automated deletion of expired data allow users to request transcript deletion data processing: audio streams processed by openai realtime api review openai s data processing agreement ensure gdpr-compliant subprocessor agreements document data flow for compliance audits pci dss payment card industry never collect payment card data via voice agent: don t ask for credit card numbers don t process payments through voice use secure payment links instead redirect to pci-compliant payment processor hipaa health insurance portability and accountability act protected health information phi : don t collect phi without business associate agreement baa limit healthcare agents to scheduling only don t provide medical advice or diagnosis implement encryption for phi at rest and in transit maintain audit logs of phi access note: standard vox platform is not hipaa-compliant by default contact strategic machines for hipaa-ready deployment options security checklist pre-deployment widget keys configured with exact origins no wildcards api secrets stored in environment variables rate limits configured appropriately for expected traffic session timeouts and idle limits set bot protection enabled and tested https enforced on all endpoints privacy policy published and linked production monitor session creation rate for anomalies review rate limit violations weekly audit api usage patterns rotate secrets quarterly review and revoke unused widget keys test disaster recovery procedures maintain compliance audit trail incident response define security incident response plan establish breach notification procedures document escalation contacts test incident response annually maintain security contact: security strategicmachines ai next steps",
      "headings": [
        "Security & Compliance",
        "Security Layers",
        "Security Topics",
        "Security Best Practices",
        "Threat Model",
        "Compliance Considerations",
        "Security Checklist",
        "Next Steps"
      ],
      "keywords": [
        "security",
        "compliance",
        "authentication",
        "protection",
        "Security & Compliance",
        "Security Layers",
        "Security Topics",
        "Security Best Practices",
        "Threat Model",
        "Compliance Considerations",
        "Security Checklist",
        "Next Steps",
        "Do:",
        "Don't:",
        "DDoS / High Traffic",
        "Bot Attacks",
        "Unauthorized Access",
        "Session Hijacking",
        "API Abuse",
        "Cost Attacks",
        "Data Exfiltration",
        "Data Collection:",
        "Data Retention:",
        "Data Processing:",
        "Never collect payment card data via voice agent:",
        "Protected Health Information (PHI):",
        "Note:",
        "{{secrets.*}}",
        "┌─────────────────────────────────────┐\n│  Edge Layer (Upstash)               │\n│  - IP rate limiting                 │\n│  - Bot detection (BotID)            │\n└────────────┬────────────────────────┘\n             │\n┌────────────▼────────────────────────┐\n│  Server Layer (MongoDB)             │\n│  - Session rate limiting            │\n│  - Origin validation                │\n│  - Concurrent session limits        │\n└────────────┬────────────────────────┘\n             │\n┌────────────▼────────────────────────┐\n│  Application Layer                  │\n│  - Usage quotas (tokens, dollars)   │\n│  - Parameter validation             │\n│  - Secret management                │\n└─────────────────────────────────────┘"
      ]
    }
  },
  {
    "slug": "/security/ratelimiting",
    "title": "Rate Limiting",
    "description": "Layered rate limiting architecture with edge and server-side controls for security and cost management.",
    "content": "## Rate Limiting Architecture\n\nThe VOX platform implements defense-in-depth rate limiting with two layers: edge (Upstash Redis) and server (MongoDB). This protects against abuse, controls costs, and ensures fair resource distribution.\n\n## Rate Limiting Layers\n\n```\n┌─────────────────────────────────────┐\n│  Layer 1: Edge (Upstash Redis)      │\n│  - IP-based: 60 req/min             │\n│  - User-based: 120 req/min          │\n│  - Ultra-fast (sub-10ms)            │\n└────────────┬────────────────────────┘\n             │\n             ▼ (if within limits)\n┌─────────────────────────────────────┐\n│  Layer 2: Server (MongoDB)          │\n│  - Session creation: 12/min         │\n│  - Daily token quota: 300k          │\n│  - Concurrent sessions: 10          │\n└─────────────────────────────────────┘\n```\n\n## Edge Rate Limiting (Upstash)\n\nApplied at the CDN edge before requests reach the application server.\n\n### Limits\n\n| Scope | Limit | Window | Environment Variable |\n|-------|-------|--------|---------------------|\n| Per IP | 60 requests | 1 minute | `RATE_IP_PER_MIN` |\n| Per User (Console) | 120 requests | 1 minute | `RATE_USER_PER_MIN` |\n| Burst | 20 requests | Instant | `RATE_BURST` |\n\n### How It Works\n\n1. Request arrives at edge\n2. Upstash Redis checks counter for IP/user\n3. If under limit: increment counter, allow request\n4. If over limit: return 429 with Retry-After header\n\n**Response Headers:**\n\n```http\nX-RateLimit-Limit: 60\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1737654321\nRetry-After: 60\n```\n\n### Configuration\n\n```bash\n# .env\nUPSTASH_REDIS_REST_URL=https://your-redis.upstash.io\nUPSTASH_REDIS_REST_TOKEN=your-token\n\n# Optional (defaults shown)\nRATE_IP_PER_MIN=60\nRATE_USER_PER_MIN=120\nRATE_BURST=20\n```\n\n### Benefits\n\n* **Ultra-low latency** — Sub-10ms overhead\n* **Global distribution** — Upstash edge locations worldwide\n* **Cost effective** — Block abuse before hitting your server\n* **DDoS protection** — Stops attacks at the edge\n\n## Server Rate Limiting (MongoDB)\n\nApplied at the application layer with persistent counters.\n\n### Session Creation Limits\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Sessions/minute | 12 | 3 | `WIDGET_SESSION_PER_MIN`, `CONSOLE_SESSION_PER_MIN` |\n\n**Purpose:** Prevent session flooding and control OpenAI API costs\n\n### Usage Quotas\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Daily tokens | 300,000 | 50,000 | `WIDGET_MAX_TOKENS_DAILY`, `CONSOLE_MAX_TOKENS_DAILY` |\n| Daily dollars | $20 | $1 | `WIDGET_MAX_DOLLARS_DAILY`, `CONSOLE_MAX_DOLLARS_DAILY` |\n\n**Purpose:** Prevent runaway costs, enforce budget limits\n\n### Concurrent Session Limits\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Max concurrent | 10 | 1 | `WIDGET_MAX_CONCURRENT_SESSIONS`, `CONSOLE_MAX_CONCURRENT_SESSIONS` |\n\n**Purpose:** Prevent resource exhaustion, control OpenAI parallel requests\n\n### Session Duration Limits\n\n| Limit | Default | Variable |\n|-------|---------|----------|\n| Max duration | 15 minutes | `MAX_SESSION_MINUTES` |\n| Idle timeout | 300 seconds (5 min) | `MAX_SESSION_IDLE_SEC` |\n\n**Purpose:** Prevent abandoned sessions from consuming resources\n\n## Fixed-Window Algorithm\n\nBoth layers use a fixed-window counter algorithm:\n\n```\nWindow: 10:00:00 - 10:00:59\n\nRequest at 10:00:05 → Count: 1/60\nRequest at 10:00:15 → Count: 2/60\n...\nRequest at 10:00:55 → Count: 60/60 (limit reached)\nRequest at 10:00:58 → Rejected (429)\n\nNew window: 10:01:00 → Count resets to 0\n```\n\n**Trade-off:** Simple and performant, but allows up to 2x limit at window boundaries (requests at 10:00:59 and 10:01:00).\n\n## Rate Limit Responses\n\n### HTTP 429 (Too Many Requests)\n\n```json\n{\n  \"error\": \"Too many requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"userMessage\": \"Please wait a moment before trying again.\",\n  \"retryAfter\": 60\n}\n```\n\n**Client Handling:**\n\n* Display user-friendly message\n* Show countdown timer using `retryAfter`\n* Disable retry button until timer expires\n* Implement exponential backoff for automatic retries\n\n### Error Codes\n\n| Code | Meaning | Layer |\n|------|---------|-------|\n| `RATE_LIMIT_EXCEEDED` | Generic rate limit | Edge |\n| `MAX_CONCURRENT_SESSIONS` | Too many active sessions | Server |\n| `DAILY_QUOTA_EXCEEDED` | Usage quota exhausted | Server |\n| `SESSION_DURATION_EXCEEDED` | Session too long | Server |\n\n## Monitoring\n\n### Key Metrics\n\n**Edge Layer:**\n\n* Rate limit hit rate (% of requests blocked)\n* Top IPs hitting limits\n* Geographic distribution of blocks\n\n**Server Layer:**\n\n* Sessions created per minute (track patterns)\n* Daily quota usage per tenant\n* Concurrent session count\n\n### Alert Thresholds\n\n| Metric | Alert At | Action |\n|--------|----------|--------|\n| Edge limit hit rate | More than 5% | Investigate for attack or legitimate spike |\n| Quota usage | More than 80% | Warn user, consider increasing quota |\n| Concurrent sessions | At limit for more than 1 hour | Check for stuck sessions |\n\n## Adjusting Limits\n\n### When to Increase\n\n**Edge Limits:**\n\n* Legitimate traffic patterns exceed defaults\n* Specific IP ranges need higher limits (corporate VPNs)\n* Special events with traffic spikes\n\n**Server Limits:**\n\n* Business growth justifies higher capacity\n* ROI analysis supports increased spending\n* User feedback indicates limits too restrictive\n\n### How to Adjust\n\n**Environment Variables:**\n\n```bash\n# Increase widget session limit\nWIDGET_SESSION_PER_MIN=20\n\n# Increase daily token quota\nWIDGET_MAX_TOKENS_DAILY=500000\n\n# Increase concurrent sessions\nWIDGET_MAX_CONCURRENT_SESSIONS=25\n```\n\n**Deploy changes:**\n\n1. Update environment variables\n2. Restart application\n3. Monitor metrics for 24-48 hours\n4. Adjust further if needed\n\n## Best Practices\n\n## Troubleshooting\n\n### High Rate Limit Violations\n\n**Symptoms:**\n\n* Many 429 errors in logs\n* User complaints about access denied\n\n**Diagnosis:**\n\n1. Check which limit is being hit (edge vs server)\n2. Review IP addresses/users hitting limits\n3. Analyze time patterns (gradual vs sudden spike)\n\n**Solutions:**\n\n* Legitimate traffic → Increase limits\n* Attack pattern → Keep limits, add IP blocks\n* Coding error (retry loop) → Fix client code\n\n### Quota Exhausted Mid-Day\n\n**Symptoms:**\n\n* `DAILY_QUOTA_EXCEEDED` errors before day ends\n* Sessions blocked unexpectedly\n\n**Diagnosis:**\n\n1. Review daily usage trends\n2. Check for unusual session patterns\n3. Analyze token usage per session\n\n**Solutions:**\n\n* Higher than expected traffic → Increase quota\n* Inefficient prompts → Optimize to reduce tokens\n* Attack or abuse → Investigate sessions\n\n### Concurrent Session Limit Reached\n\n**Symptoms:**\n\n* `MAX_CONCURRENT_SESSIONS` errors\n* Users can't start new sessions\n\n**Diagnosis:**\n\n1. Check active sessions count\n2. Look for sessions not ending properly\n3. Review idle session timeout settings\n\n**Solutions:**\n\n* Legitimate peak usage → Increase limit\n* Sessions not closing → Fix heartbeat logic\n* Abandoned sessions → Reduce idle timeout\n\n## Security Implications\n\n### Rate Limiting as Security Control\n\n**Protects Against:**\n\n* **DDoS attacks** — Edge limits block flooding\n* **Credential stuffing** — OTP rate limits prevent brute force\n* **Cost attacks** — Quota limits cap damage\n* **Resource exhaustion** — Concurrent limits prevent overload\n\n**Does NOT Protect Against:**\n\n* Sophisticated distributed attacks (many unique IPs)\n* Low-and-slow attacks (under rate limits)\n* Application-layer exploits\n\n**Combine with:**\n\n* Bot detection (BotID)\n* Origin validation (widget keys)\n* IP allowlisting (for known bad actors)\n\n## Next Steps\n",
    "_searchMeta": {
      "cleanContent": "rate limiting architecture the vox platform implements defense-in-depth rate limiting with two layers: edge upstash redis and server mongodb this protects against abuse controls costs and ensures fair resource distribution rate limiting layers edge rate limiting upstash applied at the cdn edge before requests reach the application server limits scope limit window environment variable------- ------- -------- ---------------------per ip 60 requests 1 minute rateipper_minper user console 120 requests 1 minute rateuserper_minburst 20 requests instant rate_burst how it works request arrives at edge upstash redis checks counter for ip user if under limit: increment counter allow request if over limit: return 429 with retry-after header response headers: configuration benefits ultra-low latency sub-10ms overhead global distribution upstash edge locations worldwide cost effective block abuse before hitting your server ddos protection stops attacks at the edge server rate limiting mongodb applied at the application layer with persistent counters session creation limits scope widget console variable------- -------- --------- ----------sessions minute 12 3 widgetsessionpermin consolesessionpermin purpose: prevent session flooding and control openai api costs usage quotas scope widget console variable------- -------- --------- ----------daily tokens 300 000 50 000 widgetmaxtokensdaily consolemaxtokensdailydaily dollars 20 1 widgetmaxdollarsdaily consolemaxdollarsdaily purpose: prevent runaway costs enforce budget limits concurrent session limits scope widget console variable------- -------- --------- ----------max concurrent 10 1 widgetmaxconcurrentsessions consolemaxconcurrentsessions purpose: prevent resource exhaustion control openai parallel requests session duration limits limit default variable------- --------- ----------max duration 15 minutes maxsessionminutesidle timeout 300 seconds 5 min maxsessionidle_sec purpose: prevent abandoned sessions from consuming resources fixed-window algorithm both layers use a fixed-window counter algorithm: trade-off: simple and performant but allows up to 2x limit at window boundaries requests at 10:00:59 and 10:01:00 rate limit responses http 429 too many requests client handling: display user-friendly message show countdown timer using retryafter disable retry button until timer expires implement exponential backoff for automatic retries error codes code meaning layer------ --------- -------ratelimitexceeded generic rate limit edgemaxconcurrentsessions too many active sessions serverdailyquotaexceeded usage quota exhausted serversessiondurationexceeded session too long server monitoring key metrics edge layer: rate limit hit rate of requests blocked top ips hitting limits geographic distribution of blocks server layer: sessions created per minute track patterns daily quota usage per tenant concurrent session count alert thresholds metric alert at action-------- ---------- --------edge limit hit rate more than 5 investigate for attack or legitimate spikequota usage more than 80 warn user consider increasing quotaconcurrent sessions at limit for more than 1 hour check for stuck sessions adjusting limits when to increase edge limits: legitimate traffic patterns exceed defaults specific ip ranges need higher limits corporate vpns special events with traffic spikes server limits: business growth justifies higher capacity roi analysis supports increased spending user feedback indicates limits too restrictive how to adjust environment variables: deploy changes: update environment variables restart application monitor metrics for 24-48 hours adjust further if needed best practices troubleshooting high rate limit violations symptoms: many 429 errors in logs user complaints about access denied diagnosis: check which limit is being hit edge vs server review ip addresses users hitting limits analyze time patterns gradual vs sudden spike solutions: legitimate traffic increase limits attack pattern keep limits add ip blocks coding error retry loop fix client code quota exhausted mid-day symptoms: dailyquotaexceeded errors before day ends sessions blocked unexpectedly diagnosis: review daily usage trends check for unusual session patterns analyze token usage per session solutions: higher than expected traffic increase quota inefficient prompts optimize to reduce tokens attack or abuse investigate sessions concurrent session limit reached symptoms: maxconcurrentsessions errors users can t start new sessions diagnosis: check active sessions count look for sessions not ending properly review idle session timeout settings solutions: legitimate peak usage increase limit sessions not closing fix heartbeat logic abandoned sessions reduce idle timeout security implications rate limiting as security control protects against: ddos attacks edge limits block flooding credential stuffing otp rate limits prevent brute force cost attacks quota limits cap damage resource exhaustion concurrent limits prevent overload does not protect against: sophisticated distributed attacks many unique ips low-and-slow attacks under rate limits application-layer exploits combine with: bot detection botid origin validation widget keys ip allowlisting for known bad actors next steps",
      "headings": [
        "Rate Limiting Architecture",
        "Rate Limiting Layers",
        "Edge Rate Limiting (Upstash)",
        "Server Rate Limiting (MongoDB)",
        "Fixed-Window Algorithm",
        "Rate Limit Responses",
        "Monitoring",
        "Adjusting Limits",
        "Best Practices",
        "Troubleshooting",
        "Security Implications",
        "Next Steps"
      ],
      "keywords": [
        "rate limiting",
        "throttling",
        "quotas",
        "security",
        "cost control",
        "Rate Limiting Architecture",
        "Rate Limiting Layers",
        "Edge Rate Limiting (Upstash)",
        "Server Rate Limiting (MongoDB)",
        "Fixed-Window Algorithm",
        "Rate Limit Responses",
        "Monitoring",
        "Adjusting Limits",
        "Best Practices",
        "Troubleshooting",
        "Security Implications",
        "Next Steps",
        "Response Headers:",
        "Ultra-low latency",
        "Global distribution",
        "Cost effective",
        "DDoS protection",
        "Purpose:",
        "Trade-off:",
        "Client Handling:",
        "Edge Layer:",
        "Server Layer:",
        "Edge Limits:",
        "Server Limits:",
        "Environment Variables:",
        "Deploy changes:",
        "Symptoms:",
        "Diagnosis:",
        "Solutions:",
        "Protects Against:",
        "DDoS attacks",
        "Credential stuffing",
        "Cost attacks",
        "Resource exhaustion",
        "Does NOT Protect Against:",
        "Combine with:",
        "┌─────────────────────────────────────┐\n│  Layer 1: Edge (Upstash Redis)      │\n│  - IP-based: 60 req/min             │\n│  - User-based: 120 req/min          │\n│  - Ultra-fast (sub-10ms)            │\n└────────────┬────────────────────────┘\n             │\n             ▼ (if within limits)\n┌─────────────────────────────────────┐\n│  Layer 2: Server (MongoDB)          │\n│  - Session creation: 12/min         │\n│  - Daily token quota: 300k          │\n│  - Concurrent sessions: 10          │\n└─────────────────────────────────────┘",
        "## Edge Rate Limiting (Upstash)\n\nApplied at the CDN edge before requests reach the application server.\n\n### Limits\n\n| Scope | Limit | Window | Environment Variable |\n|-------|-------|--------|---------------------|\n| Per IP | 60 requests | 1 minute |",
        "|\n| Per User (Console) | 120 requests | 1 minute |",
        "|\n| Burst | 20 requests | Instant |",
        "|\n\n### How It Works\n\n1. Request arrives at edge\n2. Upstash Redis checks counter for IP/user\n3. If under limit: increment counter, allow request\n4. If over limit: return 429 with Retry-After header\n\n**Response Headers:**",
        "http\nX-RateLimit-Limit: 60\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1737654321\nRetry-After: 60",
        "### Configuration",
        "bash\n# .env\nUPSTASH_REDIS_REST_URL=https://your-redis.upstash.io\nUPSTASH_REDIS_REST_TOKEN=your-token\n\n# Optional (defaults shown)\nRATE_IP_PER_MIN=60\nRATE_USER_PER_MIN=120\nRATE_BURST=20",
        "### Benefits\n\n* **Ultra-low latency** — Sub-10ms overhead\n* **Global distribution** — Upstash edge locations worldwide\n* **Cost effective** — Block abuse before hitting your server\n* **DDoS protection** — Stops attacks at the edge\n\n## Server Rate Limiting (MongoDB)\n\nApplied at the application layer with persistent counters.\n\n### Session Creation Limits\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Sessions/minute | 12 | 3 |",
        ",",
        "|\n\n**Purpose:** Prevent session flooding and control OpenAI API costs\n\n### Usage Quotas\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Daily tokens | 300,000 | 50,000 |",
        "|\n| Daily dollars | $20 | $1 |",
        "|\n\n**Purpose:** Prevent runaway costs, enforce budget limits\n\n### Concurrent Session Limits\n\n| Scope | Widget | Console | Variable |\n|-------|--------|---------|----------|\n| Max concurrent | 10 | 1 |",
        "|\n\n**Purpose:** Prevent resource exhaustion, control OpenAI parallel requests\n\n### Session Duration Limits\n\n| Limit | Default | Variable |\n|-------|---------|----------|\n| Max duration | 15 minutes |",
        "|\n| Idle timeout | 300 seconds (5 min) |",
        "|\n\n**Purpose:** Prevent abandoned sessions from consuming resources\n\n## Fixed-Window Algorithm\n\nBoth layers use a fixed-window counter algorithm:",
        "Window: 10:00:00 - 10:00:59\n\nRequest at 10:00:05 → Count: 1/60\nRequest at 10:00:15 → Count: 2/60\n...\nRequest at 10:00:55 → Count: 60/60 (limit reached)\nRequest at 10:00:58 → Rejected (429)\n\nNew window: 10:01:00 → Count resets to 0",
        "**Trade-off:** Simple and performant, but allows up to 2x limit at window boundaries (requests at 10:00:59 and 10:01:00).\n\n## Rate Limit Responses\n\n### HTTP 429 (Too Many Requests)",
        "json\n{\n  \"error\": \"Too many requests\",\n  \"code\": \"RATE_LIMIT_EXCEEDED\",\n  \"userMessage\": \"Please wait a moment before trying again.\",\n  \"retryAfter\": 60\n}",
        "**Client Handling:**\n\n* Display user-friendly message\n* Show countdown timer using",
        "* Disable retry button until timer expires\n* Implement exponential backoff for automatic retries\n\n### Error Codes\n\n| Code | Meaning | Layer |\n|------|---------|-------|\n|",
        "| Generic rate limit | Edge |\n|",
        "| Too many active sessions | Server |\n|",
        "| Usage quota exhausted | Server |\n|",
        "| Session too long | Server |\n\n## Monitoring\n\n### Key Metrics\n\n**Edge Layer:**\n\n* Rate limit hit rate (% of requests blocked)\n* Top IPs hitting limits\n* Geographic distribution of blocks\n\n**Server Layer:**\n\n* Sessions created per minute (track patterns)\n* Daily quota usage per tenant\n* Concurrent session count\n\n### Alert Thresholds\n\n| Metric | Alert At | Action |\n|--------|----------|--------|\n| Edge limit hit rate | More than 5% | Investigate for attack or legitimate spike |\n| Quota usage | More than 80% | Warn user, consider increasing quota |\n| Concurrent sessions | At limit for more than 1 hour | Check for stuck sessions |\n\n## Adjusting Limits\n\n### When to Increase\n\n**Edge Limits:**\n\n* Legitimate traffic patterns exceed defaults\n* Specific IP ranges need higher limits (corporate VPNs)\n* Special events with traffic spikes\n\n**Server Limits:**\n\n* Business growth justifies higher capacity\n* ROI analysis supports increased spending\n* User feedback indicates limits too restrictive\n\n### How to Adjust\n\n**Environment Variables:**",
        "bash\n# Increase widget session limit\nWIDGET_SESSION_PER_MIN=20\n\n# Increase daily token quota\nWIDGET_MAX_TOKENS_DAILY=500000\n\n# Increase concurrent sessions\nWIDGET_MAX_CONCURRENT_SESSIONS=25",
        "**Deploy changes:**\n\n1. Update environment variables\n2. Restart application\n3. Monitor metrics for 24-48 hours\n4. Adjust further if needed\n\n## Best Practices\n\n## Troubleshooting\n\n### High Rate Limit Violations\n\n**Symptoms:**\n\n* Many 429 errors in logs\n* User complaints about access denied\n\n**Diagnosis:**\n\n1. Check which limit is being hit (edge vs server)\n2. Review IP addresses/users hitting limits\n3. Analyze time patterns (gradual vs sudden spike)\n\n**Solutions:**\n\n* Legitimate traffic → Increase limits\n* Attack pattern → Keep limits, add IP blocks\n* Coding error (retry loop) → Fix client code\n\n### Quota Exhausted Mid-Day\n\n**Symptoms:**\n\n*",
        "errors before day ends\n* Sessions blocked unexpectedly\n\n**Diagnosis:**\n\n1. Review daily usage trends\n2. Check for unusual session patterns\n3. Analyze token usage per session\n\n**Solutions:**\n\n* Higher than expected traffic → Increase quota\n* Inefficient prompts → Optimize to reduce tokens\n* Attack or abuse → Investigate sessions\n\n### Concurrent Session Limit Reached\n\n**Symptoms:**\n\n*"
      ]
    }
  },
  {
    "slug": "/start/agentconfig",
    "title": "Agent Configuration",
    "description": "Configure multi-tenant settings, security controls, widget keys, and deploy your voice agent to production.",
    "content": "## Agent Configuration: From Design to Deployment\n\nYou've designed your agent, crafted the prompt, and built the tools. Now it's time to configure the multi-tenant architecture, set security controls, and deploy your agent to your website.\n\nVOX's configuration model supports multiple businesses (tenants), each with their own agents, widget keys, rate limits, and security settings — all managed from a centralized system.\n\n## The Multi-Tenant Configuration Model\n\nEvery deployment follows this hierarchy:\n\n```\nPlatform\r\n  └── Tenant (Your Business)\r\n      ├── Agent Settings\r\n      ├── Widget Keys\r\n      ├── Rate Limits\r\n      ├── API Secrets\r\n      └── Billing & Identity\n```\n\n### Tenant: Your Business Entity\n\nA **tenant** represents a single business or customer using the VOX platform. Each tenant has complete isolation from others — their data, agents, and configurations are private.\n\n**Tenant Object Structure:**\n\n```json\n{\r\n  \"tenantId\": \"cypress-resorts\",\r\n  \"name\": \"Cypress Resorts\",\r\n  \"status\": \"trial\",\r\n\r\n  \"identity\": {\r\n    \"legalName\": \"Cypress Resorts Inc\",\r\n    \"displayName\": \"Cypress Resorts\",\r\n    \"domain\": \"cypressresort.com\",\r\n    \"industry\": \"hospitality\",\r\n    \"timeZone\": \"America/New_York\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n\r\n  \"contacts\": {\r\n    \"primary\": {\r\n      \"name\": \"John Doe\",\r\n      \"email\": \"john@cypressresort.com\",\r\n      \"phone\": \"+1-555-123-4567\",\r\n      \"role\": \"Owner\"\r\n    },\r\n    \"billing\": {\r\n      \"email\": \"billing@cypressresort.com\"\r\n    },\r\n    \"technical\": {\r\n      \"email\": \"tech@cypressresort.com\"\r\n    }\r\n  },\r\n\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"concierge\",\r\n      \"label\": \"Cypress Concierge\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/your-org/agents/main/AGENT_CYPRESS.md\"\r\n      }\r\n    }\r\n  ],\r\n\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"main-site\",\r\n      \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\r\n      \"origin\": \"https://cypressresort.com\",\r\n      \"label\": \"Main marketing site\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n\r\n  \"limits\": {\r\n    \"maxAgents\": 5,\r\n    \"maxConcurrentCalls\": 20,\r\n    \"maxMonthlyMinutes\": 2000,\r\n    \"maxRequestsPerMinute\": 60\r\n  },\r\n\r\n  \"flags\": {\r\n    \"betaFeatures\": false,\r\n    \"allowExperimentalModels\": false\r\n  },\r\n\r\n  \"createdAt\": \"2025-01-10T00:00:00Z\",\r\n  \"updatedAt\": \"2025-01-15T00:00:00Z\"\r\n}\n```\n\n## Agent Settings\n\nLink your agent configuration (prompt + tools) to the tenant.\n\n### Basic Agent Setting\n\n```json\n{\r\n  \"agentId\": \"concierge\",\r\n  \"label\": \"Cypress Concierge\",\r\n  \"agentRepo\": {\r\n    \"provider\": \"github\",\r\n    \"baseRawUrl\": \"https://raw.githubusercontent.com/your-org/agents/main/AGENT_CYPRESS.md\"\r\n  }\r\n}\n```\n\n**Fields Explained:**\n\n| Field | Purpose | Example |\r\n|-------|---------|---------|\r\n| `agentId` | Unique identifier for this agent | `\"concierge\"`, `\"sales-bot\"` |\r\n| `label` | Human-readable name | `\"Cypress Concierge\"` |\r\n| `agentRepo.provider` | Where the agent config is stored | `\"github\"` (or omit for database storage) |\r\n| `agentRepo.baseRawUrl` | URL to the agent markdown file | GitHub raw content URL |\n\n### Agent Configuration Storage Options\n\nYou have two options for storing agent configurations (prompt + tools):\n\n**GitHub Approach:**\n\n* Store your agent definition as `AGENT_TENANTID.md` in a repo\n* Use raw GitHub URLs to fetch configs at runtime\n* Benefits: version history, rollback, staging vs production branches\n* VOX caches fetched configs for performance\n\n**Database Approach:**\n\n* Store prompt and tools as JSON documents in MongoDB\n* Simpler for prototypes\n* Less infrastructure but no built-in versioning\n\n## Widget Keys: Secure Embedding\n\nWidget keys control where your agent can be embedded. Each key is tied to a specific origin (domain) for security.\n\n### How Widget Keys Work\n\n1. You generate a widget key for each website/domain\n2. The key is embedded in the widget script on your site\n3. When users start a voice session, VOX verifies:\n   * The key is valid and not revoked\n   * The origin (website URL) matches the configured origin\n   * The tenant is active and within limits\n\nIf any check fails, the session is rejected with a CORS error or unauthorized response.\n\n### Widget Key Structure\n\n```json\n{\r\n  \"id\": \"main-site\",\r\n  \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\r\n  \"origin\": \"https://cypressresort.com\",\r\n  \"label\": \"Main marketing site\",\r\n  \"revoked\": false\r\n}\n```\n\n**Important Security Notes:**\n\n* **Origin must match exactly:** `https://cypressresort.com` ≠ `https://www.cypressresort.com`\n* Add separate keys for `www` and non-`www` versions if needed\n* Use different keys for staging (`https://staging.cypressresort.com`) and production\n* Never share widget keys across tenants\n* Revoke compromised keys immediately by setting `revoked: true`\n\n### Multiple Widget Keys\n\nA single tenant can have multiple widget keys for different sites or environments:\n\n```json\n{\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"production\",\r\n      \"key\": \"w_cypress_prod_abc123\",\r\n      \"origin\": \"https://cypressresort.com\",\r\n      \"label\": \"Production site\"\r\n    },\r\n    {\r\n      \"id\": \"staging\",\r\n      \"key\": \"w_cypress_staging_def456\",\r\n      \"origin\": \"https://staging.cypressresort.com\",\r\n      \"label\": \"Staging environment\"\r\n    },\r\n    {\r\n      \"id\": \"mobile\",\r\n      \"key\": \"w_cypress_mobile_ghi789\",\r\n      \"origin\": \"https://mobile.cypressresort.com\",\r\n      \"label\": \"Mobile app web view\"\r\n    }\r\n  ]\r\n}\n```\n\n## Rate Limits and Quotas\n\nProtect your costs and prevent abuse with configurable limits at multiple layers.\n\n### Tenant-Level Limits\n\n```json\n{\r\n  \"limits\": {\r\n    \"maxAgents\": 5,\r\n    \"maxConcurrentCalls\": 20,\r\n    \"maxMonthlyMinutes\": 2000,\r\n    \"maxRequestsPerMinute\": 60\r\n  }\r\n}\n```\n\n| Limit | What It Controls | Typical Value | Notes |\r\n|-------|------------------|---------------|-------|\r\n| `maxAgents` | Number of agents this tenant can create | 3-10 | Usually matches billing plan |\r\n| `maxConcurrentCalls` | Max simultaneous voice sessions | 10-50 | Prevents runaway costs; adjust based on traffic |\r\n| `maxMonthlyMinutes` | Total voice minutes per month | 500-5000 | Tied to billing tier |\r\n| `maxRequestsPerMinute` | API calls per minute | 60-180 | Prevents scripted abuse |\n\n### Platform-Wide Rate Limits\n\nVOX enforces additional limits at the platform level to protect infrastructure:\n\n**Edge Middleware (Fast Rejection):**\n\n* IP-based rate limiting (60 requests/min by default)\n* User-based rate limiting (120 requests/min for authenticated users)\n* Bot detection and blocking\n\n**Server-Side (Authoritative):**\n\n* Per-session quotas (tokens and dollars)\n* Daily spending caps per tenant\n* Session duration limits (15 minutes typical)\n* Idle timeout (5 minutes no activity)\n\n**Session Lifecycle:**\n\n```\n1. User clicks voice widget\r\n2. Edge checks IP rate limit → Pass\r\n3. Server checks widget key + origin → Valid\r\n4. Server checks concurrent sessions → Under limit\r\n5. Session created → Monitor usage\r\n6. Heartbeat every 45s → Update lastSeenAt\r\n7. Session ends when:\r\n   - User hangs up\r\n   - Duration exceeds maxSessionMinutes\r\n   - Idle exceeds maxSessionIdleSec\r\n   - Daily quota exceeded\n```\n\n### Recommended Limit Configuration\n\n## API Secrets Management\n\nStore sensitive credentials securely and reference them in tool descriptors.\n\n### Adding Secrets to Tenant\n\n```json\n{\r\n  \"tenantId\": \"cypress-resorts\",\r\n  \"secrets\": {\r\n    \"hotel_api_key\": \"sk_live_abc123...\",\r\n    \"stripe_secret_key\": \"sk_test_xyz789...\",\r\n    \"sendgrid_api_key\": \"SG.def456...\"\r\n  }\r\n}\n```\n\n### Using Secrets in Tools\n\nReference secrets in tool HTTP headers or body templates:\n\n```json\n{\r\n  \"http\": {\r\n    \"method\": \"POST\",\r\n    \"urlTemplate\": \"https://your-api.com/booking\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.hotel_api_key}}\"\r\n    }\r\n  }\r\n}\n```\n\n**Security Best Practices:**\n\n* Never hardcode API keys in tool descriptors\n* Use separate keys for staging and production\n* Rotate keys regularly\n* Store secrets encrypted in database\n* Limit secret access to server-side code only\n\n## Deployment Checklist\n\nBefore going live, verify every configuration element:\n\n* \\[ ] **Tenant configured** with correct tenantId, name, and contacts\n* \\[ ] **Agent settings** point to correct prompt and tools (GitHub or database)\n* \\[ ] **Widget key(s) created** with exact origin URL(s)\n* \\[ ] **Rate limits set** appropriate for expected traffic\n* \\[ ] **API secrets stored** and referenced correctly in tools\n* \\[ ] **Test widget** embedded on staging site\n* \\[ ] **Voice sessions tested** end-to-end (search, book, confirm)\n* \\[ ] **Error handling verified** (API failures, no results, invalid inputs)\n* \\[ ] **Monitoring enabled** for session transcripts and usage\n* \\[ ] **Escalation path defined** for human-in-the-loop scenarios\n\n## Embedding the Widget\n\nOnce configured, embed the VOX widget on your site:\n\n```html\n<!-- Add to your website's <head> or before closing </body> -->\r\n<script>\r\n  (function() {\r\n    window.voxConfig = {\r\n      tenantId: 'cypress-resorts',\r\n      agentId: 'concierge',\r\n      widgetKey: 'w_cypress_main_7f1b0e9c64f54d1a'\r\n    };\r\n    var script = document.createElement('script');\r\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\r\n    script.async = true;\r\n    document.head.appendChild(script);\r\n  })();\r\n</script>\n```\n\nThe widget will:\n\n* Validate the key and origin\n* Display a voice interface button\n* Handle microphone permissions\n* Stream audio to/from VOX platform\n* Render UI components from tool responses\n* Record transcripts for monitoring\n\n## Monitoring and Maintenance\n\nAfter deployment, actively monitor agent performance:\n\n**Key Metrics to Track:**\n\n* Session volume (daily/weekly/monthly)\n* Concurrent session peaks\n* Conversation completion rate\n* Average session duration\n* Tool call success/failure rates\n* Escalation frequency\n* Customer satisfaction (if collecting feedback)\n\n**Operational Tasks:**\n\n* Review conversation transcripts weekly\n* Refine prompts based on real user language\n* Add new tools as use cases emerge\n* Adjust rate limits based on growth\n* Rotate API secrets quarterly\n* Update agent configs for seasonal campaigns\n\n## Next Steps\n\nYour agent is configured and ready for production. Explore real-world examples to see complete implementations:\n",
    "_searchMeta": {
      "cleanContent": "agent configuration: from design to deployment you ve designed your agent crafted the prompt and built the tools now it s time to configure the multi-tenant architecture set security controls and deploy your agent to your website vox s configuration model supports multiple businesses tenants each with their own agents widget keys rate limits and security settings all managed from a centralized system the multi-tenant configuration model every deployment follows this hierarchy: tenant: your business entity a tenant represents a single business or customer using the vox platform each tenant has complete isolation from others their data agents and configurations are private tenant object structure: agent settings link your agent configuration prompt tools to the tenant basic agent setting fields explained: field purpose example ------- --------- --------- agentid unique identifier for this agent concierge sales-bot label human-readable name cypress concierge agentrepo provider where the agent config is stored github or omit for database storage agentrepo baserawurl url to the agent markdown file github raw content url agent configuration storage options you have two options for storing agent configurations prompt tools : github approach: store your agent definition as agent_tenantid md in a repo use raw github urls to fetch configs at runtime benefits: version history rollback staging vs production branches vox caches fetched configs for performance database approach: store prompt and tools as json documents in mongodb simpler for prototypes less infrastructure but no built-in versioning widget keys: secure embedding widget keys control where your agent can be embedded each key is tied to a specific origin domain for security how widget keys work you generate a widget key for each website domain the key is embedded in the widget script on your site when users start a voice session vox verifies: the key is valid and not revoked the origin website url matches the configured origin the tenant is active and within limits if any check fails the session is rejected with a cors error or unauthorized response widget key structure important security notes: origin must match exactly: https: cypressresort com https: www cypressresort com add separate keys for www and non-www versions if needed use different keys for staging https: staging cypressresort com and production never share widget keys across tenants revoke compromised keys immediately by setting revoked: true multiple widget keys a single tenant can have multiple widget keys for different sites or environments: rate limits and quotas protect your costs and prevent abuse with configurable limits at multiple layers tenant-level limits limit what it controls typical value notes ------- ------------------ --------------- ------- maxagents number of agents this tenant can create 3-10 usually matches billing plan maxconcurrentcalls max simultaneous voice sessions 10-50 prevents runaway costs adjust based on traffic maxmonthlyminutes total voice minutes per month 500-5000 tied to billing tier maxrequestsperminute api calls per minute 60-180 prevents scripted abuse platform-wide rate limits vox enforces additional limits at the platform level to protect infrastructure: edge middleware fast rejection : ip-based rate limiting 60 requests min by default user-based rate limiting 120 requests min for authenticated users bot detection and blocking server-side authoritative : per-session quotas tokens and dollars daily spending caps per tenant session duration limits 15 minutes typical idle timeout 5 minutes no activity session lifecycle: recommended limit configuration api secrets management store sensitive credentials securely and reference them in tool descriptors adding secrets to tenant using secrets in tools reference secrets in tool http headers or body templates: security best practices: never hardcode api keys in tool descriptors use separate keys for staging and production rotate keys regularly store secrets encrypted in database limit secret access to server-side code only deployment checklist before going live verify every configuration element: tenant configured with correct tenantid name and contacts agent settings point to correct prompt and tools github or database widget key s created with exact origin url s rate limits set appropriate for expected traffic api secrets stored and referenced correctly in tools test widget embedded on staging site voice sessions tested end-to-end search book confirm error handling verified api failures no results invalid inputs monitoring enabled for session transcripts and usage escalation path defined for human-in-the-loop scenarios embedding the widget once configured embed the vox widget on your site: the widget will: validate the key and origin display a voice interface button handle microphone permissions stream audio to from vox platform render ui components from tool responses record transcripts for monitoring monitoring and maintenance after deployment actively monitor agent performance: key metrics to track: session volume daily weekly monthly concurrent session peaks conversation completion rate average session duration tool call success failure rates escalation frequency customer satisfaction if collecting feedback operational tasks: review conversation transcripts weekly refine prompts based on real user language add new tools as use cases emerge adjust rate limits based on growth rotate api secrets quarterly update agent configs for seasonal campaigns next steps your agent is configured and ready for production explore real-world examples to see complete implementations:",
      "headings": [
        "Agent Configuration: From Design to Deployment",
        "The Multi-Tenant Configuration Model",
        "Agent Settings",
        "Widget Keys: Secure Embedding",
        "Rate Limits and Quotas",
        "API Secrets Management",
        "Deployment Checklist",
        "Embedding the Widget",
        "Monitoring and Maintenance",
        "Next Steps"
      ],
      "keywords": [
        "configuration",
        "tenant",
        "widget",
        "deployment",
        "security",
        "Agent Configuration: From Design to Deployment",
        "The Multi-Tenant Configuration Model",
        "Agent Settings",
        "Widget Keys: Secure Embedding",
        "Rate Limits and Quotas",
        "API Secrets Management",
        "Deployment Checklist",
        "Embedding the Widget",
        "Monitoring and Maintenance",
        "Next Steps",
        "Tenant Object Structure:",
        "Fields Explained:",
        "GitHub Approach:",
        "Database Approach:",
        "Important Security Notes:",
        "Origin must match exactly:",
        "Edge Middleware (Fast Rejection):",
        "Server-Side (Authoritative):",
        "Session Lifecycle:",
        "Security Best Practices:",
        "Tenant configured",
        "Agent settings",
        "Widget key(s) created",
        "Rate limits set",
        "API secrets stored",
        "Test widget",
        "Voice sessions tested",
        "Error handling verified",
        "Monitoring enabled",
        "Escalation path defined",
        "Key Metrics to Track:",
        "Operational Tasks:",
        "Platform\r\n  └── Tenant (Your Business)\r\n      ├── Agent Settings\r\n      ├── Widget Keys\r\n      ├── Rate Limits\r\n      ├── API Secrets\r\n      └── Billing & Identity",
        "### Tenant: Your Business Entity\n\nA **tenant** represents a single business or customer using the VOX platform. Each tenant has complete isolation from others — their data, agents, and configurations are private.\n\n**Tenant Object Structure:**",
        "json\n{\r\n  \"tenantId\": \"cypress-resorts\",\r\n  \"name\": \"Cypress Resorts\",\r\n  \"status\": \"trial\",\r\n\r\n  \"identity\": {\r\n    \"legalName\": \"Cypress Resorts Inc\",\r\n    \"displayName\": \"Cypress Resorts\",\r\n    \"domain\": \"cypressresort.com\",\r\n    \"industry\": \"hospitality\",\r\n    \"timeZone\": \"America/New_York\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n\r\n  \"contacts\": {\r\n    \"primary\": {\r\n      \"name\": \"John Doe\",\r\n      \"email\": \"john@cypressresort.com\",\r\n      \"phone\": \"+1-555-123-4567\",\r\n      \"role\": \"Owner\"\r\n    },\r\n    \"billing\": {\r\n      \"email\": \"billing@cypressresort.com\"\r\n    },\r\n    \"technical\": {\r\n      \"email\": \"tech@cypressresort.com\"\r\n    }\r\n  },\r\n\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"concierge\",\r\n      \"label\": \"Cypress Concierge\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/your-org/agents/main/AGENT_CYPRESS.md\"\r\n      }\r\n    }\r\n  ],\r\n\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"main-site\",\r\n      \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\r\n      \"origin\": \"https://cypressresort.com\",\r\n      \"label\": \"Main marketing site\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n\r\n  \"limits\": {\r\n    \"maxAgents\": 5,\r\n    \"maxConcurrentCalls\": 20,\r\n    \"maxMonthlyMinutes\": 2000,\r\n    \"maxRequestsPerMinute\": 60\r\n  },\r\n\r\n  \"flags\": {\r\n    \"betaFeatures\": false,\r\n    \"allowExperimentalModels\": false\r\n  },\r\n\r\n  \"createdAt\": \"2025-01-10T00:00:00Z\",\r\n  \"updatedAt\": \"2025-01-15T00:00:00Z\"\r\n}",
        "## Agent Settings\n\nLink your agent configuration (prompt + tools) to the tenant.\n\n### Basic Agent Setting",
        "json\n{\r\n  \"agentId\": \"concierge\",\r\n  \"label\": \"Cypress Concierge\",\r\n  \"agentRepo\": {\r\n    \"provider\": \"github\",\r\n    \"baseRawUrl\": \"https://raw.githubusercontent.com/your-org/agents/main/AGENT_CYPRESS.md\"\r\n  }\r\n}",
        "**Fields Explained:**\n\n| Field | Purpose | Example |\r\n|-------|---------|---------|\r\n|",
        "| Unique identifier for this agent |",
        ",",
        "|\r\n|",
        "| Human-readable name |",
        "| Where the agent config is stored |",
        "(or omit for database storage) |\r\n|",
        "| URL to the agent markdown file | GitHub raw content URL |\n\n### Agent Configuration Storage Options\n\nYou have two options for storing agent configurations (prompt + tools):\n\n**GitHub Approach:**\n\n* Store your agent definition as",
        "in a repo\n* Use raw GitHub URLs to fetch configs at runtime\n* Benefits: version history, rollback, staging vs production branches\n* VOX caches fetched configs for performance\n\n**Database Approach:**\n\n* Store prompt and tools as JSON documents in MongoDB\n* Simpler for prototypes\n* Less infrastructure but no built-in versioning\n\n## Widget Keys: Secure Embedding\n\nWidget keys control where your agent can be embedded. Each key is tied to a specific origin (domain) for security.\n\n### How Widget Keys Work\n\n1. You generate a widget key for each website/domain\n2. The key is embedded in the widget script on your site\n3. When users start a voice session, VOX verifies:\n   * The key is valid and not revoked\n   * The origin (website URL) matches the configured origin\n   * The tenant is active and within limits\n\nIf any check fails, the session is rejected with a CORS error or unauthorized response.\n\n### Widget Key Structure",
        "json\n{\r\n  \"id\": \"main-site\",\r\n  \"key\": \"w_cypress_main_7f1b0e9c64f54d1a\",\r\n  \"origin\": \"https://cypressresort.com\",\r\n  \"label\": \"Main marketing site\",\r\n  \"revoked\": false\r\n}",
        "**Important Security Notes:**\n\n* **Origin must match exactly:**",
        "≠",
        "* Add separate keys for",
        "and non-",
        "versions if needed\n* Use different keys for staging (",
        ") and production\n* Never share widget keys across tenants\n* Revoke compromised keys immediately by setting",
        "### Multiple Widget Keys\n\nA single tenant can have multiple widget keys for different sites or environments:",
        "json\n{\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"production\",\r\n      \"key\": \"w_cypress_prod_abc123\",\r\n      \"origin\": \"https://cypressresort.com\",\r\n      \"label\": \"Production site\"\r\n    },\r\n    {\r\n      \"id\": \"staging\",\r\n      \"key\": \"w_cypress_staging_def456\",\r\n      \"origin\": \"https://staging.cypressresort.com\",\r\n      \"label\": \"Staging environment\"\r\n    },\r\n    {\r\n      \"id\": \"mobile\",\r\n      \"key\": \"w_cypress_mobile_ghi789\",\r\n      \"origin\": \"https://mobile.cypressresort.com\",\r\n      \"label\": \"Mobile app web view\"\r\n    }\r\n  ]\r\n}",
        "## Rate Limits and Quotas\n\nProtect your costs and prevent abuse with configurable limits at multiple layers.\n\n### Tenant-Level Limits",
        "json\n{\r\n  \"limits\": {\r\n    \"maxAgents\": 5,\r\n    \"maxConcurrentCalls\": 20,\r\n    \"maxMonthlyMinutes\": 2000,\r\n    \"maxRequestsPerMinute\": 60\r\n  }\r\n}",
        "| Limit | What It Controls | Typical Value | Notes |\r\n|-------|------------------|---------------|-------|\r\n|",
        "| Number of agents this tenant can create | 3-10 | Usually matches billing plan |\r\n|",
        "| Max simultaneous voice sessions | 10-50 | Prevents runaway costs; adjust based on traffic |\r\n|",
        "| Total voice minutes per month | 500-5000 | Tied to billing tier |\r\n|",
        "| API calls per minute | 60-180 | Prevents scripted abuse |\n\n### Platform-Wide Rate Limits\n\nVOX enforces additional limits at the platform level to protect infrastructure:\n\n**Edge Middleware (Fast Rejection):**\n\n* IP-based rate limiting (60 requests/min by default)\n* User-based rate limiting (120 requests/min for authenticated users)\n* Bot detection and blocking\n\n**Server-Side (Authoritative):**\n\n* Per-session quotas (tokens and dollars)\n* Daily spending caps per tenant\n* Session duration limits (15 minutes typical)\n* Idle timeout (5 minutes no activity)\n\n**Session Lifecycle:**",
        "1. User clicks voice widget\r\n2. Edge checks IP rate limit → Pass\r\n3. Server checks widget key + origin → Valid\r\n4. Server checks concurrent sessions → Under limit\r\n5. Session created → Monitor usage\r\n6. Heartbeat every 45s → Update lastSeenAt\r\n7. Session ends when:\r\n   - User hangs up\r\n   - Duration exceeds maxSessionMinutes\r\n   - Idle exceeds maxSessionIdleSec\r\n   - Daily quota exceeded",
        "### Recommended Limit Configuration\n\n## API Secrets Management\n\nStore sensitive credentials securely and reference them in tool descriptors.\n\n### Adding Secrets to Tenant",
        "json\n{\r\n  \"tenantId\": \"cypress-resorts\",\r\n  \"secrets\": {\r\n    \"hotel_api_key\": \"sk_live_abc123...\",\r\n    \"stripe_secret_key\": \"sk_test_xyz789...\",\r\n    \"sendgrid_api_key\": \"SG.def456...\"\r\n  }\r\n}",
        "### Using Secrets in Tools\n\nReference secrets in tool HTTP headers or body templates:",
        "json\n{\r\n  \"http\": {\r\n    \"method\": \"POST\",\r\n    \"urlTemplate\": \"https://your-api.com/booking\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.hotel_api_key}}\"\r\n    }\r\n  }\r\n}",
        "**Security Best Practices:**\n\n* Never hardcode API keys in tool descriptors\n* Use separate keys for staging and production\n* Rotate keys regularly\n* Store secrets encrypted in database\n* Limit secret access to server-side code only\n\n## Deployment Checklist\n\nBefore going live, verify every configuration element:\n\n* \\[ ] **Tenant configured** with correct tenantId, name, and contacts\n* \\[ ] **Agent settings** point to correct prompt and tools (GitHub or database)\n* \\[ ] **Widget key(s) created** with exact origin URL(s)\n* \\[ ] **Rate limits set** appropriate for expected traffic\n* \\[ ] **API secrets stored** and referenced correctly in tools\n* \\[ ] **Test widget** embedded on staging site\n* \\[ ] **Voice sessions tested** end-to-end (search, book, confirm)\n* \\[ ] **Error handling verified** (API failures, no results, invalid inputs)\n* \\[ ] **Monitoring enabled** for session transcripts and usage\n* \\[ ] **Escalation path defined** for human-in-the-loop scenarios\n\n## Embedding the Widget\n\nOnce configured, embed the VOX widget on your site:",
        "html\n<!-- Add to your website's <head> or before closing </body> -->\r\n<script>\r\n  (function() {\r\n    window.voxConfig = {\r\n      tenantId: 'cypress-resorts',\r\n      agentId: 'concierge',\r\n      widgetKey: 'w_cypress_main_7f1b0e9c64f54d1a'\r\n    };\r\n    var script = document.createElement('script');\r\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\r\n    script.async = true;\r\n    document.head.appendChild(script);\r\n  })();\r\n</script>"
      ]
    }
  },
  {
    "slug": "/start/agentdesign",
    "title": "Agent Design",
    "description": "Plan your voice agent's purpose, personality, workflows, and success criteria before building.",
    "content": "## Agent Design: Blueprint for Success\n\nAgent design is where strategy meets execution. Before writing a single line of configuration, you need a clear blueprint that defines your agent's role, personality, and operational boundaries. This planning phase prevents costly rework and ensures your agent delivers real business value.\n\nThink of agent design as writing a job description for your newest team member — one who never sleeps, never forgets, and represents your brand in every conversation.\n\n## The Five Pillars of Agent Design\n\n### Pillar 1: Define Purpose and Scope\n\nStart with clarity about what problem your agent solves. Narrow, focused agents outperform generalists.\n\n**Ask yourself:**\n\n* What specific business problem does this agent solve?\n* Who will interact with it? (customers, employees, partners)\n* What does success look like? (completed bookings, resolved tickets, qualified leads)\n\n**Pro Tip:** Your first agent should do *one thing excellently* rather than many things poorly. You can always expand scope after validating the core workflow.\n\n**Examples of Well-Scoped Agents:**\n\n* **Cypress Resorts Concierge** — Handle room availability queries and booking reservations\n* **Otto (DIY Warehouse)** — Search products, recommend alternatives, guide to purchase\n* **Restaurant Host** — Check table availability, book reservations, handle party size changes\n\n### Pillar 2: Establish Personality and Brand Voice\n\nYour agent's personality should mirror your brand while fitting its specific role. This isn't about creativity — it's about consistency and trust.\n\n**Define these attributes:**\n\n| Attribute | Questions to Answer | Example |\r\n|-----------|-------------------|---------|\r\n| **Tone** | Formal or casual? Energetic or calm? | \"Warm, professional, concise\" |\r\n| **Language Style** | Short responses or detailed? Technical or simple? | \"Conversational but efficient — 2-3 sentences max\" |\r\n| **Emotional Range** | Empathetic? Enthusiastic? Neutral? | \"Helpful and patient, celebratory on booking success\" |\r\n| **Boundaries** | What won't it do? When does it escalate? | \"Won't handle complaints; escalates policy questions\" |\n\n**Example Personalities:**\n\n**Writing Your Personality Guide:**\n\n```\nAgent: Cypress Concierge\r\nTone: Warm, attentive, professional\r\nStyle: Speak like a luxury hotel concierge — anticipate needs, confirm details, celebrate bookings\r\nBoundaries: Doesn't handle cancellations or complaints (escalates to human)\r\nSample Phrases: \"I'd be delighted to help you find the perfect room,\" \"Let me check availability for you\"\n```\n\n### Pillar 3: Map Conversation Workflows\n\nDocument the primary conversation paths your agent will handle. Use simple flowcharts or bullet points — this doesn't need to be complex.\n\n**Core Workflow Template:**\n\n1. **Greeting & Intent Detection**\n   * How does the agent open? (\"Hi! I'm here to help you find and book the perfect room.\")\n   * How does it identify what the user wants?\n\n2. **Information Gathering**\n   * What details does the agent need? (dates, party size, preferences)\n   * How does it handle missing information? (prompt gently vs. assume defaults)\n\n3. **Action Execution**\n   * What tools get called? (search availability, check inventory, create booking)\n   * What data gets displayed? (room photos, product specs, confirmation details)\n\n4. **Confirmation & Next Steps**\n   * How does the agent confirm success? (show booking confirmation, payment link)\n   * What are the exit phrases? (\"Is there anything else I can help with?\")\n\n5. **Edge Cases & Escalation**\n   * Out of stock / unavailable? (suggest alternatives, capture lead)\n   * User changes mind mid-flow? (gracefully restart)\n   * Angry customer? (empathize and escalate to human)\n\n**Example: Restaurant Reservation Flow**\n\n```\n1. Greeting\r\n   → \"Hi! I'm here to help you reserve a table. What day works for you?\"\r\n\r\n2. Gather Requirements\r\n   → Date, time, party size\r\n   → If date unavailable → suggest nearby dates\r\n\r\n3. Check Availability (Tool: check_tables)\r\n   → If available → confirm details\r\n   → If not → offer alternatives\r\n\r\n4. Create Reservation (Tool: create_booking)\r\n   → Show confirmation\r\n   → Send confirmation email\r\n\r\n5. Close\r\n   → \"Your table is booked! See you [date] at [time].\"\r\n   → Offer additional help\n```\n\n### Pillar 4: Plan Data and Tool Requirements\n\nIdentify what data your agent needs access to and what actions it must perform. This bridges design to implementation.\n\n**Data Requirements:**\n\n* Real-time inventory/availability from your systems\n* Pricing, product specs, policies\n* Customer context (if personalized)\n\n**Tool Requirements:**\n\n* Core platform tools (time check, UI rendering, web scraping)\n* Custom HTTP tools connecting to your APIs\n* Authentication needs (API keys, bearer tokens)\n\n**Example: Otto (Product Sales)**\r\n| Need | Solution |\r\n|------|----------|\r\n| Product search | Custom tool: `search_products` calling inventory API |\r\n| Product details | Custom tool: `get_product_stats` for specs and pricing |\r\n| Visual display | Core tool: `show_component` rendering product catalog |\r\n| Current time | Core tool: `getCurrentTime` for time-sensitive offers |\n\n### Pillar 5: Define Success Metrics and Safeguards\n\nHow will you measure whether this agent is working? What limits prevent abuse?\n\n**Success Metrics:**\n\n* Conversation completion rate (% of sessions ending in booking/purchase)\n* Average session duration (should match expected workflow)\n* Customer satisfaction (post-conversation survey or implicit signals)\n* Escalation rate (% requiring human intervention)\n* Revenue impact (conversions, AOV increase)\n\n**Operational Safeguards:**\n\n* **Concurrent Sessions:** Max simultaneous conversations (prevents runaway costs)\n* **Session Duration:** Hard cap per conversation (15 minutes is typical)\n* **Daily Quotas:** Token/dollar limits per user or tenant\n* **Rate Limits:** Requests per minute (blocks abusive scripts)\n\n**Example Limits for a Hotel Agent:**\n\n```\nMax Concurrent Sessions: 20 (busy resort)\r\nMax Session Duration: 15 minutes\r\nDaily Token Cap: 300,000 tokens\r\nRequests per Minute: 12 (per tenant)\n```\n\n## Validation Checklist\n\nBefore moving to implementation, validate your design:\n\n* \\[ ] **Purpose is specific** — Can you explain what the agent does in one sentence?\n* \\[ ] **Personality is documented** — Would a stranger understand how the agent should sound?\n* \\[ ] **Workflows are mapped** — Can you sketch the happy path and 2-3 edge cases?\n* \\[ ] **Data sources identified** — Do you know which APIs provide the required data?\n* \\[ ] **Success criteria defined** — How will you know if this agent is succeeding?\n* \\[ ] **Limits are reasonable** — Do quotas protect cost without blocking real users?\n\n## Real-World Example: Cypress Resorts Concierge\n\nLet's see a complete design in action:\n\n**Purpose:** Enable website visitors to search available rooms and complete bookings without phone calls or forms.\n\n**Personality:** Warm, attentive, luxury-focused — like a five-star concierge.\n\n**Core Workflow:**\n\n1. Greet → detect booking intent\n2. Gather dates, guests, room type\n3. Search availability (tool call)\n4. Show matching rooms with photos\n5. Confirm selection and create reservation\n6. Display confirmation and escalate payment\n\n**Tools Needed:**\n\n* `search_units` — Query availability by dates/type\n* `get_unit_details` — Fetch room specs and photos\n* `create_reservation` — Book the room\n* `show_component` — Display room catalog and confirmation\n\n**Success Metrics:**\n\n* 60%+ of conversations result in bookings\n* Less than 5 minute average session duration\n* Less than 10% escalation rate\n\n**Limits:**\n\n* 20 concurrent sessions (peak website traffic)\n* 15 minute session cap\n* 300K daily tokens\n\nThis design gives the implementation team everything needed to build, test, and deploy the agent successfully.\n\n## Next Steps\n\nWith your agent design complete, you're ready to move into implementation:\n",
    "_searchMeta": {
      "cleanContent": "agent design: blueprint for success agent design is where strategy meets execution before writing a single line of configuration you need a clear blueprint that defines your agent s role personality and operational boundaries this planning phase prevents costly rework and ensures your agent delivers real business value think of agent design as writing a job description for your newest team member one who never sleeps never forgets and represents your brand in every conversation the five pillars of agent design pillar 1: define purpose and scope start with clarity about what problem your agent solves narrow focused agents outperform generalists ask yourself: what specific business problem does this agent solve who will interact with it customers employees partners what does success look like completed bookings resolved tickets qualified leads pro tip: your first agent should do one thing excellently rather than many things poorly you can always expand scope after validating the core workflow examples of well-scoped agents: cypress resorts concierge handle room availability queries and booking reservations otto diy warehouse search products recommend alternatives guide to purchase restaurant host check table availability book reservations handle party size changes pillar 2: establish personality and brand voice your agent s personality should mirror your brand while fitting its specific role this isn t about creativity it s about consistency and trust define these attributes: attribute questions to answer example ----------- ------------------- --------- tone formal or casual energetic or calm warm professional concise language style short responses or detailed technical or simple conversational but efficient 2-3 sentences max emotional range empathetic enthusiastic neutral helpful and patient celebratory on booking success boundaries what won t it do when does it escalate won t handle complaints escalates policy questions example personalities: writing your personality guide: pillar 3: map conversation workflows document the primary conversation paths your agent will handle use simple flowcharts or bullet points this doesn t need to be complex core workflow template: greeting intent detection how does the agent open hi i m here to help you find and book the perfect room how does it identify what the user wants information gathering what details does the agent need dates party size preferences how does it handle missing information prompt gently vs assume defaults action execution what tools get called search availability check inventory create booking what data gets displayed room photos product specs confirmation details confirmation next steps how does the agent confirm success show booking confirmation payment link what are the exit phrases is there anything else i can help with edge cases escalation out of stock unavailable suggest alternatives capture lead user changes mind mid-flow gracefully restart angry customer empathize and escalate to human example: restaurant reservation flow pillar 4: plan data and tool requirements identify what data your agent needs access to and what actions it must perform this bridges design to implementation data requirements: real-time inventory availability from your systems pricing product specs policies customer context if personalized tool requirements: core platform tools time check ui rendering web scraping custom http tools connecting to your apis authentication needs api keys bearer tokens example: otto product sales need solution ------ ---------- product search custom tool: search_products calling inventory api product details custom tool: getproductstats for specs and pricing visual display core tool: show_component rendering product catalog current time core tool: getcurrenttime for time-sensitive offers pillar 5: define success metrics and safeguards how will you measure whether this agent is working what limits prevent abuse success metrics: conversation completion rate of sessions ending in booking purchase average session duration should match expected workflow customer satisfaction post-conversation survey or implicit signals escalation rate requiring human intervention revenue impact conversions aov increase operational safeguards: concurrent sessions: max simultaneous conversations prevents runaway costs session duration: hard cap per conversation 15 minutes is typical daily quotas: token dollar limits per user or tenant rate limits: requests per minute blocks abusive scripts example limits for a hotel agent: validation checklist before moving to implementation validate your design: purpose is specific can you explain what the agent does in one sentence personality is documented would a stranger understand how the agent should sound workflows are mapped can you sketch the happy path and 2-3 edge cases data sources identified do you know which apis provide the required data success criteria defined how will you know if this agent is succeeding limits are reasonable do quotas protect cost without blocking real users real-world example: cypress resorts concierge let s see a complete design in action: purpose: enable website visitors to search available rooms and complete bookings without phone calls or forms personality: warm attentive luxury-focused like a five-star concierge core workflow: greet detect booking intent gather dates guests room type search availability tool call show matching rooms with photos confirm selection and create reservation display confirmation and escalate payment tools needed: search_units query availability by dates type getunitdetails fetch room specs and photos create_reservation book the room show_component display room catalog and confirmation success metrics: 60 of conversations result in bookings less than 5 minute average session duration less than 10 escalation rate limits: 20 concurrent sessions peak website traffic 15 minute session cap 300k daily tokens this design gives the implementation team everything needed to build test and deploy the agent successfully next steps with your agent design complete you re ready to move into implementation:",
      "headings": [
        "Agent Design: Blueprint for Success",
        "The Five Pillars of Agent Design",
        "Validation Checklist",
        "Real-World Example: Cypress Resorts Concierge",
        "Next Steps"
      ],
      "keywords": [
        "agent design",
        "planning",
        "voice agent",
        "workflow",
        "Agent Design: Blueprint for Success",
        "The Five Pillars of Agent Design",
        "Validation Checklist",
        "Real-World Example: Cypress Resorts Concierge",
        "Next Steps",
        "Ask yourself:",
        "Pro Tip:",
        "Examples of Well-Scoped Agents:",
        "Cypress Resorts Concierge",
        "Otto (DIY Warehouse)",
        "Restaurant Host",
        "Define these attributes:",
        "Tone",
        "Language Style",
        "Emotional Range",
        "Boundaries",
        "Example Personalities:",
        "Writing Your Personality Guide:",
        "Core Workflow Template:",
        "Greeting & Intent Detection",
        "Information Gathering",
        "Action Execution",
        "Confirmation & Next Steps",
        "Edge Cases & Escalation",
        "Example: Restaurant Reservation Flow",
        "Data Requirements:",
        "Tool Requirements:",
        "Example: Otto (Product Sales)",
        "Success Metrics:",
        "Operational Safeguards:",
        "Concurrent Sessions:",
        "Session Duration:",
        "Daily Quotas:",
        "Rate Limits:",
        "Example Limits for a Hotel Agent:",
        "Purpose is specific",
        "Personality is documented",
        "Workflows are mapped",
        "Data sources identified",
        "Success criteria defined",
        "Limits are reasonable",
        "Purpose:",
        "Personality:",
        "Core Workflow:",
        "Tools Needed:",
        "Limits:",
        "Agent: Cypress Concierge\r\nTone: Warm, attentive, professional\r\nStyle: Speak like a luxury hotel concierge — anticipate needs, confirm details, celebrate bookings\r\nBoundaries: Doesn't handle cancellations or complaints (escalates to human)\r\nSample Phrases: \"I'd be delighted to help you find the perfect room,\" \"Let me check availability for you\"",
        "### Pillar 3: Map Conversation Workflows\n\nDocument the primary conversation paths your agent will handle. Use simple flowcharts or bullet points — this doesn't need to be complex.\n\n**Core Workflow Template:**\n\n1. **Greeting & Intent Detection**\n   * How does the agent open? (\"Hi! I'm here to help you find and book the perfect room.\")\n   * How does it identify what the user wants?\n\n2. **Information Gathering**\n   * What details does the agent need? (dates, party size, preferences)\n   * How does it handle missing information? (prompt gently vs. assume defaults)\n\n3. **Action Execution**\n   * What tools get called? (search availability, check inventory, create booking)\n   * What data gets displayed? (room photos, product specs, confirmation details)\n\n4. **Confirmation & Next Steps**\n   * How does the agent confirm success? (show booking confirmation, payment link)\n   * What are the exit phrases? (\"Is there anything else I can help with?\")\n\n5. **Edge Cases & Escalation**\n   * Out of stock / unavailable? (suggest alternatives, capture lead)\n   * User changes mind mid-flow? (gracefully restart)\n   * Angry customer? (empathize and escalate to human)\n\n**Example: Restaurant Reservation Flow**",
        "1. Greeting\r\n   → \"Hi! I'm here to help you reserve a table. What day works for you?\"\r\n\r\n2. Gather Requirements\r\n   → Date, time, party size\r\n   → If date unavailable → suggest nearby dates\r\n\r\n3. Check Availability (Tool: check_tables)\r\n   → If available → confirm details\r\n   → If not → offer alternatives\r\n\r\n4. Create Reservation (Tool: create_booking)\r\n   → Show confirmation\r\n   → Send confirmation email\r\n\r\n5. Close\r\n   → \"Your table is booked! See you [date] at [time].\"\r\n   → Offer additional help",
        "### Pillar 4: Plan Data and Tool Requirements\n\nIdentify what data your agent needs access to and what actions it must perform. This bridges design to implementation.\n\n**Data Requirements:**\n\n* Real-time inventory/availability from your systems\n* Pricing, product specs, policies\n* Customer context (if personalized)\n\n**Tool Requirements:**\n\n* Core platform tools (time check, UI rendering, web scraping)\n* Custom HTTP tools connecting to your APIs\n* Authentication needs (API keys, bearer tokens)\n\n**Example: Otto (Product Sales)**\r\n| Need | Solution |\r\n|------|----------|\r\n| Product search | Custom tool:",
        "calling inventory API |\r\n| Product details | Custom tool:",
        "for specs and pricing |\r\n| Visual display | Core tool:",
        "rendering product catalog |\r\n| Current time | Core tool:",
        "for time-sensitive offers |\n\n### Pillar 5: Define Success Metrics and Safeguards\n\nHow will you measure whether this agent is working? What limits prevent abuse?\n\n**Success Metrics:**\n\n* Conversation completion rate (% of sessions ending in booking/purchase)\n* Average session duration (should match expected workflow)\n* Customer satisfaction (post-conversation survey or implicit signals)\n* Escalation rate (% requiring human intervention)\n* Revenue impact (conversions, AOV increase)\n\n**Operational Safeguards:**\n\n* **Concurrent Sessions:** Max simultaneous conversations (prevents runaway costs)\n* **Session Duration:** Hard cap per conversation (15 minutes is typical)\n* **Daily Quotas:** Token/dollar limits per user or tenant\n* **Rate Limits:** Requests per minute (blocks abusive scripts)\n\n**Example Limits for a Hotel Agent:**",
        "Max Concurrent Sessions: 20 (busy resort)\r\nMax Session Duration: 15 minutes\r\nDaily Token Cap: 300,000 tokens\r\nRequests per Minute: 12 (per tenant)",
        "## Validation Checklist\n\nBefore moving to implementation, validate your design:\n\n* \\[ ] **Purpose is specific** — Can you explain what the agent does in one sentence?\n* \\[ ] **Personality is documented** — Would a stranger understand how the agent should sound?\n* \\[ ] **Workflows are mapped** — Can you sketch the happy path and 2-3 edge cases?\n* \\[ ] **Data sources identified** — Do you know which APIs provide the required data?\n* \\[ ] **Success criteria defined** — How will you know if this agent is succeeding?\n* \\[ ] **Limits are reasonable** — Do quotas protect cost without blocking real users?\n\n## Real-World Example: Cypress Resorts Concierge\n\nLet's see a complete design in action:\n\n**Purpose:** Enable website visitors to search available rooms and complete bookings without phone calls or forms.\n\n**Personality:** Warm, attentive, luxury-focused — like a five-star concierge.\n\n**Core Workflow:**\n\n1. Greet → detect booking intent\n2. Gather dates, guests, room type\n3. Search availability (tool call)\n4. Show matching rooms with photos\n5. Confirm selection and create reservation\n6. Display confirmation and escalate payment\n\n**Tools Needed:**\n\n*",
        "— Query availability by dates/type\n*",
        "— Fetch room specs and photos\n*",
        "— Book the room\n*"
      ]
    }
  },
  {
    "slug": "/start",
    "title": "Getting Started",
    "description": "Build production-ready voice agents grounded in your real business data — from sales and fulfillment to reservations and customer support.",
    "content": "## Welcome to the VOX Platform\n\n**VOX** (Latin for *Voice* or *Expression*) is a production-grade, multi-tenant voice agent platform designed to power real business outcomes. Whether you're handling product sales, restaurant reservations, hotel bookings, or customer support, VOX transforms how your customers interact with your business through natural voice conversations.\n\n### What Makes VOX Different\n\nUnlike basic chatbots, VOX agents are **data-grounded** — they never hallucinate or guess. Every response is backed by your real-time business data through secure API integrations. You maintain complete control over four key dimensions:\n\n* **Behavior** — Define personality, tone, and conversation flow through prompts\n* **Knowledge** — Ground responses in your actual inventory, availability, and business data\n* **Capabilities** — Connect to your APIs through declarative HTTP tools\n* **Experience** — Render rich UI components like catalogs, confirmations, and media galleries\n\nThe platform handles the complex runtime infrastructure: millisecond-response language models, real-time session management, security controls, conversation monitoring, and consistent UI rendering. You focus on designing the agent; we handle the execution.\n\n## Build Your First Agent in Four Steps\n\nCreating a voice agent on VOX follows a structured workflow. Each step builds on the previous one, taking you from concept to deployment.\n\n## Business Impact\n\nVOX delivers measurable business outcomes across customer engagement, operations, and revenue generation.\n\n### Customer Experience\n\n| Capability | How It Works | Business Value |\r\n|-----------|--------------|----------------|\r\n| **24/7 Availability** | Agents handle inquiries, requests, and transactions at any hour without staffing constraints | Capture after-hours revenue and improve customer satisfaction without increasing labor costs |\r\n| **Instant, Accurate Responses** | Real-time API integration ensures agents access current inventory, orders, and availability | Reduce wait times and support tickets while improving first-contact resolution rates |\r\n| **Personalized Conversations** | Agents leverage customer context, history, and preferences for tailored interactions | Build trust and loyalty through relevant, context-aware engagement |\r\n| **Consistent Brand Voice** | Defined personality and guardrails ensure on-brand conversations across all touchpoints | Protect brand reputation with uniform, professional customer experiences |\n\n### Revenue & Operations\n\n| Capability | How It Works | Business Value |\r\n|-----------|--------------|----------------|\r\n| **Active Sales Guidance** | Agents guide customers through discovery, product selection, and purchase flows | Increase conversion rates and average order value by assisting at the moment of intent |\r\n| **Transaction Completion** | Process bookings, appointments, payments, and lead capture directly through conversation | Transform support from cost center to revenue generator |\r\n| **Scalable Engagement** | Handle thousands of simultaneous conversations without performance degradation | Enable growth without proportional increases in headcount or infrastructure |\r\n| **Rapid Iteration** | Launch new workflows, offerings, and seasonal campaigns without code changes | Accelerate time-to-market for marketing and operational initiatives |\n\n### Security & Control\n\n| Capability | How It Works | Business Value |\r\n|-----------|--------------|----------------|\r\n| **Real-time Monitoring** | Every conversation is recorded, monitored, and available for human escalation | Ensure quality control and regulatory compliance |\r\n| **Enterprise Security** | Your data stays in your APIs; agents access via secure, authenticated tool calls | Maintain data sovereignty and security compliance |\r\n| **Cost Controls** | Configurable rate limits, session caps, and spending thresholds prevent abuse | Predictable operating costs with protection against runaway usage |\n\n## Technical Architecture\n\nVOX is built for production reliability, developer productivity, and enterprise security. Here's what makes the platform robust.\n\n### Data-Grounded Intelligence\n\n| Feature | Technical Implementation | Production Benefit |\r\n|---------|-------------------------|-------------------|\r\n| **Zero-Hallucination Design** | Agents retrieve structured JSON from your APIs via HTTP tools; no fabricated data | Customers receive accurate information reflecting real-time business state |\r\n| **Schema-Driven Tool Descriptors** | Declarative JSON defines methods, parameters, authentication, URL templates, and timeouts | Standardize integrations across all APIs without custom code per endpoint |\r\n| **Declarative UI Rendering** | Tools specify UI components to render on success/error (catalogs, galleries, confirmations) | Transform API responses into rich visual experiences automatically |\n\n### Developer Experience\n\n| Feature | Technical Implementation | Production Benefit |\r\n|---------|-------------------------|-------------------|\r\n| **Built-In Core Tools** | Pre-configured utilities: time checks, web scraping, URL launching, component rendering | Ship agents faster without building common capabilities from scratch |\r\n| **Prompt-Driven Workflows** | System prompt controls tone, guardrails, tool selection, and dialog structure | Update agent behavior through configuration, not code deployments |\r\n| **Type-Safe Templating** | Execution context (`args`, `response`, `status`, `secrets`) with type coercion filters | Eliminate integration bugs from type mismatches and malformed data |\r\n| **Instant Testing** | Start agents immediately; inspect tool calls and API responses in real-time | Rapid iteration cycles reduce time from idea to production |\n\n### Enterprise Operations\n\n| Feature | Technical Implementation | Production Benefit |\r\n|---------|-------------------------|-------------------|\r\n| **Multi-Tenant Architecture** | Centralized management of tenants, agents, widget keys, origins, and secrets | Secure isolation enabling SaaS-scale customer onboarding |\r\n| **Layered Security** | Edge rate limiting, bot detection, session quotas, duration caps, spend limits | Protect against abuse while maintaining seamless experience for legitimate users |\r\n| **Session Lifecycle Management** | Real-time heartbeats, idle detection, automatic termination, usage tracking | Prevent runaway costs and maintain accurate operational visibility |\r\n| **Conversation Monitoring** | Full transcripts, real-time alerts, human escalation triggers | Ensure quality and compliance across all customer interactions |\n\n## The VOX Architecture Model\n\nEvery voice agent on VOX is composed of five integrated components working together to deliver natural, reliable conversations:\n\nThis architecture keeps your voice experience **grounded in truth**, **secure by design**, and **maintainable at scale** — while remaining flexible enough to power reservations, e-commerce, scheduling, customer support, and more.\n\n## Experience VOX Before You Build\n\nBefore diving into development, we strongly recommend experiencing VOX agents in action. Visit [strategicmachines.ai](https://strategicmachines.ai) to interact with live demo agents handling real-world scenarios:\n\n* **Cypress Resorts** — Hotel room reservations with availability checking and booking confirmation\n* **Otto at DIY Warehouse** — Product search, recommendations, and shopping assistance\n* **Restaurant Reservations** — Table booking with party size and time coordination\n\nThese demos showcase the natural conversation flow, data-grounded responses, and rich UI rendering you'll build into your own agents. Once you've experienced the platform's capabilities, you'll be ready to design and deploy your first voice agent.\n\n**Ready to build?** Continue to [Agent Design](/voice/agent-design) to start planning your first voice agent.\n",
    "_searchMeta": {
      "cleanContent": "welcome to the vox platform vox latin for voice or expression is a production-grade multi-tenant voice agent platform designed to power real business outcomes whether you re handling product sales restaurant reservations hotel bookings or customer support vox transforms how your customers interact with your business through natural voice conversations what makes vox different unlike basic chatbots vox agents are data-grounded they never hallucinate or guess every response is backed by your real-time business data through secure api integrations you maintain complete control over four key dimensions: behavior define personality tone and conversation flow through prompts knowledge ground responses in your actual inventory availability and business data capabilities connect to your apis through declarative http tools experience render rich ui components like catalogs confirmations and media galleries the platform handles the complex runtime infrastructure: millisecond-response language models real-time session management security controls conversation monitoring and consistent ui rendering you focus on designing the agent we handle the execution build your first agent in four steps creating a voice agent on vox follows a structured workflow each step builds on the previous one taking you from concept to deployment business impact vox delivers measurable business outcomes across customer engagement operations and revenue generation customer experience capability how it works business value ----------- -------------- ---------------- 24 7 availability agents handle inquiries requests and transactions at any hour without staffing constraints capture after-hours revenue and improve customer satisfaction without increasing labor costs instant accurate responses real-time api integration ensures agents access current inventory orders and availability reduce wait times and support tickets while improving first-contact resolution rates personalized conversations agents leverage customer context history and preferences for tailored interactions build trust and loyalty through relevant context-aware engagement consistent brand voice defined personality and guardrails ensure on-brand conversations across all touchpoints protect brand reputation with uniform professional customer experiences revenue operations capability how it works business value ----------- -------------- ---------------- active sales guidance agents guide customers through discovery product selection and purchase flows increase conversion rates and average order value by assisting at the moment of intent transaction completion process bookings appointments payments and lead capture directly through conversation transform support from cost center to revenue generator scalable engagement handle thousands of simultaneous conversations without performance degradation enable growth without proportional increases in headcount or infrastructure rapid iteration launch new workflows offerings and seasonal campaigns without code changes accelerate time-to-market for marketing and operational initiatives security control capability how it works business value ----------- -------------- ---------------- real-time monitoring every conversation is recorded monitored and available for human escalation ensure quality control and regulatory compliance enterprise security your data stays in your apis agents access via secure authenticated tool calls maintain data sovereignty and security compliance cost controls configurable rate limits session caps and spending thresholds prevent abuse predictable operating costs with protection against runaway usage technical architecture vox is built for production reliability developer productivity and enterprise security here s what makes the platform robust data-grounded intelligence feature technical implementation production benefit --------- ------------------------- ------------------- zero-hallucination design agents retrieve structured json from your apis via http tools no fabricated data customers receive accurate information reflecting real-time business state schema-driven tool descriptors declarative json defines methods parameters authentication url templates and timeouts standardize integrations across all apis without custom code per endpoint declarative ui rendering tools specify ui components to render on success error catalogs galleries confirmations transform api responses into rich visual experiences automatically developer experience feature technical implementation production benefit --------- ------------------------- ------------------- built-in core tools pre-configured utilities: time checks web scraping url launching component rendering ship agents faster without building common capabilities from scratch prompt-driven workflows system prompt controls tone guardrails tool selection and dialog structure update agent behavior through configuration not code deployments type-safe templating execution context args response status secrets with type coercion filters eliminate integration bugs from type mismatches and malformed data instant testing start agents immediately inspect tool calls and api responses in real-time rapid iteration cycles reduce time from idea to production enterprise operations feature technical implementation production benefit --------- ------------------------- ------------------- multi-tenant architecture centralized management of tenants agents widget keys origins and secrets secure isolation enabling saas-scale customer onboarding layered security edge rate limiting bot detection session quotas duration caps spend limits protect against abuse while maintaining seamless experience for legitimate users session lifecycle management real-time heartbeats idle detection automatic termination usage tracking prevent runaway costs and maintain accurate operational visibility conversation monitoring full transcripts real-time alerts human escalation triggers ensure quality and compliance across all customer interactions the vox architecture model every voice agent on vox is composed of five integrated components working together to deliver natural reliable conversations: this architecture keeps your voice experience grounded in truth secure by design and maintainable at scale while remaining flexible enough to power reservations e-commerce scheduling customer support and more experience vox before you build before diving into development we strongly recommend experiencing vox agents in action visit strategicmachines ai to interact with live demo agents handling real-world scenarios: cypress resorts hotel room reservations with availability checking and booking confirmation otto at diy warehouse product search recommendations and shopping assistance restaurant reservations table booking with party size and time coordination these demos showcase the natural conversation flow data-grounded responses and rich ui rendering you ll build into your own agents once you ve experienced the platform s capabilities you ll be ready to design and deploy your first voice agent ready to build continue to agent design to start planning your first voice agent",
      "headings": [
        "Welcome to the VOX Platform",
        "Build Your First Agent in Four Steps",
        "Business Impact",
        "Technical Architecture",
        "The VOX Architecture Model",
        "Experience VOX Before You Build"
      ],
      "keywords": [
        "introduction",
        "guide",
        "voice agents",
        "AI platform",
        "Welcome to the VOX Platform",
        "Build Your First Agent in Four Steps",
        "Business Impact",
        "Technical Architecture",
        "The VOX Architecture Model",
        "Experience VOX Before You Build",
        "VOX",
        "data-grounded",
        "Behavior",
        "Knowledge",
        "Capabilities",
        "Experience",
        "24/7 Availability",
        "Instant, Accurate Responses",
        "Personalized Conversations",
        "Consistent Brand Voice",
        "Active Sales Guidance",
        "Transaction Completion",
        "Scalable Engagement",
        "Rapid Iteration",
        "Real-time Monitoring",
        "Enterprise Security",
        "Cost Controls",
        "Zero-Hallucination Design",
        "Schema-Driven Tool Descriptors",
        "Declarative UI Rendering",
        "Built-In Core Tools",
        "Prompt-Driven Workflows",
        "Type-Safe Templating",
        "Instant Testing",
        "Multi-Tenant Architecture",
        "Layered Security",
        "Session Lifecycle Management",
        "Conversation Monitoring",
        "grounded in truth",
        "secure by design",
        "maintainable at scale",
        "Cypress Resorts",
        "Otto at DIY Warehouse",
        "Restaurant Reservations",
        "Ready to build?",
        "args",
        "response",
        "status",
        "secrets"
      ]
    }
  },
  {
    "slug": "/start/promptdesign",
    "title": "Prompt Design",
    "description": "Craft the system prompt that governs your agent's behavior, tool usage, and conversation flow.",
    "content": "## Prompt Design: The Agent's Operating System\n\nThe system prompt is your agent's brain — it defines personality, decision-making rules, tool usage patterns, and conversation flow. A well-crafted prompt makes the difference between an agent that delights customers and one that confuses them.\n\nUnlike user-facing chatbots where prompts guide individual responses, VOX system prompts establish **persistent behavioral patterns** across entire conversations. Every tool call, every response, every decision flows from this single source of truth.\n\n## The Anatomy of a VOX Prompt\n\nVOX prompts are structured JSON objects with distinct sections, each serving a specific purpose.\n\n### Core Prompt Structure\n\n```json\n{\r\n  \"agent\": {\r\n    \"name\": \"Agent Name\",\r\n    \"tenantId\": \"your-tenant-id\",\r\n    \"tone\": \"warm, professional, concise\",\r\n    \"style_rules\": [\r\n      \"Always confirm details before taking action\",\r\n      \"Use tools for data — never guess or hallucinate\",\r\n      \"Keep responses under 3 sentences unless explaining complex topics\"\r\n    ]\r\n  },\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"tool_name\": {\r\n        \"when\": [\"Trigger conditions\"],\r\n        \"args\": [\"required\", \"parameters\"],\r\n        \"success_say\": \"How to present results\",\r\n        \"handle_errors\": {\r\n          \"error_code\": \"How to respond\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always check real-time availability before confirming\",\r\n      \"Never share customer data across sessions\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Transfer to human for complaints or refund requests\"\r\n    ]\r\n  },\r\n  \"dialog_flow\": {\r\n    \"high_level\": [\r\n      \"Greet warmly\",\r\n      \"Understand intent\",\r\n      \"Gather required information\",\r\n      \"Use tools to fulfill request\",\r\n      \"Confirm results\",\r\n      \"Offer additional help\"\r\n    ]\r\n  },\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm [name], and I'm here to help you [primary purpose]. What can I do for you today?\",\r\n    \"no_results\": \"I checked our system and didn't find matches for [criteria]. Would you like to try different [parameters]?\",\r\n    \"success\": \"Great news! I found [count] options that match what you're looking for.\"\r\n  },\r\n  \"examples\": [\r\n    {\r\n      \"user\": \"Example question\",\r\n      \"agent_thinking\": \"What tool to use and why\",\r\n      \"agent_says\": \"The response\"\r\n    }\r\n  ]\r\n}\n```\n\n## Building Your Prompt: Section by Section\n\n### 1. Agent Identity and Tone\n\nThis section establishes who the agent is and how it sounds.\n\n```json\n{\r\n  \"agent\": {\r\n    \"name\": \"Cypress Concierge\",\r\n    \"tenantId\": \"cypress-resorts\",\r\n    \"tone\": \"warm, attentive, luxury-focused\",\r\n    \"style_rules\": [\r\n      \"Speak like a five-star hotel concierge\",\r\n      \"Anticipate guest needs and offer helpful suggestions\",\r\n      \"Always confirm booking details before finalizing\",\r\n      \"Use 'we' and 'our property' to build connection\",\r\n      \"Celebrate successful bookings warmly\"\r\n    ]\r\n  }\r\n}\n```\n\n**Best Practices:**\n\n* **Be specific about tone:** \"Professional\" is vague; \"Warm and efficient, like a trusted advisor\" paints a clear picture\n* **Give concrete examples:** Include sample phrases the agent should use\n* **Define boundaries:** What the agent should NOT do is as important as what it should do\n* **Match brand voice:** Your agent should sound like your company, not a generic assistant\n\n### 2. Tool Capabilities and Usage Rules\n\nThis section teaches the agent when and how to use each tool.\n\n```json\n{\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"search_units\": {\r\n        \"when\": [\r\n          \"User asks about available rooms\",\r\n          \"User provides dates for a stay\",\r\n          \"User wants to see room options\"\r\n        ],\r\n        \"args\": [\r\n          \"check_in (YYYY-MM-DD format)\",\r\n          \"check_out (YYYY-MM-DD format)\",\r\n          \"guests (number)\",\r\n          \"room_type (optional: villa, suite, standard)\"\r\n        ],\r\n        \"success_say\": \"List matching rooms with key features (view, beds, amenities). Highlight what makes each special. Use show_component to display photos.\",\r\n        \"handle_errors\": {\r\n          \"no_availability\": \"Apologize and suggest nearby dates or different room types\",\r\n          \"invalid_dates\": \"Explain the issue gently and ask for corrected dates\"\r\n        }\r\n      },\r\n      \"show_component\": {\r\n        \"when\": [\r\n          \"Displaying room photos after search\",\r\n          \"Showing booking confirmation\",\r\n          \"Presenting visual catalogs or galleries\"\r\n        ],\r\n        \"args\": [\r\n          \"component_name (e.g., catalog_results, reservation_confirmation, image_viewer)\",\r\n          \"props (data to display)\"\r\n        ],\r\n        \"success_say\": \"Reference the visual ('As you can see in the photos...') and guide next steps\"\r\n      }\r\n    }\r\n  }\r\n}\n```\n\n**Key Principles:**\n\n* **\"When\" must be specific:** Vague triggers lead to incorrect tool calls\n* **List all required args:** The agent needs to know what to collect before calling\n* **Success responses should guide flow:** Tell the agent what to do with results\n* **Error handling prevents confusion:** Every failure mode needs a recovery path\n\n### 3. Policy and Business Rules\n\nDefine hard rules about data handling, escalation, and compliance.\n\n```json\n{\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always call search_units to check availability — never assume rooms are available\",\r\n      \"Never share pricing from memory — always use current data from tools\",\r\n      \"Confirm all booking details verbally before calling create_reservation\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Immediately transfer to human for:\",\r\n      \"  - Cancellation or refund requests\",\r\n      \"  - Complaints about service or staff\",\r\n      \"  - Special accessibility needs\",\r\n      \"Say: 'Let me connect you with our team who can best help with this.'\"\r\n    ]\r\n  }\r\n}\n```\n\n**Why Policy Matters:**\n\n* **Prevents hallucinations:** Forces tool usage for all data\n* **Protects brand:** Defines what the agent can't handle\n* **Ensures compliance:** Data handling and privacy rules\n* **Manages edge cases:** When automation should give way to humans\n\n### 4. Response Templates\n\nPre-define common responses for consistency.\n\n```json\n{\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm the Cypress Concierge, and I'm here to help you find and book the perfect room for your stay. What dates are you considering?\",\r\n    \"no_results\": \"I checked our availability and didn't find rooms matching [criteria] for [dates]. Would you like to try different dates or a different room type?\",\r\n    \"success_booking\": \"Wonderful! Your reservation is confirmed for [room_name] from [check_in] to [check_out]. You'll receive a confirmation email at [email] with all the details.\",\r\n    \"escalation\": \"I'd like to connect you with our team who can best assist with this. One moment please.\"\r\n  }\r\n}\n```\n\n### 5. Conversation Examples\n\nShow the agent how to handle real scenarios.\n\n```json\n{\r\n  \"examples\": [\r\n    {\r\n      \"scenario\": \"Happy path booking\",\r\n      \"user\": \"I need a room for next weekend\",\r\n      \"agent_thinking\": \"User wants to book. Need check-in/out dates and guest count. 'Next weekend' is ambiguous — need specific dates.\",\r\n      \"agent_says\": \"I'd be happy to help you find a room! When you say next weekend, do you mean checking in Friday, [date] and checking out Sunday, [date]? And how many guests?\"\r\n    },\r\n    {\r\n      \"scenario\": \"No availability\",\r\n      \"user\": \"Do you have anything available July 4th weekend?\",\r\n      \"agent_action\": \"Calls search_units with July 4-7 dates\",\r\n      \"result\": \"No rooms available\",\r\n      \"agent_says\": \"I checked our availability, and July 4th weekend is fully booked — it's one of our busiest times! I do have beautiful rooms available the weekend before (June 27-30) or the following weekend (July 11-14). Would either of those work for you?\"\r\n    }\r\n  ]\r\n}\n```\n\n## Prompt Design Best Practices\n\n### Do:\n\n* ✅ **Be specific and concrete** — \"Warm and professional\" + examples\n* ✅ **Define boundaries clearly** — What the agent won't do\n* ✅ **Use examples liberally** — Show don't tell\n* ✅ **Test with real queries** — Your prompt should handle actual user language\n\n### Don't:\n\n* ❌ **Don't be vague** — \"Be helpful\" doesn't mean anything\n* ❌ **Don't assume context** — Spell out tool usage rules\n* ❌ **Don't skip error handling** — Every tool call can fail\n* ❌ **Don't over-complicate** — Start simple and add complexity as needed\n\n## Testing Your Prompt\n\nBefore deployment, validate your prompt with these scenarios:\n\n## Next Steps\n\nWith your prompt designed, you're ready to build the tools that make it actionable:\n",
    "_searchMeta": {
      "cleanContent": "prompt design: the agent s operating system the system prompt is your agent s brain it defines personality decision-making rules tool usage patterns and conversation flow a well-crafted prompt makes the difference between an agent that delights customers and one that confuses them unlike user-facing chatbots where prompts guide individual responses vox system prompts establish persistent behavioral patterns across entire conversations every tool call every response every decision flows from this single source of truth the anatomy of a vox prompt vox prompts are structured json objects with distinct sections each serving a specific purpose core prompt structure building your prompt: section by section agent identity and tone this section establishes who the agent is and how it sounds best practices: be specific about tone: professional is vague warm and efficient like a trusted advisor paints a clear picture give concrete examples: include sample phrases the agent should use define boundaries: what the agent should not do is as important as what it should do match brand voice: your agent should sound like your company not a generic assistant tool capabilities and usage rules this section teaches the agent when and how to use each tool key principles: when must be specific: vague triggers lead to incorrect tool calls list all required args: the agent needs to know what to collect before calling success responses should guide flow: tell the agent what to do with results error handling prevents confusion: every failure mode needs a recovery path policy and business rules define hard rules about data handling escalation and compliance why policy matters: prevents hallucinations: forces tool usage for all data protects brand: defines what the agent can t handle ensures compliance: data handling and privacy rules manages edge cases: when automation should give way to humans response templates pre-define common responses for consistency conversation examples show the agent how to handle real scenarios prompt design best practices do: be specific and concrete warm and professional examples define boundaries clearly what the agent won t do use examples liberally show don t tell test with real queries your prompt should handle actual user language don t: don t be vague be helpful doesn t mean anything don t assume context spell out tool usage rules don t skip error handling every tool call can fail don t over-complicate start simple and add complexity as needed testing your prompt before deployment validate your prompt with these scenarios: next steps with your prompt designed you re ready to build the tools that make it actionable:",
      "headings": [
        "Prompt Design: The Agent's Operating System",
        "The Anatomy of a VOX Prompt",
        "Building Your Prompt: Section by Section",
        "Prompt Design Best Practices",
        "Testing Your Prompt",
        "Next Steps"
      ],
      "keywords": [
        "prompt",
        "system prompt",
        "instructions",
        "agent behavior",
        "Prompt Design: The Agent's Operating System",
        "The Anatomy of a VOX Prompt",
        "Building Your Prompt: Section by Section",
        "Prompt Design Best Practices",
        "Testing Your Prompt",
        "Next Steps",
        "persistent behavioral patterns",
        "Best Practices:",
        "Be specific about tone:",
        "Give concrete examples:",
        "Define boundaries:",
        "Match brand voice:",
        "Key Principles:",
        "\"When\" must be specific:",
        "List all required args:",
        "Success responses should guide flow:",
        "Error handling prevents confusion:",
        "Why Policy Matters:",
        "Prevents hallucinations:",
        "Protects brand:",
        "Ensures compliance:",
        "Manages edge cases:",
        "Be specific and concrete",
        "Define boundaries clearly",
        "Use examples liberally",
        "Test with real queries",
        "Don't be vague",
        "Don't assume context",
        "Don't skip error handling",
        "Don't over-complicate",
        "json\n{\r\n  \"agent\": {\r\n    \"name\": \"Agent Name\",\r\n    \"tenantId\": \"your-tenant-id\",\r\n    \"tone\": \"warm, professional, concise\",\r\n    \"style_rules\": [\r\n      \"Always confirm details before taking action\",\r\n      \"Use tools for data — never guess or hallucinate\",\r\n      \"Keep responses under 3 sentences unless explaining complex topics\"\r\n    ]\r\n  },\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"tool_name\": {\r\n        \"when\": [\"Trigger conditions\"],\r\n        \"args\": [\"required\", \"parameters\"],\r\n        \"success_say\": \"How to present results\",\r\n        \"handle_errors\": {\r\n          \"error_code\": \"How to respond\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always check real-time availability before confirming\",\r\n      \"Never share customer data across sessions\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Transfer to human for complaints or refund requests\"\r\n    ]\r\n  },\r\n  \"dialog_flow\": {\r\n    \"high_level\": [\r\n      \"Greet warmly\",\r\n      \"Understand intent\",\r\n      \"Gather required information\",\r\n      \"Use tools to fulfill request\",\r\n      \"Confirm results\",\r\n      \"Offer additional help\"\r\n    ]\r\n  },\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm [name], and I'm here to help you [primary purpose]. What can I do for you today?\",\r\n    \"no_results\": \"I checked our system and didn't find matches for [criteria]. Would you like to try different [parameters]?\",\r\n    \"success\": \"Great news! I found [count] options that match what you're looking for.\"\r\n  },\r\n  \"examples\": [\r\n    {\r\n      \"user\": \"Example question\",\r\n      \"agent_thinking\": \"What tool to use and why\",\r\n      \"agent_says\": \"The response\"\r\n    }\r\n  ]\r\n}",
        "## Building Your Prompt: Section by Section\n\n### 1. Agent Identity and Tone\n\nThis section establishes who the agent is and how it sounds.",
        "json\n{\r\n  \"agent\": {\r\n    \"name\": \"Cypress Concierge\",\r\n    \"tenantId\": \"cypress-resorts\",\r\n    \"tone\": \"warm, attentive, luxury-focused\",\r\n    \"style_rules\": [\r\n      \"Speak like a five-star hotel concierge\",\r\n      \"Anticipate guest needs and offer helpful suggestions\",\r\n      \"Always confirm booking details before finalizing\",\r\n      \"Use 'we' and 'our property' to build connection\",\r\n      \"Celebrate successful bookings warmly\"\r\n    ]\r\n  }\r\n}",
        "**Best Practices:**\n\n* **Be specific about tone:** \"Professional\" is vague; \"Warm and efficient, like a trusted advisor\" paints a clear picture\n* **Give concrete examples:** Include sample phrases the agent should use\n* **Define boundaries:** What the agent should NOT do is as important as what it should do\n* **Match brand voice:** Your agent should sound like your company, not a generic assistant\n\n### 2. Tool Capabilities and Usage Rules\n\nThis section teaches the agent when and how to use each tool.",
        "json\n{\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"search_units\": {\r\n        \"when\": [\r\n          \"User asks about available rooms\",\r\n          \"User provides dates for a stay\",\r\n          \"User wants to see room options\"\r\n        ],\r\n        \"args\": [\r\n          \"check_in (YYYY-MM-DD format)\",\r\n          \"check_out (YYYY-MM-DD format)\",\r\n          \"guests (number)\",\r\n          \"room_type (optional: villa, suite, standard)\"\r\n        ],\r\n        \"success_say\": \"List matching rooms with key features (view, beds, amenities). Highlight what makes each special. Use show_component to display photos.\",\r\n        \"handle_errors\": {\r\n          \"no_availability\": \"Apologize and suggest nearby dates or different room types\",\r\n          \"invalid_dates\": \"Explain the issue gently and ask for corrected dates\"\r\n        }\r\n      },\r\n      \"show_component\": {\r\n        \"when\": [\r\n          \"Displaying room photos after search\",\r\n          \"Showing booking confirmation\",\r\n          \"Presenting visual catalogs or galleries\"\r\n        ],\r\n        \"args\": [\r\n          \"component_name (e.g., catalog_results, reservation_confirmation, image_viewer)\",\r\n          \"props (data to display)\"\r\n        ],\r\n        \"success_say\": \"Reference the visual ('As you can see in the photos...') and guide next steps\"\r\n      }\r\n    }\r\n  }\r\n}",
        "**Key Principles:**\n\n* **\"When\" must be specific:** Vague triggers lead to incorrect tool calls\n* **List all required args:** The agent needs to know what to collect before calling\n* **Success responses should guide flow:** Tell the agent what to do with results\n* **Error handling prevents confusion:** Every failure mode needs a recovery path\n\n### 3. Policy and Business Rules\n\nDefine hard rules about data handling, escalation, and compliance.",
        "json\n{\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always call search_units to check availability — never assume rooms are available\",\r\n      \"Never share pricing from memory — always use current data from tools\",\r\n      \"Confirm all booking details verbally before calling create_reservation\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Immediately transfer to human for:\",\r\n      \"  - Cancellation or refund requests\",\r\n      \"  - Complaints about service or staff\",\r\n      \"  - Special accessibility needs\",\r\n      \"Say: 'Let me connect you with our team who can best help with this.'\"\r\n    ]\r\n  }\r\n}",
        "**Why Policy Matters:**\n\n* **Prevents hallucinations:** Forces tool usage for all data\n* **Protects brand:** Defines what the agent can't handle\n* **Ensures compliance:** Data handling and privacy rules\n* **Manages edge cases:** When automation should give way to humans\n\n### 4. Response Templates\n\nPre-define common responses for consistency.",
        "json\n{\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm the Cypress Concierge, and I'm here to help you find and book the perfect room for your stay. What dates are you considering?\",\r\n    \"no_results\": \"I checked our availability and didn't find rooms matching [criteria] for [dates]. Would you like to try different dates or a different room type?\",\r\n    \"success_booking\": \"Wonderful! Your reservation is confirmed for [room_name] from [check_in] to [check_out]. You'll receive a confirmation email at [email] with all the details.\",\r\n    \"escalation\": \"I'd like to connect you with our team who can best assist with this. One moment please.\"\r\n  }\r\n}",
        "### 5. Conversation Examples\n\nShow the agent how to handle real scenarios.",
        "json\n{\r\n  \"examples\": [\r\n    {\r\n      \"scenario\": \"Happy path booking\",\r\n      \"user\": \"I need a room for next weekend\",\r\n      \"agent_thinking\": \"User wants to book. Need check-in/out dates and guest count. 'Next weekend' is ambiguous — need specific dates.\",\r\n      \"agent_says\": \"I'd be happy to help you find a room! When you say next weekend, do you mean checking in Friday, [date] and checking out Sunday, [date]? And how many guests?\"\r\n    },\r\n    {\r\n      \"scenario\": \"No availability\",\r\n      \"user\": \"Do you have anything available July 4th weekend?\",\r\n      \"agent_action\": \"Calls search_units with July 4-7 dates\",\r\n      \"result\": \"No rooms available\",\r\n      \"agent_says\": \"I checked our availability, and July 4th weekend is fully booked — it's one of our busiest times! I do have beautiful rooms available the weekend before (June 27-30) or the following weekend (July 11-14). Would either of those work for you?\"\r\n    }\r\n  ]\r\n}"
      ]
    }
  },
  {
    "slug": "/start/tooldesign",
    "title": "Tool Design",
    "description": "Build HTTP tool descriptors that connect your voice agent to your APIs and business data.",
    "content": "## Tool Design: Connecting Agents to Reality\n\nTools are how your agent accesses truth — real-time inventory, current availability, actual pricing, and the ability to take actions like creating bookings or processing orders. Without tools, agents can only guess. With tools, they become reliably useful.\n\nVOX provides two categories of tools:\n\n1. **Core Platform Tools** — Pre-built utilities available to every agent\n2. **Custom HTTP Tools** — API integrations you define to connect your agent to your systems\n\n## Core Platform Tools\n\nThese tools come built-in with every VOX agent. No configuration needed — just reference them in your prompt.\n\n| Tool Name | What It Does | When to Use | Parameters |\r\n|-----------|--------------|-------------|------------|\r\n| **getCurrentTime** | Returns current local time and timezone | User asks for time, or agent needs to check business hours | None |\r\n| **launchWebsite** | Opens a URL in a new browser tab | Direct users to external resources, documentation, or your checkout page | `url` (string, http/https) |\r\n| **copyToClipboard** | Copies text to user's clipboard | Share confirmation codes, IDs, or referral links | `text` (string) |\r\n| **scrapeWebsite** | Fetches and returns website content as markdown/HTML | Summarize dynamic content from your site or external sources | `url` (string, http/https) |\r\n| **changeBackgroundColor** | Toggles between light and dark UI themes | User requests dark mode for accessibility | None |\r\n| **partyMode** | Triggers confetti and celebration animations | Celebrate successful bookings or purchases | None |\r\n| **show\\_component** | Renders rich UI components (catalogs, galleries, confirmations, forms) | Display visual results from API calls | `component_name`, `title`, `description`, `size`, `url`, `media`, `props` |\n\n### show\\_component: The Visual Workhorse\n\nThe `show_component` tool is your most powerful UI renderer. It automatically transforms API data into rich visual experiences.\n\n**Supported Components:**\n\n* `catalog_results` — Product/room listings with images, prices, and details\n* `reservation_confirmation` — Booking confirmations with all details\n* `payment_form` — Stripe payment forms for transaction completion\n* `quote_summary` — Price breakdowns and quotes\n* `room` — Detailed room/unit display with photos and amenities\n* `video` — Video player\n* `image_viewer` — Single image display\n* `media_gallery` — Multiple images/videos in a gallery\n\n**Example Usage in Prompt:**\n\n```json\n{\r\n  \"show_component\": {\r\n    \"when\": [\"Displaying search results\", \"Showing booking confirmation\"],\r\n    \"args\": [\"component_name\", \"props\"],\r\n    \"success_say\": \"Reference the visual and guide next steps\"\r\n  }\r\n}\n```\n\n## Custom HTTP Tools: The Real Power\n\nCustom tools connect your agent to your APIs — enabling searches, bookings, inventory checks, and any other business logic your APIs support.\n\n### HTTP Tool Anatomy\n\nEvery custom tool is a JSON descriptor following this schema:\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_units\",\r\n  \"description\": \"Search available hotel rooms by dates and preferences\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"check_in\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"check_out\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"guests\": { \"type\": \"number\", \"minimum\": 1 },\r\n      \"room_type\": { \"type\": \"string\", \"enum\": [\"villa\", \"suite\", \"standard\"] }\r\n    },\r\n    \"required\": [\"check_in\", \"check_out\", \"guests\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://your-api.com/api/units/search?check_in={{args.check_in}}&check_out={{args.check_out}}&guests={{args.guests | number}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"okField\": \"ok\",\r\n    \"timeoutMs\": 8000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Available Rooms\",\r\n        \"props\": {\r\n          \"items\": \"{{response.units}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"No Availability\",\r\n        \"description\": \"We couldn't find rooms matching your criteria\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 5,\r\n  \"version\": 1\r\n}\n```\n\n### Field-by-Field Breakdown\n\n#### The HTTP Section\n\nThis is where the magic happens — defining how to call your API.\n\n```json\n{\r\n  \"http\": {\r\n    \"method\": \"GET | POST | PUT | PATCH | DELETE\",\r\n    \"urlTemplate\": \"https://your-api.com/endpoint/{{args.param}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"jsonBodyTemplate\": {\r\n      \"key\": \"{{args.value}}\",\r\n      \"nested\": {\r\n        \"field\": \"{{args.nested_value | json}}\"\r\n      }\r\n    },\r\n    \"okField\": \"ok\",\r\n    \"timeoutMs\": 8000,\r\n    \"pruneEmpty\": true\r\n  }\r\n}\n```\n\n**Field Explanations:**\n\n| Field | Purpose | Notes |\r\n|-------|---------|-------|\r\n| `method` | HTTP verb | GET, POST, PUT, PATCH, DELETE |\r\n| `urlTemplate` | API endpoint with parameter interpolation | Use `{{args.param_name}}` for substitution |\r\n| `headers` | HTTP headers (auth, content-type, etc.) | Use `{{secrets.key}}` for secure values |\r\n| `jsonBodyTemplate` | Request body for POST/PUT/PATCH | Objects are templated recursively |\r\n| `okField` | Field in response indicating success | If present and truthy, call succeeded; if omitted, any 2xx is success |\r\n| `timeoutMs` | Max wait time for API response | Default 8000ms; max 120000ms |\r\n| `pruneEmpty` | Remove empty strings, nulls, empty arrays/objects before sending | Prevents API errors from unexpected empty values |\n\n#### Templating Rules (CRITICAL)\n\nThe platform uses a templating system with strict rules. **Follow these or tool calls will fail:**\n\n1. **Always prefix with `args.`**\r\n   ✅ Correct: Use `args.check_in` in template\r\n   ❌ Wrong: Use `check_in` without prefix\n\n2. **Use type coercion filters**\r\n   ✅ Correct: `args.guests | number`\r\n   ❌ Wrong: `args.guests` without filter (might send string \"2\" instead of number 2)\n\n3. **Common Filters:**\n   * `| number` — Coerce to number\n   * `| bool` — Coerce to boolean\n   * `| json` — Pass complex objects\n   * `| upper` — Uppercase strings\n   * `| default('value')` — Fallback for missing values\n   * `| default('USD') | upper` — Chain filters\n\n4. **For nested objects, use `| json`**\r\n   ✅ `\"customer\": \"{{args.customer | json}}\"`\r\n   ❌ `\"customer\": \"{{args.customer}}\"` (would stringify the object)\n\n5. **Secrets are available via `secrets.*`**\r\n   ✅ `\"authorization\": \"Bearer {{secrets.api_key}}\"`\r\n   Never hardcode API keys in tool descriptors\n\n#### The UI Section\n\nDefine what happens visually when the tool succeeds or fails.\n\n```json\n{\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Available Rooms\",\r\n        \"description\": \"{{response.count}} rooms match your search\",\r\n        \"size\": \"lg\",\r\n        \"props\": {\r\n          \"items\": \"{{response.units}}\",\r\n          \"currency\": \"{{args.currency | default('USD') | upper}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Search Failed\",\r\n        \"description\": \"We couldn't complete your search. Please try again.\"\r\n      }\r\n    }\r\n  }\r\n}\n```\n\n**UI Rendering Flow:**\n\n1. Tool calls your API\n2. If `okField` is truthy (or 2xx response without `okField`), use `onSuccess` UI\n3. If `okField` is falsy or non-2xx, use `onError` UI\n4. Template strings in UI props are filled with `{{response.*}}` and `{{args.*}}`\n5. Component renders automatically in the chat interface\n\n### Real-World Tool Examples\n\n#### Example 1: Search Products (E-Commerce)\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_products\",\r\n  \"description\": \"Search product catalog by query string\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"query\": { \"type\": \"string\" },\r\n      \"limit\": { \"type\": \"number\", \"default\": 10 },\r\n      \"category\": { \"type\": \"string\" }\r\n    },\r\n    \"required\": [\"query\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://your-store.com/api/products?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.store_api_key}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 5000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Results\",\r\n        \"props\": {\r\n          \"items\": \"{{response.products}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 5\r\n}\n```\n\n#### Example 2: Create Reservation (Hospitality)\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"create_reservation\",\r\n  \"description\": \"Book a hotel room\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"unit_id\": { \"type\": \"string\" },\r\n      \"check_in\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"check_out\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"guest\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"name\": { \"type\": \"string\" },\r\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\r\n          \"phone\": { \"type\": \"string\" }\r\n        },\r\n        \"required\": [\"name\", \"email\"]\r\n      }\r\n    },\r\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guest\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"POST\",\r\n    \"urlTemplate\": \"https://your-hotel.com/api/reservations\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.hotel_api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"jsonBodyTemplate\": {\r\n      \"unit_id\": \"{{args.unit_id}}\",\r\n      \"check_in\": \"{{args.check_in}}\",\r\n      \"check_out\": \"{{args.check_out}}\",\r\n      \"guest\": \"{{args.guest | json}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 10000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"reservation_confirmation\",\r\n        \"title\": \"Reservation Confirmed!\",\r\n        \"props\": {\r\n          \"confirmation_number\": \"{{response.confirmation_id}}\",\r\n          \"unit_name\": \"{{response.unit.name}}\",\r\n          \"check_in\": \"{{response.check_in}}\",\r\n          \"check_out\": \"{{response.check_out}}\",\r\n          \"guest_name\": \"{{response.guest.name}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Booking Failed\",\r\n        \"description\": \"{{response.message}}\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 10\r\n}\n```\n\n## Tool Design Best Practices\n\n### Do:\n\n* ✅ **Design APIs with agents in mind** — Return structured JSON with consistent field names\n* ✅ **Include an `ok` or `success` field** — Makes success/failure detection reliable\n* ✅ **Use descriptive tool names** — `search_units` is better than `search1`\n* ✅ **Provide detailed descriptions** — Helps the LLM choose the right tool\n* ✅ **Use parameter patterns** — Validate date formats, emails, phone numbers\n* ✅ **Set reasonable timeouts** — 5-10s for most APIs; longer for complex operations\n* ✅ **Always use `pruneEmpty`** — Prevents accidental empty value bugs\n\n### Don't:\n\n* ❌ **Don't forget type coercion** — Always use `| number`, `| bool`, `| json` filters\n* ❌ **Don't hardcode secrets** — Use `{{secrets.*}}` instead\n* ❌ **Don't skip error UI** — Users need to know when things fail\n* ❌ **Don't make tools too broad** — `do_everything` is not a good tool; make focused tools\n* ❌ **Don't assume fast APIs** — Set timeouts and handle delays gracefully\n\n## Testing Your Tools\n\nBefore integrating into your agent, test tools independently:\n\n## Integration Checklist\n\nBefore deploying your agent with custom tools:\n\n* \\[ ] All tool names are unique and descriptive\n* \\[ ] Tool descriptions clearly explain when to use each one\n* \\[ ] Parameters use proper JSON Schema types and patterns\n* \\[ ] URL templates use `{{args.param}}` syntax correctly\n* \\[ ] Type coercion filters (`| number`, `| json`, etc.) are applied\n* \\[ ] Secrets are referenced via `{{secrets.*}}`, not hardcoded\n* \\[ ] `okField` matches your API's success indicator\n* \\[ ] Timeouts are set appropriately for each API\n* \\[ ] Both `onSuccess` and `onError` UI are defined\n* \\[ ] Tools have been tested with real API calls\n* \\[ ] Prompt references each tool with `when`, `args`, `success_say`, and `handle_errors`\n\n## Next Steps\n\nWith your tools designed, complete your agent configuration and deploy:\n",
    "_searchMeta": {
      "cleanContent": "tool design: connecting agents to reality tools are how your agent accesses truth real-time inventory current availability actual pricing and the ability to take actions like creating bookings or processing orders without tools agents can only guess with tools they become reliably useful vox provides two categories of tools: core platform tools pre-built utilities available to every agent custom http tools api integrations you define to connect your agent to your systems core platform tools these tools come built-in with every vox agent no configuration needed just reference them in your prompt tool name what it does when to use parameters ----------- -------------- ------------- ------------ getcurrenttime returns current local time and timezone user asks for time or agent needs to check business hours none launchwebsite opens a url in a new browser tab direct users to external resources documentation or your checkout page url string http https copytoclipboard copies text to user s clipboard share confirmation codes ids or referral links text string scrapewebsite fetches and returns website content as markdown html summarize dynamic content from your site or external sources url string http https changebackgroundcolor toggles between light and dark ui themes user requests dark mode for accessibility none partymode triggers confetti and celebration animations celebrate successful bookings or purchases none show component renders rich ui components catalogs galleries confirmations forms display visual results from api calls componentname title description size url media props show _component: the visual workhorse the show_component tool is your most powerful ui renderer it automatically transforms api data into rich visual experiences supported components: catalog_results product room listings with images prices and details reservation_confirmation booking confirmations with all details payment_form stripe payment forms for transaction completion quote_summary price breakdowns and quotes room detailed room unit display with photos and amenities video video player image_viewer single image display media_gallery multiple images videos in a gallery example usage in prompt: custom http tools: the real power custom tools connect your agent to your apis enabling searches bookings inventory checks and any other business logic your apis support http tool anatomy every custom tool is a json descriptor following this schema: field-by-field breakdown the http section this is where the magic happens defining how to call your api field explanations: field purpose notes ------- --------- ------- method http verb get post put patch delete urltemplate api endpoint with parameter interpolation use args param_name for substitution headers http headers auth content-type etc use secrets key for secure values jsonbodytemplate request body for post put patch objects are templated recursively okfield field in response indicating success if present and truthy call succeeded if omitted any 2xx is success timeoutms max wait time for api response default 8000ms max 120000ms pruneempty remove empty strings nulls empty arrays objects before sending prevents api errors from unexpected empty values templating rules critical the platform uses a templating system with strict rules follow these or tool calls will fail: always prefix with args correct: use args check_in in template wrong: use check_in without prefix use type coercion filters correct: args guests number wrong: args guests without filter might send string 2 instead of number 2 common filters: number coerce to number bool coerce to boolean json pass complex objects upper uppercase strings default value fallback for missing values default usd upper chain filters for nested objects use json customer : args customer json customer : args customer would stringify the object secrets are available via secrets authorization : bearer secrets api_key never hardcode api keys in tool descriptors the ui section define what happens visually when the tool succeeds or fails ui rendering flow: tool calls your api if okfield is truthy or 2xx response without okfield use onsuccess ui if okfield is falsy or non-2xx use onerror ui template strings in ui props are filled with response and args component renders automatically in the chat interface real-world tool examples example 1: search products e-commerce example 2: create reservation hospitality tool design best practices do: design apis with agents in mind return structured json with consistent field names include an ok or success field makes success failure detection reliable use descriptive tool names search_units is better than search1 provide detailed descriptions helps the llm choose the right tool use parameter patterns validate date formats emails phone numbers set reasonable timeouts 5-10s for most apis longer for complex operations always use pruneempty prevents accidental empty value bugs don t: don t forget type coercion always use number bool json filters don t hardcode secrets use secrets instead don t skip error ui users need to know when things fail don t make tools too broad do_everything is not a good tool make focused tools don t assume fast apis set timeouts and handle delays gracefully testing your tools before integrating into your agent test tools independently: integration checklist before deploying your agent with custom tools: all tool names are unique and descriptive tool descriptions clearly explain when to use each one parameters use proper json schema types and patterns url templates use args param syntax correctly type coercion filters number json etc are applied secrets are referenced via secrets not hardcoded okfield matches your api s success indicator timeouts are set appropriately for each api both onsuccess and onerror ui are defined tools have been tested with real api calls prompt references each tool with when args successsay and handleerrors next steps with your tools designed complete your agent configuration and deploy:",
      "headings": [
        "Tool Design: Connecting Agents to Reality",
        "Core Platform Tools",
        "Custom HTTP Tools: The Real Power",
        "Tool Design Best Practices",
        "Testing Your Tools",
        "Integration Checklist",
        "Next Steps"
      ],
      "keywords": [
        "tools",
        "capabilities",
        "HTTP tools",
        "API integration",
        "Tool Design: Connecting Agents to Reality",
        "Core Platform Tools",
        "Custom HTTP Tools: The Real Power",
        "Tool Design Best Practices",
        "Testing Your Tools",
        "Integration Checklist",
        "Next Steps",
        "Custom HTTP Tools",
        "getCurrentTime",
        "launchWebsite",
        "copyToClipboard",
        "scrapeWebsite",
        "changeBackgroundColor",
        "partyMode",
        "show\\_component",
        "Supported Components:",
        "Example Usage in Prompt:",
        "Field Explanations:",
        "Follow these or tool calls will fail:",
        "Always prefix with `args.`",
        "Use type coercion filters",
        "Common Filters:",
        "For nested objects, use `| json`",
        "✅ `\"authorization\": \"Bearer {{secrets.api_key}}\"`\r\n   Never hardcode API keys in tool descriptors\n\n#### The UI Section\n\nDefine what happens visually when the tool succeeds or fails.\n\n```json\n{\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Available Rooms\",\r\n        \"description\": \"{{response.count}} rooms match your search\",\r\n        \"size\": \"lg\",\r\n        \"props\": {\r\n          \"items\": \"{{response.units}}\",\r\n          \"currency\": \"{{args.currency | default('USD') | upper}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Search Failed\",\r\n        \"description\": \"We couldn't complete your search. Please try again.\"\r\n      }\r\n    }\r\n  }\r\n}\n```",
        "Design APIs with agents in mind",
        "Include an `ok` or `success` field",
        "Use descriptive tool names",
        "Provide detailed descriptions",
        "Use parameter patterns",
        "Set reasonable timeouts",
        "Always use `pruneEmpty`",
        "Don't forget type coercion",
        "Don't hardcode secrets",
        "Don't skip error UI",
        "Don't make tools too broad",
        "Don't assume fast APIs",
        "url",
        "text",
        "component_name",
        "title",
        "description",
        "size",
        "media",
        "props",
        "show_component",
        "catalog_results",
        "reservation_confirmation",
        "payment_form",
        "quote_summary",
        "room",
        "video",
        "image_viewer",
        "media_gallery",
        "json\n{\r\n  \"show_component\": {\r\n    \"when\": [\"Displaying search results\", \"Showing booking confirmation\"],\r\n    \"args\": [\"component_name\", \"props\"],\r\n    \"success_say\": \"Reference the visual and guide next steps\"\r\n  }\r\n}",
        "## Custom HTTP Tools: The Real Power\n\nCustom tools connect your agent to your APIs — enabling searches, bookings, inventory checks, and any other business logic your APIs support.\n\n### HTTP Tool Anatomy\n\nEvery custom tool is a JSON descriptor following this schema:",
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_units\",\r\n  \"description\": \"Search available hotel rooms by dates and preferences\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"check_in\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"check_out\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"guests\": { \"type\": \"number\", \"minimum\": 1 },\r\n      \"room_type\": { \"type\": \"string\", \"enum\": [\"villa\", \"suite\", \"standard\"] }\r\n    },\r\n    \"required\": [\"check_in\", \"check_out\", \"guests\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://your-api.com/api/units/search?check_in={{args.check_in}}&check_out={{args.check_out}}&guests={{args.guests | number}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"okField\": \"ok\",\r\n    \"timeoutMs\": 8000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Available Rooms\",\r\n        \"props\": {\r\n          \"items\": \"{{response.units}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"No Availability\",\r\n        \"description\": \"We couldn't find rooms matching your criteria\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 5,\r\n  \"version\": 1\r\n}",
        "### Field-by-Field Breakdown\n\n#### The HTTP Section\n\nThis is where the magic happens — defining how to call your API.",
        "json\n{\r\n  \"http\": {\r\n    \"method\": \"GET | POST | PUT | PATCH | DELETE\",\r\n    \"urlTemplate\": \"https://your-api.com/endpoint/{{args.param}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"jsonBodyTemplate\": {\r\n      \"key\": \"{{args.value}}\",\r\n      \"nested\": {\r\n        \"field\": \"{{args.nested_value | json}}\"\r\n      }\r\n    },\r\n    \"okField\": \"ok\",\r\n    \"timeoutMs\": 8000,\r\n    \"pruneEmpty\": true\r\n  }\r\n}",
        "**Field Explanations:**\n\n| Field | Purpose | Notes |\r\n|-------|---------|-------|\r\n|",
        "| HTTP verb | GET, POST, PUT, PATCH, DELETE |\r\n|",
        "| API endpoint with parameter interpolation | Use",
        "for substitution |\r\n|",
        "| HTTP headers (auth, content-type, etc.) | Use",
        "for secure values |\r\n|",
        "| Request body for POST/PUT/PATCH | Objects are templated recursively |\r\n|",
        "| Field in response indicating success | If present and truthy, call succeeded; if omitted, any 2xx is success |\r\n|",
        "| Max wait time for API response | Default 8000ms; max 120000ms |\r\n|",
        "| Remove empty strings, nulls, empty arrays/objects before sending | Prevents API errors from unexpected empty values |\n\n#### Templating Rules (CRITICAL)\n\nThe platform uses a templating system with strict rules. **Follow these or tool calls will fail:**\n\n1. **Always prefix with",
        "**\r\n   ✅ Correct: Use",
        "in template\r\n   ❌ Wrong: Use",
        "without prefix\n\n2. **Use type coercion filters**\r\n   ✅ Correct:",
        "❌ Wrong:",
        "without filter (might send string \"2\" instead of number 2)\n\n3. **Common Filters:**\n   *",
        "— Coerce to number\n   *",
        "— Coerce to boolean\n   *",
        "— Pass complex objects\n   *",
        "— Uppercase strings\n   *",
        "— Fallback for missing values\n   *",
        "— Chain filters\n\n4. **For nested objects, use",
        "**\r\n   ✅",
        "❌",
        "(would stringify the object)\n\n5. **Secrets are available via",
        "Never hardcode API keys in tool descriptors\n\n#### The UI Section\n\nDefine what happens visually when the tool succeeds or fails.",
        "json\n{\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Available Rooms\",\r\n        \"description\": \"{{response.count}} rooms match your search\",\r\n        \"size\": \"lg\",\r\n        \"props\": {\r\n          \"items\": \"{{response.units}}\",\r\n          \"currency\": \"{{args.currency | default('USD') | upper}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Search Failed\",\r\n        \"description\": \"We couldn't complete your search. Please try again.\"\r\n      }\r\n    }\r\n  }\r\n}",
        "**UI Rendering Flow:**\n\n1. Tool calls your API\n2. If",
        "is truthy (or 2xx response without",
        "), use",
        "UI\n3. If",
        "is falsy or non-2xx, use",
        "UI\n4. Template strings in UI props are filled with",
        "and",
        "5. Component renders automatically in the chat interface\n\n### Real-World Tool Examples\n\n#### Example 1: Search Products (E-Commerce)",
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_products\",\r\n  \"description\": \"Search product catalog by query string\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"query\": { \"type\": \"string\" },\r\n      \"limit\": { \"type\": \"number\", \"default\": 10 },\r\n      \"category\": { \"type\": \"string\" }\r\n    },\r\n    \"required\": [\"query\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://your-store.com/api/products?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.store_api_key}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 5000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Results\",\r\n        \"props\": {\r\n          \"items\": \"{{response.products}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 5\r\n}",
        "#### Example 2: Create Reservation (Hospitality)",
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"create_reservation\",\r\n  \"description\": \"Book a hotel room\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"unit_id\": { \"type\": \"string\" },\r\n      \"check_in\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"check_out\": { \"type\": \"string\", \"pattern\": \"^\\\\d{4}-\\\\d{2}-\\\\d{2}$\" },\r\n      \"guest\": {\r\n        \"type\": \"object\",\r\n        \"properties\": {\r\n          \"name\": { \"type\": \"string\" },\r\n          \"email\": { \"type\": \"string\", \"format\": \"email\" },\r\n          \"phone\": { \"type\": \"string\" }\r\n        },\r\n        \"required\": [\"name\", \"email\"]\r\n      }\r\n    },\r\n    \"required\": [\"unit_id\", \"check_in\", \"check_out\", \"guest\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"POST\",\r\n    \"urlTemplate\": \"https://your-hotel.com/api/reservations\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.hotel_api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"jsonBodyTemplate\": {\r\n      \"unit_id\": \"{{args.unit_id}}\",\r\n      \"check_in\": \"{{args.check_in}}\",\r\n      \"check_out\": \"{{args.check_out}}\",\r\n      \"guest\": \"{{args.guest | json}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 10000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"reservation_confirmation\",\r\n        \"title\": \"Reservation Confirmed!\",\r\n        \"props\": {\r\n          \"confirmation_number\": \"{{response.confirmation_id}}\",\r\n          \"unit_name\": \"{{response.unit.name}}\",\r\n          \"check_in\": \"{{response.check_in}}\",\r\n          \"check_out\": \"{{response.check_out}}\",\r\n          \"guest_name\": \"{{response.guest.name}}\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Booking Failed\",\r\n        \"description\": \"{{response.message}}\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 10\r\n}",
        "## Tool Design Best Practices\n\n### Do:\n\n* ✅ **Design APIs with agents in mind** — Return structured JSON with consistent field names\n* ✅ **Include an",
        "or",
        "field** — Makes success/failure detection reliable\n* ✅ **Use descriptive tool names** —",
        "is better than",
        "* ✅ **Provide detailed descriptions** — Helps the LLM choose the right tool\n* ✅ **Use parameter patterns** — Validate date formats, emails, phone numbers\n* ✅ **Set reasonable timeouts** — 5-10s for most APIs; longer for complex operations\n* ✅ **Always use",
        "** — Prevents accidental empty value bugs\n\n### Don't:\n\n* ❌ **Don't forget type coercion** — Always use",
        ",",
        "filters\n* ❌ **Don't hardcode secrets** — Use",
        "instead\n* ❌ **Don't skip error UI** — Users need to know when things fail\n* ❌ **Don't make tools too broad** —",
        "is not a good tool; make focused tools\n* ❌ **Don't assume fast APIs** — Set timeouts and handle delays gracefully\n\n## Testing Your Tools\n\nBefore integrating into your agent, test tools independently:\n\n## Integration Checklist\n\nBefore deploying your agent with custom tools:\n\n* \\[ ] All tool names are unique and descriptive\n* \\[ ] Tool descriptions clearly explain when to use each one\n* \\[ ] Parameters use proper JSON Schema types and patterns\n* \\[ ] URL templates use",
        "syntax correctly\n* \\[ ] Type coercion filters (",
        ", etc.) are applied\n* \\[ ] Secrets are referenced via",
        ", not hardcoded\n* \\[ ]",
        "matches your API's success indicator\n* \\[ ] Timeouts are set appropriately for each API\n* \\[ ] Both",
        "UI are defined\n* \\[ ] Tools have been tested with real API calls\n* \\[ ] Prompt references each tool with",
        ", and"
      ]
    }
  },
  {
    "slug": "/start/widget",
    "title": "Widget Integration",
    "description": "Embed your voice agent on your website with the VOX widget — step-by-step embedding, customization, and troubleshooting.",
    "content": "## Widget Integration: Bringing Your Agent to Life\n\nThe VOX widget is the customer-facing entry point for your voice agent. It's a lightweight JavaScript component that embeds seamlessly into your website, handles microphone permissions, streams audio to the VOX platform, and renders UI components returned by your agent's tools.\n\nThis guide covers everything you need to embed, customize, and troubleshoot the widget across different environments and frameworks.\n\n## Quick Start: Basic Embedding\n\nThe simplest way to embed the VOX widget is to add a script block to your HTML:\n\n```html\n<!-- Add this snippet before the closing </body> tag -->\n<script>\n  (function() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: 'w_your_widget_key_here'\n    };\n    var script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  })();\n</script>\n```\n\n**Required Configuration:**\n\n* `tenantId` — Your unique tenant identifier (e.g., `'cypress-resorts'`)\n* `agentId` — The specific agent to load (e.g., `'concierge'`)\n* `widgetKey` — The widget key tied to your domain origin\n\n**What Happens Next:**\n\n1. Widget loads asynchronously (no blocking)\n2. A voice button appears on your page (bottom-right by default)\n3. When clicked, the widget requests microphone permissions\n4. User speaks → audio streams to VOX → agent responds → UI renders\n\n## Configuration Options\n\nCustomize the widget's appearance, behavior, and positioning:\n\n```html\n<script>\n  window.voxConfig = {\n    // Required\n    tenantId: 'your-tenant-id',\n    agentId: 'your-agent-id',\n    widgetKey: 'w_your_widget_key_here',\n\n    // Optional Customization\n    position: 'bottom-right', // 'bottom-left', 'top-right', 'top-left'\n    theme: 'light', // 'light', 'dark', 'auto'\n    primaryColor: '#0066CC', // Hex color for widget accent\n    buttonSize: 'medium', // 'small', 'medium', 'large'\n    autoOpen: false, // Auto-start conversation on page load\n    greeting: 'Hi! How can I help you today?', // Initial message\n    zIndex: 9999, // CSS z-index for widget overlay\n\n    // Advanced Options\n    sessionMetadata: {\n      page: window.location.pathname,\n      referrer: document.referrer,\n      customerId: getUserId() // Your function to get user context\n    }\n  };\n</script>\n```\n\n### Configuration Reference\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n| `tenantId` | string | **required** | Your tenant identifier |\n| `agentId` | string | **required** | Which agent to load |\n| `widgetKey` | string | **required** | Widget authentication key |\n| `position` | string | `'bottom-right'` | Widget button placement |\n| `theme` | string | `'light'` | Color theme |\n| `primaryColor` | string | `'#0066CC'` | Accent color for buttons and highlights |\n| `buttonSize` | string | `'medium'` | Size of the voice button |\n| `autoOpen` | boolean | `false` | Start conversation immediately on load |\n| `greeting` | string | Agent-defined | Override the agent's default greeting |\n| `zIndex` | number | `9999` | CSS stacking order |\n| `sessionMetadata` | object | `{}` | Custom data passed to agent session |\n\n## Framework-Specific Integration\n\n### React\n\nCreate a dedicated widget component:\n\n```javascript\n// components/VoxWidget.jsx\nimport { useEffect } from 'react';\n\nexport default function VoxWidget({ tenantId, agentId, widgetKey }) {\n  useEffect(() => {\n    // Configure the widget\n    window.voxConfig = {\n      tenantId,\n      agentId,\n      widgetKey,\n      position: 'bottom-right',\n      theme: 'auto'\n    };\n\n    // Load the widget script\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n\n    // Cleanup on unmount\n    return () => {\n      const existingScript = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n      if (existingScript) {\n        existingScript.remove();\n      }\n      // Cleanup widget instance\n      if (window.voxWidget) {\n        window.voxWidget.destroy();\n      }\n    };\n  }, [tenantId, agentId, widgetKey]);\n\n  return null; // Widget renders itself\n}\n```\n\nUsage:\n\n```javascript\n// app/layout.jsx or pages/_app.jsx\nimport VoxWidget from '@/components/VoxWidget';\n\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        {children}\n        <VoxWidget\n          tenantId=\"your-tenant-id\"\n          agentId=\"your-agent-id\"\n          widgetKey={process.env.NEXT_PUBLIC_VOX_WIDGET_KEY}\n        />\n      </body>\n    </html>\n  );\n}\n```\n\n### Vue\n\n```javascript\n<!-- components/VoxWidget.vue -->\n<template>\n  <div></div> <!-- Widget renders itself via script -->\n</template>\n\n<script>\nexport default {\n  name: 'VoxWidget',\n  props: {\n    tenantId: String,\n    agentId: String,\n    widgetKey: String\n  },\n  mounted() {\n    window.voxConfig = {\n      tenantId: this.tenantId,\n      agentId: this.agentId,\n      widgetKey: this.widgetKey,\n      position: 'bottom-right'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  },\n  beforeUnmount() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if (window.voxWidget) window.voxWidget.destroy();\n  }\n};\n</script>\n```\n\n### Angular\n\n```ts\n// app/components/vox-widget.component.ts\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-vox-widget',\n  template: ''\n})\nexport class VoxWidgetComponent implements OnInit, OnDestroy {\n  @Input() tenantId!: string;\n  @Input() agentId!: string;\n  @Input() widgetKey!: string;\n\n  ngOnInit() {\n    (window as any).voxConfig = {\n      tenantId: this.tenantId,\n      agentId: this.agentId,\n      widgetKey: this.widgetKey\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  }\n\n  ngOnDestroy() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if ((window as any).voxWidget) {\n      (window as any).voxWidget.destroy();\n    }\n  }\n}\n```\n\n## Multi-Environment Setup\n\nUse environment-specific widget keys to isolate development, staging, and production traffic:\n\n### Development\n\n```javascript\n// Local development (http://localhost:3000)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_dev_local_abc123'\n};\n```\n\n### Staging\n\n```javascript\n// Staging environment (https://staging.yoursite.com)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_staging_def456'\n};\n```\n\n### Production\n\n```javascript\n// Production (https://yoursite.com)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_prod_ghi789'\n};\n```\n\n**Best Practice:** Use environment variables to manage keys:\n\n```javascript\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: process.env.NEXT_PUBLIC_VOX_WIDGET_KEY // Next.js\n  // or import.meta.env.VITE_VOX_WIDGET_KEY // Vite\n  // or process.env.REACT_APP_VOX_WIDGET_KEY // Create React App\n};\n```\n\n## Widget API and Events\n\nThe widget exposes a JavaScript API for programmatic control:\n\n### Opening and Closing\n\n```javascript\n// Open the widget programmatically\nwindow.voxWidget.open();\n\n// Close the widget\nwindow.voxWidget.close();\n\n// Toggle the widget\nwindow.voxWidget.toggle();\n```\n\n### Event Listeners\n\n```javascript\n// Widget loaded and ready\nwindow.addEventListener('vox:ready', () => {\n  console.log('VOX widget is ready');\n});\n\n// Session started\nwindow.addEventListener('vox:session:start', (event) => {\n  console.log('Session started:', event.detail.sessionId);\n});\n\n// Session ended\nwindow.addEventListener('vox:session:end', (event) => {\n  console.log('Session ended:', event.detail);\n  // event.detail includes: sessionId, duration, messageCount\n});\n\n// Agent message received\nwindow.addEventListener('vox:message', (event) => {\n  console.log('Agent said:', event.detail.text);\n});\n\n// Error occurred\nwindow.addEventListener('vox:error', (event) => {\n  console.error('Widget error:', event.detail.message);\n});\n```\n\n### Custom Triggers\n\nTrigger the widget from your own UI elements:\n\n```html\n<button onclick=\"window.voxWidget.open()\">\n  Talk to Our Assistant\n</button>\n\n<a href=\"#\" onclick=\"event.preventDefault(); window.voxWidget.open();\">\n  Need help? Chat with us\n</a>\n```\n\n## Troubleshooting\n\n### Widget Key Rejected\n\n**Error:** `Widget key validation failed` or `Unauthorized`\n\n**Causes:**\n\n* Widget key doesn't match the configured origin\n* Key has been revoked\n* Tenant is inactive\n\n**Solutions:**\n\n1. Verify the key in your tenant configuration matches the embedded key exactly\n2. Ensure the `origin` in the widget key config matches your website URL precisely:\n   * `https://yoursite.com` ≠ `https://www.yoursite.com`\n   * `https://yoursite.com` ≠ `http://yoursite.com`\n3. Create separate widget keys for `www` and non-`www` versions if needed\n4. Check that the tenant status is `active` not `trial` or `suspended`\n\n### CORS Errors\n\n**Error:** `Access to fetch at 'https://vox.strategicmachines.ai' has been blocked by CORS policy`\n\n**Causes:**\n\n* Origin mismatch between your domain and the widget key configuration\n* Missing protocol (http vs https)\n\n**Solutions:**\n\n1. Ensure your widget key's `origin` field exactly matches your website's URL\n2. Update the origin in your tenant config:\n   ```json\n   {\n     \"widgetKeys\": [\n       {\n         \"origin\": \"https://yoursite.com\" // Must match exactly\n       }\n     ]\n   }\n   ```\n3. For local development, add a key with `origin: \"http://localhost:3000\"`\n\n### Microphone Permission Denied\n\n**Error:** User sees \"Microphone access denied\" message\n\n**Causes:**\n\n* Browser doesn't support microphone API\n* User explicitly denied permission\n* Site is not served over HTTPS (required for microphone access)\n\n**Solutions:**\n\n1. Ensure your site uses HTTPS in production (HTTP blocks microphone access)\n2. For local development, use `localhost` (allowed over HTTP)\n3. Provide clear messaging about why microphone access is needed\n4. Test microphone permissions with:\n   ```javascript\n   navigator.mediaDevices.getUserMedia({ audio: true })\n     .then(() => console.log('Microphone access granted'))\n     .catch(err => console.error('Microphone access denied:', err));\n   ```\n\n### Widget Not Appearing\n\n**Error:** Widget script loads but no button appears\n\n**Causes:**\n\n* CSS z-index conflict\n* Element positioning issue\n* JavaScript error preventing initialization\n\n**Solutions:**\n\n1. Check browser console for errors\n2. Increase `zIndex` in config:\n   ```javascript\n   window.voxConfig = {\n     zIndex: 99999\n   };\n   ```\n3. Verify the widget script loaded:\n   ```javascript\n   console.log('Widget loaded:', !!window.voxWidget);\n   ```\n4. Try a different position:\n   ```javascript\n   window.voxConfig = {\n     position: 'bottom-left'\n   };\n   ```\n\n### Session Fails to Start\n\n**Error:** Widget opens but conversation doesn't start\n\n**Causes:**\n\n* Rate limit exceeded\n* Tenant concurrent session limit reached\n* Agent configuration error\n\n**Solutions:**\n\n1. Check browser console and network tab for error responses\n2. Verify tenant limits:\n   * `maxConcurrentCalls` not exceeded\n   * `maxMonthlyMinutes` not exhausted\n3. Confirm agent configuration is valid (test with different agent if available)\n4. Review session start errors in the VOX platform monitoring dashboard\n\n## Performance Optimization\n\n### Lazy Loading\n\nLoad the widget only when needed to improve initial page load:\n\n```javascript\n// Load widget on user interaction\ndocument.getElementById('chat-button').addEventListener('click', function() {\n  if (!window.voxWidget) {\n    window.voxConfig = { /* config */ };\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.onload = () => window.voxWidget.open();\n    document.head.appendChild(script);\n  } else {\n    window.voxWidget.open();\n  }\n});\n```\n\n### Defer Loading\n\nLoad the widget after the page is interactive:\n\n```javascript\n// Load after DOMContentLoaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  window.voxConfig = { /* config */ };\n  const script = document.createElement('script');\n  script.src = 'https://vox.strategicmachines.ai/widget.js';\n  script.async = true;\n  document.head.appendChild(script);\n});\n```\n\n## Security Best Practices\n\n## Next Steps\n\nWith your widget embedded, complete the deployment process:\n",
    "_searchMeta": {
      "cleanContent": "widget integration: bringing your agent to life the vox widget is the customer-facing entry point for your voice agent it s a lightweight javascript component that embeds seamlessly into your website handles microphone permissions streams audio to the vox platform and renders ui components returned by your agent s tools this guide covers everything you need to embed customize and troubleshoot the widget across different environments and frameworks quick start: basic embedding the simplest way to embed the vox widget is to add a script block to your html: required configuration: tenantid your unique tenant identifier e g cypress-resorts agentid the specific agent to load e g concierge widgetkey the widget key tied to your domain origin what happens next: widget loads asynchronously no blocking a voice button appears on your page bottom-right by default when clicked the widget requests microphone permissions user speaks audio streams to vox agent responds ui renders configuration options customize the widget s appearance behavior and positioning: configuration reference option type default description-------- ------ --------- -------------tenantid string required your tenant identifieragentid string required which agent to loadwidgetkey string required widget authentication keyposition string bottom-right widget button placementtheme string light color themeprimarycolor string 0066cc accent color for buttons and highlightsbuttonsize string medium size of the voice buttonautoopen boolean false start conversation immediately on loadgreeting string agent-defined override the agent s default greetingzindex number 9999 css stacking ordersessionmetadata object custom data passed to agent session framework-specific integration react create a dedicated widget component: usage: vue angular multi-environment setup use environment-specific widget keys to isolate development staging and production traffic: development staging production best practice: use environment variables to manage keys: widget api and events the widget exposes a javascript api for programmatic control: opening and closing event listeners custom triggers trigger the widget from your own ui elements: troubleshooting widget key rejected error: widget key validation failed or unauthorized causes: widget key doesn t match the configured origin key has been revoked tenant is inactive solutions: verify the key in your tenant configuration matches the embedded key exactly ensure the origin in the widget key config matches your website url precisely: https: yoursite com https: www yoursite com https: yoursite com http: yoursite com create separate widget keys for www and non-www versions if needed check that the tenant status is active not trial or suspended cors errors error: access to fetch at https: vox strategicmachines ai has been blocked by cors policy causes: origin mismatch between your domain and the widget key configuration missing protocol http vs https solutions: ensure your widget key s origin field exactly matches your website s url update the origin in your tenant config: for local development add a key with origin: http: localhost:3000 microphone permission denied error: user sees microphone access denied message causes: browser doesn t support microphone api user explicitly denied permission site is not served over https required for microphone access solutions: ensure your site uses https in production http blocks microphone access for local development use localhost allowed over http provide clear messaging about why microphone access is needed test microphone permissions with: widget not appearing error: widget script loads but no button appears causes: css z-index conflict element positioning issue javascript error preventing initialization solutions: check browser console for errors increase zindex in config: verify the widget script loaded: try a different position: session fails to start error: widget opens but conversation doesn t start causes: rate limit exceeded tenant concurrent session limit reached agent configuration error solutions: check browser console and network tab for error responses verify tenant limits: maxconcurrentcalls not exceeded maxmonthlyminutes not exhausted confirm agent configuration is valid test with different agent if available review session start errors in the vox platform monitoring dashboard performance optimization lazy loading load the widget only when needed to improve initial page load: defer loading load the widget after the page is interactive: security best practices next steps with your widget embedded complete the deployment process:",
      "headings": [
        "Widget Integration: Bringing Your Agent to Life",
        "Quick Start: Basic Embedding",
        "Configuration Options",
        "Framework-Specific Integration",
        "Multi-Environment Setup",
        "Widget API and Events",
        "Troubleshooting",
        "Performance Optimization",
        "Security Best Practices",
        "Next Steps"
      ],
      "keywords": [
        "widget",
        "embedding",
        "integration",
        "javascript",
        "cors",
        "Widget Integration: Bringing Your Agent to Life",
        "Quick Start: Basic Embedding",
        "Configuration Options",
        "Framework-Specific Integration",
        "Multi-Environment Setup",
        "Widget API and Events",
        "Troubleshooting",
        "Performance Optimization",
        "Security Best Practices",
        "Next Steps",
        "Required Configuration:",
        "What Happens Next:",
        "required",
        "Best Practice:",
        "Error:",
        "Causes:",
        "Solutions:",
        "html\n<!-- Add this snippet before the closing </body> tag -->\n<script>\n  (function() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: 'w_your_widget_key_here'\n    };\n    var script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  })();\n</script>",
        "**Required Configuration:**\n\n*",
        "— Your unique tenant identifier (e.g.,",
        ")\n*",
        "— The specific agent to load (e.g.,",
        "— The widget key tied to your domain origin\n\n**What Happens Next:**\n\n1. Widget loads asynchronously (no blocking)\n2. A voice button appears on your page (bottom-right by default)\n3. When clicked, the widget requests microphone permissions\n4. User speaks → audio streams to VOX → agent responds → UI renders\n\n## Configuration Options\n\nCustomize the widget's appearance, behavior, and positioning:",
        "html\n<script>\n  window.voxConfig = {\n    // Required\n    tenantId: 'your-tenant-id',\n    agentId: 'your-agent-id',\n    widgetKey: 'w_your_widget_key_here',\n\n    // Optional Customization\n    position: 'bottom-right', // 'bottom-left', 'top-right', 'top-left'\n    theme: 'light', // 'light', 'dark', 'auto'\n    primaryColor: '#0066CC', // Hex color for widget accent\n    buttonSize: 'medium', // 'small', 'medium', 'large'\n    autoOpen: false, // Auto-start conversation on page load\n    greeting: 'Hi! How can I help you today?', // Initial message\n    zIndex: 9999, // CSS z-index for widget overlay\n\n    // Advanced Options\n    sessionMetadata: {\n      page: window.location.pathname,\n      referrer: document.referrer,\n      customerId: getUserId() // Your function to get user context\n    }\n  };\n</script>",
        "### Configuration Reference\n\n| Option | Type | Default | Description |\n|--------|------|---------|-------------|\n|",
        "| string | **required** | Your tenant identifier |\n|",
        "| string | **required** | Which agent to load |\n|",
        "| string | **required** | Widget authentication key |\n|",
        "| string |",
        "| Widget button placement |\n|",
        "| Color theme |\n|",
        "| Accent color for buttons and highlights |\n|",
        "| Size of the voice button |\n|",
        "| boolean |",
        "| Start conversation immediately on load |\n|",
        "| string | Agent-defined | Override the agent's default greeting |\n|",
        "| number |",
        "| CSS stacking order |\n|",
        "| object |",
        "| Custom data passed to agent session |\n\n## Framework-Specific Integration\n\n### React\n\nCreate a dedicated widget component:",
        "javascript\n// components/VoxWidget.jsx\nimport { useEffect } from 'react';\n\nexport default function VoxWidget({ tenantId, agentId, widgetKey }) {\n  useEffect(() => {\n    // Configure the widget\n    window.voxConfig = {\n      tenantId,\n      agentId,\n      widgetKey,\n      position: 'bottom-right',\n      theme: 'auto'\n    };\n\n    // Load the widget script\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n\n    // Cleanup on unmount\n    return () => {\n      const existingScript = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n      if (existingScript) {\n        existingScript.remove();\n      }\n      // Cleanup widget instance\n      if (window.voxWidget) {\n        window.voxWidget.destroy();\n      }\n    };\n  }, [tenantId, agentId, widgetKey]);\n\n  return null; // Widget renders itself\n}",
        "Usage:",
        "javascript\n// app/layout.jsx or pages/_app.jsx\nimport VoxWidget from '@/components/VoxWidget';\n\nexport default function RootLayout({ children }) {\n  return (\n    <html>\n      <body>\n        {children}\n        <VoxWidget\n          tenantId=\"your-tenant-id\"\n          agentId=\"your-agent-id\"\n          widgetKey={process.env.NEXT_PUBLIC_VOX_WIDGET_KEY}\n        />\n      </body>\n    </html>\n  );\n}",
        "### Vue",
        "javascript\n<!-- components/VoxWidget.vue -->\n<template>\n  <div></div> <!-- Widget renders itself via script -->\n</template>\n\n<script>\nexport default {\n  name: 'VoxWidget',\n  props: {\n    tenantId: String,\n    agentId: String,\n    widgetKey: String\n  },\n  mounted() {\n    window.voxConfig = {\n      tenantId: this.tenantId,\n      agentId: this.agentId,\n      widgetKey: this.widgetKey,\n      position: 'bottom-right'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  },\n  beforeUnmount() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if (window.voxWidget) window.voxWidget.destroy();\n  }\n};\n</script>",
        "### Angular",
        "ts\n// app/components/vox-widget.component.ts\nimport { Component, OnInit, OnDestroy, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-vox-widget',\n  template: ''\n})\nexport class VoxWidgetComponent implements OnInit, OnDestroy {\n  @Input() tenantId!: string;\n  @Input() agentId!: string;\n  @Input() widgetKey!: string;\n\n  ngOnInit() {\n    (window as any).voxConfig = {\n      tenantId: this.tenantId,\n      agentId: this.agentId,\n      widgetKey: this.widgetKey\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  }\n\n  ngOnDestroy() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if ((window as any).voxWidget) {\n      (window as any).voxWidget.destroy();\n    }\n  }\n}",
        "## Multi-Environment Setup\n\nUse environment-specific widget keys to isolate development, staging, and production traffic:\n\n### Development",
        "javascript\n// Local development (http://localhost:3000)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_dev_local_abc123'\n};",
        "### Staging",
        "javascript\n// Staging environment (https://staging.yoursite.com)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_staging_def456'\n};",
        "### Production",
        "javascript\n// Production (https://yoursite.com)\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: 'w_prod_ghi789'\n};",
        "**Best Practice:** Use environment variables to manage keys:",
        "javascript\nwindow.voxConfig = {\n  tenantId: 'your-tenant-id',\n  agentId: 'your-agent-id',\n  widgetKey: process.env.NEXT_PUBLIC_VOX_WIDGET_KEY // Next.js\n  // or import.meta.env.VITE_VOX_WIDGET_KEY // Vite\n  // or process.env.REACT_APP_VOX_WIDGET_KEY // Create React App\n};",
        "## Widget API and Events\n\nThe widget exposes a JavaScript API for programmatic control:\n\n### Opening and Closing",
        "javascript\n// Open the widget programmatically\nwindow.voxWidget.open();\n\n// Close the widget\nwindow.voxWidget.close();\n\n// Toggle the widget\nwindow.voxWidget.toggle();",
        "### Event Listeners",
        "javascript\n// Widget loaded and ready\nwindow.addEventListener('vox:ready', () => {\n  console.log('VOX widget is ready');\n});\n\n// Session started\nwindow.addEventListener('vox:session:start', (event) => {\n  console.log('Session started:', event.detail.sessionId);\n});\n\n// Session ended\nwindow.addEventListener('vox:session:end', (event) => {\n  console.log('Session ended:', event.detail);\n  // event.detail includes: sessionId, duration, messageCount\n});\n\n// Agent message received\nwindow.addEventListener('vox:message', (event) => {\n  console.log('Agent said:', event.detail.text);\n});\n\n// Error occurred\nwindow.addEventListener('vox:error', (event) => {\n  console.error('Widget error:', event.detail.message);\n});",
        "### Custom Triggers\n\nTrigger the widget from your own UI elements:",
        "html\n<button onclick=\"window.voxWidget.open()\">\n  Talk to Our Assistant\n</button>\n\n<a href=\"#\" onclick=\"event.preventDefault(); window.voxWidget.open();\">\n  Need help? Chat with us\n</a>",
        "## Troubleshooting\n\n### Widget Key Rejected\n\n**Error:**",
        "or",
        "**Causes:**\n\n* Widget key doesn't match the configured origin\n* Key has been revoked\n* Tenant is inactive\n\n**Solutions:**\n\n1. Verify the key in your tenant configuration matches the embedded key exactly\n2. Ensure the",
        "in the widget key config matches your website URL precisely:\n   *",
        "≠",
        "*",
        "3. Create separate widget keys for",
        "and non-",
        "versions if needed\n4. Check that the tenant status is",
        "not",
        "### CORS Errors\n\n**Error:**",
        "**Causes:**\n\n* Origin mismatch between your domain and the widget key configuration\n* Missing protocol (http vs https)\n\n**Solutions:**\n\n1. Ensure your widget key's",
        "field exactly matches your website's URL\n2. Update the origin in your tenant config:",
        "json\n   {\n     \"widgetKeys\": [\n       {\n         \"origin\": \"https://yoursite.com\" // Must match exactly\n       }\n     ]\n   }",
        "3. For local development, add a key with",
        "### Microphone Permission Denied\n\n**Error:** User sees \"Microphone access denied\" message\n\n**Causes:**\n\n* Browser doesn't support microphone API\n* User explicitly denied permission\n* Site is not served over HTTPS (required for microphone access)\n\n**Solutions:**\n\n1. Ensure your site uses HTTPS in production (HTTP blocks microphone access)\n2. For local development, use",
        "(allowed over HTTP)\n3. Provide clear messaging about why microphone access is needed\n4. Test microphone permissions with:",
        "javascript\n   navigator.mediaDevices.getUserMedia({ audio: true })\n     .then(() => console.log('Microphone access granted'))\n     .catch(err => console.error('Microphone access denied:', err));",
        "### Widget Not Appearing\n\n**Error:** Widget script loads but no button appears\n\n**Causes:**\n\n* CSS z-index conflict\n* Element positioning issue\n* JavaScript error preventing initialization\n\n**Solutions:**\n\n1. Check browser console for errors\n2. Increase",
        "in config:",
        "javascript\n   window.voxConfig = {\n     zIndex: 99999\n   };",
        "3. Verify the widget script loaded:",
        "javascript\n   console.log('Widget loaded:', !!window.voxWidget);",
        "4. Try a different position:",
        "javascript\n   window.voxConfig = {\n     position: 'bottom-left'\n   };",
        "### Session Fails to Start\n\n**Error:** Widget opens but conversation doesn't start\n\n**Causes:**\n\n* Rate limit exceeded\n* Tenant concurrent session limit reached\n* Agent configuration error\n\n**Solutions:**\n\n1. Check browser console and network tab for error responses\n2. Verify tenant limits:\n   *",
        "not exceeded\n   *",
        "not exhausted\n3. Confirm agent configuration is valid (test with different agent if available)\n4. Review session start errors in the VOX platform monitoring dashboard\n\n## Performance Optimization\n\n### Lazy Loading\n\nLoad the widget only when needed to improve initial page load:",
        "javascript\n// Load widget on user interaction\ndocument.getElementById('chat-button').addEventListener('click', function() {\n  if (!window.voxWidget) {\n    window.voxConfig = { /* config */ };\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.onload = () => window.voxWidget.open();\n    document.head.appendChild(script);\n  } else {\n    window.voxWidget.open();\n  }\n});",
        "### Defer Loading\n\nLoad the widget after the page is interactive:",
        "javascript\n// Load after DOMContentLoaded\ndocument.addEventListener('DOMContentLoaded', function() {\n  window.voxConfig = { /* config */ };\n  const script = document.createElement('script');\n  script.src = 'https://vox.strategicmachines.ai/widget.js';\n  script.async = true;\n  document.head.appendChild(script);\n});"
      ]
    }
  },
  {
    "slug": "/structure/deep/deeper/even-deeper",
    "title": "Introduction",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text",
      "headings": [],
      "keywords": []
    }
  },
  {
    "slug": "/structure/deep/deeper",
    "title": "Introduction",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n## Getting Started\n\nTo begin using the Documentation Template, follow these simple steps:\n\n* Start by cloning the repository to your local machine.\n\nLorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium. Optio, necessitatibus sequi. Veritatis, aspernatur? Possimus quis repellat eum vitae eveniet.\n\n## Blockquotes\n\nBlockquotes are useful for emphasizing key points or quoting external sources:\n\n> \"Documentation is a love letter that you write to your future self.\" - Damian Conway\n\nFeel free to use blockquotes to highlight important information or quotes relevant to your documentation.\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n\n## Conclusion\n\nThank you for choosing the Documentation Template for your project. Whether you're documenting software, APIs, or processes, we're here to support you in creating clear and effective documentation. Happy documenting!\n\n## Tabs Example\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text getting started to begin using the documentation template follow these simple steps: start by cloning the repository to your local machine lorem ipsum dolor sit amet consectetur adipisicing elit reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium optio necessitatibus sequi veritatis aspernatur possimus quis repellat eum vitae eveniet blockquotes blockquotes are useful for emphasizing key points or quoting external sources: documentation is a love letter that you write to your future self - damian conway feel free to use blockquotes to highlight important information or quotes relevant to your documentation code examples with switch here a custom tab component from shadcn ui is used conclusion thank you for choosing the documentation template for your project whether you re documenting software apis or processes we re here to support you in creating clear and effective documentation happy documenting tabs example",
      "headings": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion",
        "Tabs Example"
      ],
      "keywords": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion",
        "Tabs Example"
      ]
    }
  },
  {
    "slug": "/structure/deep",
    "title": "Introduction",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n## Getting Started\n\nTo begin using the Documentation Template, follow these simple steps:\n\n* Start by cloning the repository to your local machine.\n\nLorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium. Optio, necessitatibus sequi. Veritatis, aspernatur? Possimus quis repellat eum vitae eveniet.\n\n## Blockquotes\n\nBlockquotes are useful for emphasizing key points or quoting external sources:\n\n> \"Documentation is a love letter that you write to your future self.\" - Damian Conway\n\nFeel free to use blockquotes to highlight important information or quotes relevant to your documentation.\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n\n## Conclusion\n\nThank you for choosing the Documentation Template for your project. Whether you're documenting software, APIs, or processes, we're here to support you in creating clear and effective documentation. Happy documenting!\n\n## Tabs Example\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text getting started to begin using the documentation template follow these simple steps: start by cloning the repository to your local machine lorem ipsum dolor sit amet consectetur adipisicing elit reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium optio necessitatibus sequi veritatis aspernatur possimus quis repellat eum vitae eveniet blockquotes blockquotes are useful for emphasizing key points or quoting external sources: documentation is a love letter that you write to your future self - damian conway feel free to use blockquotes to highlight important information or quotes relevant to your documentation code examples with switch here a custom tab component from shadcn ui is used conclusion thank you for choosing the documentation template for your project whether you re documenting software apis or processes we re here to support you in creating clear and effective documentation happy documenting tabs example",
      "headings": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion",
        "Tabs Example"
      ],
      "keywords": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion",
        "Tabs Example"
      ]
    }
  },
  {
    "slug": "/structure",
    "title": "Structure",
    "description": "This section provides an overview of Introduction.",
    "content": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime, molestiae, facilis aperiam et, error illum vel ullam? Quis architecto dolore ullam\n\n* \\[x] Write the press release\n* \\[ ] Update the website\n* \\[ ] Contact the media\n\n| Syntax        | Description |   Test Text |\r\n| :------------ | :---------: | ----------: |\r\n| Header        |    Title    | Here's this |\r\n| Paragraph     |    Text     |    And more |\r\n| Strikethrough |             |    ~~Text~~ |\n\n## Getting Started\n\nTo begin using the Documentation Template, follow these simple steps:\n\n* Start by cloning the repository to your local machine.\n\nLorem ipsum dolor sit amet consectetur adipisicing elit. Reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium. Optio, necessitatibus sequi. Veritatis, aspernatur? Possimus quis repellat eum vitae eveniet.\n\n## Blockquotes\n\nBlockquotes are useful for emphasizing key points or quoting external sources:\n\n> \"Documentation is a love letter that you write to your future self.\" - Damian Conway\n\nFeel free to use blockquotes to highlight important information or quotes relevant to your documentation.\n\n## Code Examples with switch\n\nHere a custom tab component from shadcn ui is used.\n\n## Conclusion\n\nThank you for choosing the Documentation Template for your project. Whether you're documenting software, APIs, or processes, we're here to support you in creating clear and effective documentation. Happy documenting!\n",
    "_searchMeta": {
      "cleanContent": "lorem ipsum dolor sit amet consectetur adipisicing elit numquam iste dolorum tempore consectetur explicabo tempora provident quia maxime molestiae facilis aperiam et error illum vel ullam quis architecto dolore ullam x write the press release update the website contact the media syntax description test text :------------ :---------: ----------: header title here s this paragraph text and more strikethrough text getting started to begin using the documentation template follow these simple steps: start by cloning the repository to your local machine lorem ipsum dolor sit amet consectetur adipisicing elit reprehenderit quae iure nulla deserunt dolore quam pariatur minus sapiente accusantium optio necessitatibus sequi veritatis aspernatur possimus quis repellat eum vitae eveniet blockquotes blockquotes are useful for emphasizing key points or quoting external sources: documentation is a love letter that you write to your future self - damian conway feel free to use blockquotes to highlight important information or quotes relevant to your documentation code examples with switch here a custom tab component from shadcn ui is used conclusion thank you for choosing the documentation template for your project whether you re documenting software apis or processes we re here to support you in creating clear and effective documentation happy documenting",
      "headings": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ],
      "keywords": [
        "Getting Started",
        "Blockquotes",
        "Code Examples with switch",
        "Conclusion"
      ]
    }
  },
  {
    "slug": "/tutorials/builder",
    "title": "Agent Builder Wizard",
    "description": "Design your first voice agent with guided prompts for purpose, personality, workflows, and success metrics.",
    "content": "## Agent Builder Wizard\n\nThis interactive tutorial guides you through designing a complete voice agent from concept to specification. By the end, you'll have a comprehensive agent design document ready for implementation.\n\n**Time to complete:** 20-30 minutes\n\n## How It Works\n\nThe wizard walks you through the Five Pillars of Agent Design with guided questions, industry templates, and real-time validation. Your answers are compiled into a downloadable design document.\n\n### The Five Pillars\n\n1. **Purpose & Scope** — Define what problem your agent solves\n2. **Personality & Voice** — Establish tone, style, and brand alignment\n3. **Conversation Workflows** — Map primary conversation paths\n4. **Data & Tools** — Identify required APIs and capabilities\n5. **Success Metrics** — Define how you'll measure performance\n\n## Tutorial Interface\n\n## Preview: Tutorial Flow\n\n### Step 1: Choose Your Industry\n\nSelect an industry template to pre-populate common patterns:\n\n* **Hospitality** — Hotel bookings, restaurant reservations, concierge services\n* **E-Commerce** — Product sales, recommendations, shopping assistance\n* **Customer Support** — Ticket resolution, FAQ automation, troubleshooting\n* **Healthcare** — Appointment scheduling, patient intake, insurance verification\n* **Real Estate** — Property inquiries, showing scheduling, lead qualification\n* **Custom** — Start from scratch for unique use cases\n\n### Step 2: Define Purpose\n\nAnswer guided questions:\n\n* What specific problem does this agent solve?\n* Who will interact with it? (customers, employees, partners)\n* What does a successful interaction look like?\n* What should the agent NOT do?\n\n**Example Output:**\n\n```json\n{\n  \"purpose\": \"Enable hotel guests to search available rooms and complete bookings without phone calls or forms\",\n  \"target_users\": [\"website visitors\", \"returning guests\", \"travel planners\"],\n  \"success_criteria\": [\"booking completed\", \"availability confirmed\", \"guest information collected\"],\n  \"out_of_scope\": [\"cancellations\", \"complaint handling\", \"loyalty program management\"]\n}\n```\n\n### Step 3: Establish Personality\n\nDefine tone, style, and brand voice:\n\n* Formal or casual?\n* Energetic or calm?\n* Concise or detailed?\n* Empathetic or neutral?\n\n**Example Output:**\n\n```json\n{\n  \"tone\": \"warm, attentive, professional\",\n  \"style\": \"like a luxury hotel concierge — anticipate needs, confirm details\",\n  \"boundaries\": \"doesn't handle cancellations or complaints (escalates to human)\",\n  \"sample_phrases\": [\n    \"I'd be delighted to help you find the perfect room\",\n    \"Let me check availability for you\"\n  ]\n}\n```\n\n### Step 4: Map Workflows\n\nBuild conversation flows with visual flowchart builder:\n\n1. Greeting & Intent Detection\n2. Information Gathering\n3. Tool Execution (search, book, confirm)\n4. Confirmation & Next Steps\n5. Edge Cases & Escalation\n\n**Example Output:**\n\n```json\n{\n  \"primary_flow\": [\n    \"Greet warmly and detect booking intent\",\n    \"Gather check-in/out dates and guest count\",\n    \"Call search_units tool\",\n    \"Display available rooms with photos\",\n    \"Confirm selection and create reservation\",\n    \"Show booking confirmation\"\n  ],\n  \"edge_cases\": {\n    \"no_availability\": \"Suggest alternative dates or room types\",\n    \"user_changes_mind\": \"Gracefully restart search\",\n    \"complaint\": \"Empathize and escalate to human support\"\n  }\n}\n```\n\n### Step 5: Plan Tools & Data\n\nIdentify required integrations:\n\n* What real-time data does the agent need? (inventory, pricing, availability)\n* What actions must it perform? (create booking, send email, update CRM)\n* What APIs provide this data?\n* What authentication is required?\n\n**Example Output:**\n\n```json\n{\n  \"data_requirements\": [\n    \"Real-time room availability by dates\",\n    \"Room details (photos, amenities, pricing)\",\n    \"Guest reservation management\"\n  ],\n  \"tools\": [\n    {\n      \"name\": \"search_units\",\n      \"purpose\": \"Query available rooms by check-in/out dates\",\n      \"api\": \"https://your-hotel.com/api/units/search\",\n      \"auth\": \"Bearer token\"\n    },\n    {\n      \"name\": \"create_reservation\",\n      \"purpose\": \"Book a room for the guest\",\n      \"api\": \"https://your-hotel.com/api/reservations\",\n      \"auth\": \"Bearer token\"\n    }\n  ]\n}\n```\n\n### Step 6: Define Success Metrics\n\nSet measurable goals and operational limits:\n\n* Conversation completion rate target\n* Average session duration\n* Escalation rate threshold\n* Concurrent session limits\n* Budget constraints\n\n**Example Output:**\n\n```json\n{\n  \"metrics\": {\n    \"completion_rate\": \"60%+\",\n    \"avg_session_duration\": \"less than 5 minutes\",\n    \"escalation_rate\": \"less than 10%\",\n    \"customer_satisfaction\": \"4.5/5 or higher\"\n  },\n  \"limits\": {\n    \"max_concurrent_sessions\": 20,\n    \"max_session_duration\": \"15 minutes\",\n    \"daily_token_cap\": 300000\n  }\n}\n```\n\n## Export Options\n\nWhen you complete the wizard, you can export:\n\n1. **Design Document (Markdown)** — Human-readable specification for stakeholders\n2. **Configuration JSON** — Machine-readable format for direct import\n3. **Implementation Checklist** — Step-by-step tasks for developers\n4. **Agent Prompt Starter** — Pre-filled system prompt template based on your design\n\n## Using Your Design Document\n\nAfter completing the wizard, proceed to implementation:\n\n## Tips for Success\n\n## Need Help?\n\nIf you get stuck during the wizard:\n\n* Click the \"?\" icon next to any question for examples and guidance\n* Use \"Load Example\" to see how Otto or Cypress answered each section\n* Save your progress and return later\n* Reach out to support@strategicmachines.ai for design consultation\n\n**Ready to design your agent?** [Start the Agent Builder Wizard](#) (Coming Soon)\n\nFor now, manually work through the [Agent Design Guide](/voice/agent-design).\n",
    "_searchMeta": {
      "cleanContent": "agent builder wizard this interactive tutorial guides you through designing a complete voice agent from concept to specification by the end you ll have a comprehensive agent design document ready for implementation time to complete: 20-30 minutes how it works the wizard walks you through the five pillars of agent design with guided questions industry templates and real-time validation your answers are compiled into a downloadable design document the five pillars purpose scope define what problem your agent solves personality voice establish tone style and brand alignment conversation workflows map primary conversation paths data tools identify required apis and capabilities success metrics define how you ll measure performance tutorial interface preview: tutorial flow step 1: choose your industry select an industry template to pre-populate common patterns: hospitality hotel bookings restaurant reservations concierge services e-commerce product sales recommendations shopping assistance customer support ticket resolution faq automation troubleshooting healthcare appointment scheduling patient intake insurance verification real estate property inquiries showing scheduling lead qualification custom start from scratch for unique use cases step 2: define purpose answer guided questions: what specific problem does this agent solve who will interact with it customers employees partners what does a successful interaction look like what should the agent not do example output: step 3: establish personality define tone style and brand voice: formal or casual energetic or calm concise or detailed empathetic or neutral example output: step 4: map workflows build conversation flows with visual flowchart builder: greeting intent detection information gathering tool execution search book confirm confirmation next steps edge cases escalation example output: step 5: plan tools data identify required integrations: what real-time data does the agent need inventory pricing availability what actions must it perform create booking send email update crm what apis provide this data what authentication is required example output: step 6: define success metrics set measurable goals and operational limits: conversation completion rate target average session duration escalation rate threshold concurrent session limits budget constraints example output: export options when you complete the wizard you can export: design document markdown human-readable specification for stakeholders configuration json machine-readable format for direct import implementation checklist step-by-step tasks for developers agent prompt starter pre-filled system prompt template based on your design using your design document after completing the wizard proceed to implementation: tips for success need help if you get stuck during the wizard: click the icon next to any question for examples and guidance use load example to see how otto or cypress answered each section save your progress and return later reach out to support strategicmachines ai for design consultation ready to design your agent start the agent builder wizard coming soon for now manually work through the agent design guide",
      "headings": [
        "Agent Builder Wizard",
        "How It Works",
        "Tutorial Interface",
        "Preview: Tutorial Flow",
        "Export Options",
        "Using Your Design Document",
        "Tips for Success",
        "Need Help?"
      ],
      "keywords": [
        "tutorial",
        "agent design",
        "wizard",
        "interactive",
        "Agent Builder Wizard",
        "How It Works",
        "Tutorial Interface",
        "Preview: Tutorial Flow",
        "Export Options",
        "Using Your Design Document",
        "Tips for Success",
        "Need Help?",
        "Time to complete:",
        "Purpose & Scope",
        "Personality & Voice",
        "Conversation Workflows",
        "Data & Tools",
        "Success Metrics",
        "Hospitality",
        "E-Commerce",
        "Customer Support",
        "Healthcare",
        "Real Estate",
        "Custom",
        "Example Output:",
        "Design Document (Markdown)",
        "Configuration JSON",
        "Implementation Checklist",
        "Agent Prompt Starter",
        "Ready to design your agent?",
        "json\n{\n  \"purpose\": \"Enable hotel guests to search available rooms and complete bookings without phone calls or forms\",\n  \"target_users\": [\"website visitors\", \"returning guests\", \"travel planners\"],\n  \"success_criteria\": [\"booking completed\", \"availability confirmed\", \"guest information collected\"],\n  \"out_of_scope\": [\"cancellations\", \"complaint handling\", \"loyalty program management\"]\n}",
        "### Step 3: Establish Personality\n\nDefine tone, style, and brand voice:\n\n* Formal or casual?\n* Energetic or calm?\n* Concise or detailed?\n* Empathetic or neutral?\n\n**Example Output:**",
        "json\n{\n  \"tone\": \"warm, attentive, professional\",\n  \"style\": \"like a luxury hotel concierge — anticipate needs, confirm details\",\n  \"boundaries\": \"doesn't handle cancellations or complaints (escalates to human)\",\n  \"sample_phrases\": [\n    \"I'd be delighted to help you find the perfect room\",\n    \"Let me check availability for you\"\n  ]\n}",
        "### Step 4: Map Workflows\n\nBuild conversation flows with visual flowchart builder:\n\n1. Greeting & Intent Detection\n2. Information Gathering\n3. Tool Execution (search, book, confirm)\n4. Confirmation & Next Steps\n5. Edge Cases & Escalation\n\n**Example Output:**",
        "json\n{\n  \"primary_flow\": [\n    \"Greet warmly and detect booking intent\",\n    \"Gather check-in/out dates and guest count\",\n    \"Call search_units tool\",\n    \"Display available rooms with photos\",\n    \"Confirm selection and create reservation\",\n    \"Show booking confirmation\"\n  ],\n  \"edge_cases\": {\n    \"no_availability\": \"Suggest alternative dates or room types\",\n    \"user_changes_mind\": \"Gracefully restart search\",\n    \"complaint\": \"Empathize and escalate to human support\"\n  }\n}",
        "### Step 5: Plan Tools & Data\n\nIdentify required integrations:\n\n* What real-time data does the agent need? (inventory, pricing, availability)\n* What actions must it perform? (create booking, send email, update CRM)\n* What APIs provide this data?\n* What authentication is required?\n\n**Example Output:**",
        "json\n{\n  \"data_requirements\": [\n    \"Real-time room availability by dates\",\n    \"Room details (photos, amenities, pricing)\",\n    \"Guest reservation management\"\n  ],\n  \"tools\": [\n    {\n      \"name\": \"search_units\",\n      \"purpose\": \"Query available rooms by check-in/out dates\",\n      \"api\": \"https://your-hotel.com/api/units/search\",\n      \"auth\": \"Bearer token\"\n    },\n    {\n      \"name\": \"create_reservation\",\n      \"purpose\": \"Book a room for the guest\",\n      \"api\": \"https://your-hotel.com/api/reservations\",\n      \"auth\": \"Bearer token\"\n    }\n  ]\n}",
        "### Step 6: Define Success Metrics\n\nSet measurable goals and operational limits:\n\n* Conversation completion rate target\n* Average session duration\n* Escalation rate threshold\n* Concurrent session limits\n* Budget constraints\n\n**Example Output:**",
        "json\n{\n  \"metrics\": {\n    \"completion_rate\": \"60%+\",\n    \"avg_session_duration\": \"less than 5 minutes\",\n    \"escalation_rate\": \"less than 10%\",\n    \"customer_satisfaction\": \"4.5/5 or higher\"\n  },\n  \"limits\": {\n    \"max_concurrent_sessions\": 20,\n    \"max_session_duration\": \"15 minutes\",\n    \"daily_token_cap\": 300000\n  }\n}"
      ]
    }
  },
  {
    "slug": "/tutorials",
    "title": "Interactive Tutorials",
    "description": "Learn by doing with hands-on tutorials for agent design, tool building, prompt testing, and widget configuration.",
    "content": "## Interactive Tutorials: Learn by Building\n\nThe best way to master VOX is through hands-on practice. These interactive tutorials guide you step-by-step through the agent development process with real-time feedback and validation.\n\nEach tutorial is designed to be completed in 15-30 minutes and provides practical experience with the core concepts covered in the documentation.\n\n## Available Tutorials\n\n## Tutorial Learning Path\n\nWe recommend completing tutorials in this order:\n\n### 1. Start with Agent Design\n\nBegin with the **Agent Builder Wizard** to define your agent's purpose, personality, and workflows. This tutorial helps you think through the business requirements before diving into implementation.\n\n**You'll learn:**\n\n* How to scope an agent's capabilities\n* Defining personality and brand voice\n* Mapping conversation workflows\n* Planning data and tool requirements\n\n**Outcome:** A complete agent design document ready for implementation\n\n### 2. Build Your Prompt\n\nNext, use the **Prompt Tester** to experiment with system prompts and see how they influence agent behavior in different scenarios.\n\n**You'll learn:**\n\n* Prompt anatomy and structure\n* How to define tool usage rules\n* Creating effective conversation examples\n* Testing prompts against edge cases\n\n**Outcome:** A validated system prompt that governs agent behavior\n\n### 3. Create Your Tools\n\nThen, move to the **Tool Descriptor Playground** to build HTTP tools that connect your agent to your APIs.\n\n**You'll learn:**\n\n* HTTP tool descriptor schema\n* Parameter validation with JSON Schema\n* Template syntax and type coercion\n* UI rendering with onSuccess/onError\n\n**Outcome:** Working tool descriptors tested against mock APIs\n\n### 4. Configure Your Widget\n\nFinally, use the **Widget Configurator** to generate the embedding code for your website.\n\n**You'll learn:**\n\n* Widget configuration options\n* Environment-specific setup\n* Customization (position, colors, theme)\n* Framework integration (React, Vue, Angular)\n\n**Outcome:** Copy-paste widget code ready for deployment\n\n## Tutorial Features\n\nAll tutorials include:\n\n## Who Should Use Tutorials?\n\n**New to VOX:** Complete all tutorials in sequence to build foundational knowledge\n\n**Business Stakeholders:** Use the Agent Builder Wizard to spec requirements for your development team\n\n**Developers:** Focus on Tool Descriptor Playground and Widget Configurator for technical implementation\n\n**Prompt Engineers:** Spend time in the Prompt Tester to refine conversational flows\n\n## What's Next?\n\nAfter completing the tutorials, you'll be ready to deploy a production agent. Continue to:\n\n**Ready to learn?** Choose a tutorial above or start with the [Agent Builder Wizard](/voice/tutorials/builder).\n",
    "_searchMeta": {
      "cleanContent": "interactive tutorials: learn by building the best way to master vox is through hands-on practice these interactive tutorials guide you step-by-step through the agent development process with real-time feedback and validation each tutorial is designed to be completed in 15-30 minutes and provides practical experience with the core concepts covered in the documentation available tutorials tutorial learning path we recommend completing tutorials in this order: start with agent design begin with the agent builder wizard to define your agent s purpose personality and workflows this tutorial helps you think through the business requirements before diving into implementation you ll learn: how to scope an agent s capabilities defining personality and brand voice mapping conversation workflows planning data and tool requirements outcome: a complete agent design document ready for implementation build your prompt next use the prompt tester to experiment with system prompts and see how they influence agent behavior in different scenarios you ll learn: prompt anatomy and structure how to define tool usage rules creating effective conversation examples testing prompts against edge cases outcome: a validated system prompt that governs agent behavior create your tools then move to the tool descriptor playground to build http tools that connect your agent to your apis you ll learn: http tool descriptor schema parameter validation with json schema template syntax and type coercion ui rendering with onsuccess onerror outcome: working tool descriptors tested against mock apis configure your widget finally use the widget configurator to generate the embedding code for your website you ll learn: widget configuration options environment-specific setup customization position colors theme framework integration react vue angular outcome: copy-paste widget code ready for deployment tutorial features all tutorials include: who should use tutorials new to vox: complete all tutorials in sequence to build foundational knowledge business stakeholders: use the agent builder wizard to spec requirements for your development team developers: focus on tool descriptor playground and widget configurator for technical implementation prompt engineers: spend time in the prompt tester to refine conversational flows what s next after completing the tutorials you ll be ready to deploy a production agent continue to: ready to learn choose a tutorial above or start with the agent builder wizard",
      "headings": [
        "Interactive Tutorials: Learn by Building",
        "Available Tutorials",
        "Tutorial Learning Path",
        "Tutorial Features",
        "Who Should Use Tutorials?",
        "What's Next?"
      ],
      "keywords": [
        "tutorials",
        "interactive",
        "learning",
        "hands-on",
        "Interactive Tutorials: Learn by Building",
        "Available Tutorials",
        "Tutorial Learning Path",
        "Tutorial Features",
        "Who Should Use Tutorials?",
        "What's Next?",
        "Agent Builder Wizard",
        "You'll learn:",
        "Outcome:",
        "Prompt Tester",
        "Tool Descriptor Playground",
        "Widget Configurator",
        "New to VOX:",
        "Business Stakeholders:",
        "Developers:",
        "Prompt Engineers:",
        "Ready to learn?"
      ]
    }
  },
  {
    "slug": "/tutorials/prompt",
    "title": "Prompt Tester",
    "description": "Test system prompts against conversation scenarios with simulated agent responses and tool calls.",
    "content": "## Prompt Tester\n\nThis interactive tester lets you experiment with system prompts and see how they influence agent behavior across different conversation scenarios. Test prompt changes without deploying to production.\n\n**Time to complete:** 20-30 minutes\n\n## How It Works\n\nThe Prompt Tester provides a conversational simulator where you:\n\n1. Write or paste your system prompt\n2. Select or create conversation scenarios\n3. See how the agent responds, which tools it calls, and why\n4. Iterate on your prompt based on results\n\nThe simulator uses the same language model as production, so results are representative of real-world behavior.\n\n## Tutorial Interface\n\n## Preview: Tester Features\n\n### Feature 1: Prompt Editor\n\nWrite or load system prompts with structured guidance:\n\n**Sections:**\n\n* **Agent Identity** — Name, tenant, tone, style rules\n* **Capabilities** — Tool definitions with `when`, `args`, `success_say`\n* **Policy** — Data rules and escalation guidelines\n* **Dialog Flow** — High-level conversation structure\n* **Response Templates** — Pre-written phrases for common situations\n* **Examples** — Conversation examples showing ideal behavior\n\n**Editor Features:**\n\n* Syntax highlighting for JSON\n* Auto-completion for common fields\n* Validation of required sections\n* Character count and token estimation\n* Template library (load Otto, Cypress, or blank)\n\n### Feature 2: Scenario Library\n\nTest your prompt against real-world situations:\n\n**Pre-built Scenarios:**\n\n**Happy Path:**\n\n* User with clear intent and all required information\n* User provides information incrementally\n* User browses before deciding\n\n**Edge Cases:**\n\n* User asks for something unavailable\n* User provides contradictory information\n* User changes their mind mid-conversation\n* User asks off-topic questions\n\n**Error Handling:**\n\n* Tool returns no results\n* Tool times out or fails\n* User provides invalid input (wrong dates, negative quantities)\n* API returns unexpected data structure\n\n**Stress Tests:**\n\n* User is vague or unclear\n* User asks complex multi-part questions\n* User interrupts or redirects frequently\n* Rapid-fire questions without pausing\n\n### Feature 3: Simulated Conversations\n\nSee how your agent handles each scenario:\n\n**Example Scenario: Product Search with Budget**\n\n**User:** \"I need a cordless drill for building a deck, under $200\"\n\n**Simulated Agent Response:**\n\n```\nAgent Thinking:\n  - User has clear use case: deck building (heavy duty)\n  - Budget constraint: under $200\n  - Need to call search_products tool\n  - Filter to drills suitable for deck work\n  - Use brushless for durability\n\nTool Call:\n  search_products({\n    query: \"brushless cordless drill\",\n    category: \"drills\",\n    max_price: 200,\n    limit: 10\n  })\n\nMock Tool Response:\n  {\n    \"success\": true,\n    \"count\": 8,\n    \"products\": [...]\n  }\n\nAgent Says:\n  \"Great choice for a deck project! For heavy-duty fastening, you'll want a brushless drill with good battery life. I found three excellent options under $200. The DeWalt 20V Max is our top seller for deck work — powerful, long battery life, and a 5-year warranty at $189.99. Let me show you all three.\"\n\nUI Action:\n  show_component(\"catalog_results\", { items: products })\n\nQuality Check:\n  ✓ Used tools instead of guessing\n  ✓ Acknowledged budget constraint\n  ✓ Recommended based on use case\n  ✓ Explained why (brushless for durability)\n  ✓ Showed top recommendation\n  ✓ Rendered visual component\n```\n\n### Feature 4: Tool Call Visualization\n\nSee exactly which tools the agent calls and why:\n\n**Visualization:**\n\n```\nConversation Turn 3:\n\nUser: \"What's the difference between the Makita and Milwaukee?\"\n\nAgent Decision Tree:\n  1. User asking for comparison → Need product details\n  2. Two products mentioned → Call get_product_stats twice\n  3. Present comparison focusing on key differences\n\nTool Calls:\n  [1] get_product_stats({ product_id: \"makita-18v-drill\" })\n  [2] get_product_stats({ product_id: \"milwaukee-18v-drill\" })\n\nResponses:\n  [1] { name: \"Makita\", weight: \"7.3 lbs\", power: \"250 UWO\", ... }\n  [2] { name: \"Milwaukee\", weight: \"8.9 lbs\", power: \"300 UWO\", ... }\n\nAgent Synthesizes:\n  \"The Makita is lighter at 7.3 lbs — great for overhead cuts and homeowner projects. The Milwaukee is heavier at 8.9 lbs but has more cutting power. For weekend projects, the Makita is perfect. For daily contractor work, the Milwaukee is worth the extra cost.\"\n\nQuality Check:\n  ✓ Called tools for both products\n  ✓ Compared key differentiators (weight, power)\n  ✓ Explained tradeoffs in plain language\n  ✓ Recommended based on use case\n```\n\n### Feature 5: Side-by-Side Comparison\n\nTest two prompt versions simultaneously:\n\n**Use Case:** You're refining how the agent handles \"out of stock\" scenarios\n\n**Prompt A (Original):**\n\n```json\n{\n  \"escalation\": [\n    \"If product is out of stock, apologize and ask if they want an alternative\"\n  ]\n}\n```\n\n**Prompt B (Improved):**\n\n```json\n{\n  \"policy\": {\n    \"data_rules\": [\n      \"If a product is out of stock, suggest in-stock alternatives with similar specs\",\n      \"Mention why the alternative is comparable or better\"\n    ]\n  },\n  \"response_templates\": {\n    \"out_of_stock\": \"[Product] is currently out of stock, but we have [similar product] available now. It's in the same price range and has [comparable or better feature]. Would you like to see that?\"\n  }\n}\n```\n\n**Scenario:** User asks for out-of-stock item\n\n**Results:**\n\n| Aspect | Prompt A | Prompt B |\n|--------|----------|----------|\n| **Response** | \"I'm sorry, that item is out of stock. Would you like to see alternatives?\" | \"The Ryobi 18V is currently out of stock, but we have a DeWalt 20V impact driver available now. It's in the same price range ($99) and actually has better torque at 1,825 in-lbs. Would you like me to show you that?\" |\n| **Proactivity** | Waits for user to ask | Immediately suggests alternative |\n| **Detail** | Vague | Specific product, price, key spec |\n| **Value** | Low (user must ask) | High (agent does the work) |\n| **Winner** | ❌ | ✅ |\n\n### Feature 6: Conversation Export\n\nSave successful test conversations:\n\n* Export as training examples to add to your prompt\n* Save edge case handling for documentation\n* Share with team for review\n* Use in regression testing\n\n## Guided Tutorial Flow\n\n### Step 1: Load or Write Your Prompt\n\n**Option A:** Load a template (Otto, Cypress, Support Agent)\n**Option B:** Paste your existing prompt\n**Option C:** Start blank and build section by section\n\n### Step 2: Test Happy Path Scenarios\n\nStart with straightforward conversations:\n\n* User with clear intent\n* All information provided\n* Tools return expected results\n* Successful outcome\n\n**Goal:** Ensure basic functionality works\n\n### Step 3: Test Edge Cases\n\nChallenge your prompt:\n\n* Vague user requests\n* Missing information\n* User changes mind\n* Out of stock or unavailable\n\n**Goal:** Verify graceful handling of uncertainty\n\n### Step 4: Test Error Scenarios\n\nSimulate failures:\n\n* Tool returns no results\n* Tool timeout\n* Invalid user input\n* API errors\n\n**Goal:** Ensure user never sees broken experience\n\n### Step 5: Refine and Iterate\n\nBased on test results:\n\n* Adjust tone or phrasing\n* Add handling for missed cases\n* Clarify tool usage rules\n* Add response templates\n\n### Step 6: Validate and Export\n\nWhen satisfied with behavior:\n\n* Run full scenario suite (10-15 tests)\n* Export validated prompt\n* Add passing conversation examples to prompt\n* Deploy to staging environment\n\n## Common Prompt Issues to Test For\n\n## Advanced Testing Techniques\n\n### A/B Testing Response Templates\n\nCompare different phrasings:\n\n* Formal vs casual greetings\n* Short vs detailed explanations\n* Proactive vs reactive suggestions\n\n### Stress Testing\n\nRapid conversation changes:\n\n* User interrupts mid-flow\n* User asks three questions at once\n* User provides contradictory information\n\n### Tone Consistency\n\nTest brand voice across scenarios:\n\n* Does formality remain consistent?\n* Are sample phrases used appropriately?\n* Does personality shine through in all situations?\n\n## Scenario Authoring\n\nCreate custom test scenarios:\n\n```json\n{\n  \"scenario\": {\n    \"name\": \"Budget-Conscious DIYer\",\n    \"description\": \"User wants a drill but is price-sensitive\",\n    \"turns\": [\n      {\n        \"user\": \"I need a drill for home projects\",\n        \"expected\": \"Agent asks clarifying questions about use case and budget\"\n      },\n      {\n        \"user\": \"Just small repairs, I don't want to spend a lot\",\n        \"expected\": \"Agent searches for budget-friendly drills and explains value\"\n      }\n    ],\n    \"success_criteria\": [\n      \"Agent calls search_products with appropriate filters\",\n      \"Agent recommends based on value, not features\",\n      \"Agent explains why budget option is sufficient\"\n    ]\n  }\n}\n```\n\n## Quality Rubric\n\nEvaluate agent responses on:\n\n| Criterion | Good | Bad |\n|-----------|------|-----|\n| **Accuracy** | Uses tools for all data | Guesses or hallucinates facts |\n| **Tone** | Consistent with personality | Formal when should be casual, etc. |\n| **Conciseness** | 2-3 sentences unless complex | Overly verbose or too terse |\n| **Helpfulness** | Proactive suggestions | Waits for user to ask |\n| **Tool Usage** | Calls correct tools with right params | Wrong tools or missing calls |\n| **Error Handling** | Graceful, offers alternatives | Breaks or gives up |\n\n## What's Next?\n\nAfter validating your prompt:\n\n**Ready to test prompts?** [Launch the Prompt Tester](#) (Coming Soon)\n\nFor now, manually test prompts using the [Prompt Design Guide](/voice/prompt-design).\n",
    "_searchMeta": {
      "cleanContent": "prompt tester this interactive tester lets you experiment with system prompts and see how they influence agent behavior across different conversation scenarios test prompt changes without deploying to production time to complete: 20-30 minutes how it works the prompt tester provides a conversational simulator where you: write or paste your system prompt select or create conversation scenarios see how the agent responds which tools it calls and why iterate on your prompt based on results the simulator uses the same language model as production so results are representative of real-world behavior tutorial interface preview: tester features feature 1: prompt editor write or load system prompts with structured guidance: sections: agent identity name tenant tone style rules capabilities tool definitions with when args success_say policy data rules and escalation guidelines dialog flow high-level conversation structure response templates pre-written phrases for common situations examples conversation examples showing ideal behavior editor features: syntax highlighting for json auto-completion for common fields validation of required sections character count and token estimation template library load otto cypress or blank feature 2: scenario library test your prompt against real-world situations: pre-built scenarios: happy path: user with clear intent and all required information user provides information incrementally user browses before deciding edge cases: user asks for something unavailable user provides contradictory information user changes their mind mid-conversation user asks off-topic questions error handling: tool returns no results tool times out or fails user provides invalid input wrong dates negative quantities api returns unexpected data structure stress tests: user is vague or unclear user asks complex multi-part questions user interrupts or redirects frequently rapid-fire questions without pausing feature 3: simulated conversations see how your agent handles each scenario: example scenario: product search with budget user: i need a cordless drill for building a deck under 200 simulated agent response: feature 4: tool call visualization see exactly which tools the agent calls and why: visualization: feature 5: side-by-side comparison test two prompt versions simultaneously: use case: you re refining how the agent handles out of stock scenarios prompt a original : prompt b improved : scenario: user asks for out-of-stock item results: aspect prompt a prompt b-------- ---------- ----------response i m sorry that item is out of stock would you like to see alternatives the ryobi 18v is currently out of stock but we have a dewalt 20v impact driver available now it s in the same price range 99 and actually has better torque at 1 825 in-lbs would you like me to show you that proactivity waits for user to ask immediately suggests alternativedetail vague specific product price key specvalue low user must ask high agent does the work winner feature 6: conversation export save successful test conversations: export as training examples to add to your prompt save edge case handling for documentation share with team for review use in regression testing guided tutorial flow step 1: load or write your prompt option a: load a template otto cypress support agent option b: paste your existing prompt option c: start blank and build section by section step 2: test happy path scenarios start with straightforward conversations: user with clear intent all information provided tools return expected results successful outcome goal: ensure basic functionality works step 3: test edge cases challenge your prompt: vague user requests missing information user changes mind out of stock or unavailable goal: verify graceful handling of uncertainty step 4: test error scenarios simulate failures: tool returns no results tool timeout invalid user input api errors goal: ensure user never sees broken experience step 5: refine and iterate based on test results: adjust tone or phrasing add handling for missed cases clarify tool usage rules add response templates step 6: validate and export when satisfied with behavior: run full scenario suite 10-15 tests export validated prompt add passing conversation examples to prompt deploy to staging environment common prompt issues to test for advanced testing techniques a b testing response templates compare different phrasings: formal vs casual greetings short vs detailed explanations proactive vs reactive suggestions stress testing rapid conversation changes: user interrupts mid-flow user asks three questions at once user provides contradictory information tone consistency test brand voice across scenarios: does formality remain consistent are sample phrases used appropriately does personality shine through in all situations scenario authoring create custom test scenarios: quality rubric evaluate agent responses on: criterion good bad----------- ------ -----accuracy uses tools for all data guesses or hallucinates factstone consistent with personality formal when should be casual etc conciseness 2-3 sentences unless complex overly verbose or too tersehelpfulness proactive suggestions waits for user to asktool usage calls correct tools with right params wrong tools or missing callserror handling graceful offers alternatives breaks or gives up what s next after validating your prompt: ready to test prompts launch the prompt tester coming soon for now manually test prompts using the prompt design guide",
      "headings": [
        "Prompt Tester",
        "How It Works",
        "Tutorial Interface",
        "Preview: Tester Features",
        "Guided Tutorial Flow",
        "Common Prompt Issues to Test For",
        "Advanced Testing Techniques",
        "Scenario Authoring",
        "Quality Rubric",
        "What's Next?"
      ],
      "keywords": [
        "tutorial",
        "prompt",
        "testing",
        "scenarios",
        "interactive",
        "Prompt Tester",
        "How It Works",
        "Tutorial Interface",
        "Preview: Tester Features",
        "Guided Tutorial Flow",
        "Common Prompt Issues to Test For",
        "Advanced Testing Techniques",
        "Scenario Authoring",
        "Quality Rubric",
        "What's Next?",
        "Time to complete:",
        "Sections:",
        "Agent Identity",
        "Capabilities",
        "Policy",
        "Dialog Flow",
        "Response Templates",
        "Examples",
        "Editor Features:",
        "Pre-built Scenarios:",
        "Happy Path:",
        "Edge Cases:",
        "Error Handling:",
        "Stress Tests:",
        "Example Scenario: Product Search with Budget",
        "User:",
        "Simulated Agent Response:",
        "Visualization:",
        "Use Case:",
        "Prompt A (Original):",
        "Prompt B (Improved):",
        "Scenario:",
        "Results:",
        "Response",
        "Proactivity",
        "Detail",
        "Value",
        "Winner",
        "Option A:",
        "Option B:",
        "Option C:",
        "Goal:",
        "Accuracy",
        "Tone",
        "Conciseness",
        "Helpfulness",
        "Tool Usage",
        "Error Handling",
        "Ready to test prompts?",
        "when",
        "args",
        "success_say",
        "Agent Thinking:\n  - User has clear use case: deck building (heavy duty)\n  - Budget constraint: under $200\n  - Need to call search_products tool\n  - Filter to drills suitable for deck work\n  - Use brushless for durability\n\nTool Call:\n  search_products({\n    query: \"brushless cordless drill\",\n    category: \"drills\",\n    max_price: 200,\n    limit: 10\n  })\n\nMock Tool Response:\n  {\n    \"success\": true,\n    \"count\": 8,\n    \"products\": [...]\n  }\n\nAgent Says:\n  \"Great choice for a deck project! For heavy-duty fastening, you'll want a brushless drill with good battery life. I found three excellent options under $200. The DeWalt 20V Max is our top seller for deck work — powerful, long battery life, and a 5-year warranty at $189.99. Let me show you all three.\"\n\nUI Action:\n  show_component(\"catalog_results\", { items: products })\n\nQuality Check:\n  ✓ Used tools instead of guessing\n  ✓ Acknowledged budget constraint\n  ✓ Recommended based on use case\n  ✓ Explained why (brushless for durability)\n  ✓ Showed top recommendation\n  ✓ Rendered visual component",
        "### Feature 4: Tool Call Visualization\n\nSee exactly which tools the agent calls and why:\n\n**Visualization:**",
        "Conversation Turn 3:\n\nUser: \"What's the difference between the Makita and Milwaukee?\"\n\nAgent Decision Tree:\n  1. User asking for comparison → Need product details\n  2. Two products mentioned → Call get_product_stats twice\n  3. Present comparison focusing on key differences\n\nTool Calls:\n  [1] get_product_stats({ product_id: \"makita-18v-drill\" })\n  [2] get_product_stats({ product_id: \"milwaukee-18v-drill\" })\n\nResponses:\n  [1] { name: \"Makita\", weight: \"7.3 lbs\", power: \"250 UWO\", ... }\n  [2] { name: \"Milwaukee\", weight: \"8.9 lbs\", power: \"300 UWO\", ... }\n\nAgent Synthesizes:\n  \"The Makita is lighter at 7.3 lbs — great for overhead cuts and homeowner projects. The Milwaukee is heavier at 8.9 lbs but has more cutting power. For weekend projects, the Makita is perfect. For daily contractor work, the Milwaukee is worth the extra cost.\"\n\nQuality Check:\n  ✓ Called tools for both products\n  ✓ Compared key differentiators (weight, power)\n  ✓ Explained tradeoffs in plain language\n  ✓ Recommended based on use case",
        "### Feature 5: Side-by-Side Comparison\n\nTest two prompt versions simultaneously:\n\n**Use Case:** You're refining how the agent handles \"out of stock\" scenarios\n\n**Prompt A (Original):**",
        "json\n{\n  \"escalation\": [\n    \"If product is out of stock, apologize and ask if they want an alternative\"\n  ]\n}",
        "**Prompt B (Improved):**",
        "json\n{\n  \"policy\": {\n    \"data_rules\": [\n      \"If a product is out of stock, suggest in-stock alternatives with similar specs\",\n      \"Mention why the alternative is comparable or better\"\n    ]\n  },\n  \"response_templates\": {\n    \"out_of_stock\": \"[Product] is currently out of stock, but we have [similar product] available now. It's in the same price range and has [comparable or better feature]. Would you like to see that?\"\n  }\n}",
        "**Scenario:** User asks for out-of-stock item\n\n**Results:**\n\n| Aspect | Prompt A | Prompt B |\n|--------|----------|----------|\n| **Response** | \"I'm sorry, that item is out of stock. Would you like to see alternatives?\" | \"The Ryobi 18V is currently out of stock, but we have a DeWalt 20V impact driver available now. It's in the same price range ($99) and actually has better torque at 1,825 in-lbs. Would you like me to show you that?\" |\n| **Proactivity** | Waits for user to ask | Immediately suggests alternative |\n| **Detail** | Vague | Specific product, price, key spec |\n| **Value** | Low (user must ask) | High (agent does the work) |\n| **Winner** | ❌ | ✅ |\n\n### Feature 6: Conversation Export\n\nSave successful test conversations:\n\n* Export as training examples to add to your prompt\n* Save edge case handling for documentation\n* Share with team for review\n* Use in regression testing\n\n## Guided Tutorial Flow\n\n### Step 1: Load or Write Your Prompt\n\n**Option A:** Load a template (Otto, Cypress, Support Agent)\n**Option B:** Paste your existing prompt\n**Option C:** Start blank and build section by section\n\n### Step 2: Test Happy Path Scenarios\n\nStart with straightforward conversations:\n\n* User with clear intent\n* All information provided\n* Tools return expected results\n* Successful outcome\n\n**Goal:** Ensure basic functionality works\n\n### Step 3: Test Edge Cases\n\nChallenge your prompt:\n\n* Vague user requests\n* Missing information\n* User changes mind\n* Out of stock or unavailable\n\n**Goal:** Verify graceful handling of uncertainty\n\n### Step 4: Test Error Scenarios\n\nSimulate failures:\n\n* Tool returns no results\n* Tool timeout\n* Invalid user input\n* API errors\n\n**Goal:** Ensure user never sees broken experience\n\n### Step 5: Refine and Iterate\n\nBased on test results:\n\n* Adjust tone or phrasing\n* Add handling for missed cases\n* Clarify tool usage rules\n* Add response templates\n\n### Step 6: Validate and Export\n\nWhen satisfied with behavior:\n\n* Run full scenario suite (10-15 tests)\n* Export validated prompt\n* Add passing conversation examples to prompt\n* Deploy to staging environment\n\n## Common Prompt Issues to Test For\n\n## Advanced Testing Techniques\n\n### A/B Testing Response Templates\n\nCompare different phrasings:\n\n* Formal vs casual greetings\n* Short vs detailed explanations\n* Proactive vs reactive suggestions\n\n### Stress Testing\n\nRapid conversation changes:\n\n* User interrupts mid-flow\n* User asks three questions at once\n* User provides contradictory information\n\n### Tone Consistency\n\nTest brand voice across scenarios:\n\n* Does formality remain consistent?\n* Are sample phrases used appropriately?\n* Does personality shine through in all situations?\n\n## Scenario Authoring\n\nCreate custom test scenarios:",
        "json\n{\n  \"scenario\": {\n    \"name\": \"Budget-Conscious DIYer\",\n    \"description\": \"User wants a drill but is price-sensitive\",\n    \"turns\": [\n      {\n        \"user\": \"I need a drill for home projects\",\n        \"expected\": \"Agent asks clarifying questions about use case and budget\"\n      },\n      {\n        \"user\": \"Just small repairs, I don't want to spend a lot\",\n        \"expected\": \"Agent searches for budget-friendly drills and explains value\"\n      }\n    ],\n    \"success_criteria\": [\n      \"Agent calls search_products with appropriate filters\",\n      \"Agent recommends based on value, not features\",\n      \"Agent explains why budget option is sufficient\"\n    ]\n  }\n}"
      ]
    }
  },
  {
    "slug": "/tutorials/tools",
    "title": "Tool Descriptor Playground",
    "description": "Build and test HTTP tool descriptors with live validation, template testing, and API simulation.",
    "content": "## Tool Descriptor Playground\n\nThis interactive playground lets you build, test, and validate HTTP tool descriptors in real-time. Experiment with parameter schemas, template syntax, and UI rendering without deploying to production.\n\n**Time to complete:** 15-20 minutes per tool\n\n## How It Works\n\nThe playground provides a split-screen interface:\n\n* **Left:** JSON editor for your tool descriptor\n* **Right:** Live validation, template preview, and simulated API responses\n\nAs you type, the playground validates syntax, tests template interpolation, and shows what the agent will see when the tool executes.\n\n## Tutorial Interface\n\n## Preview: Playground Features\n\n### Feature 1: Live Validation\n\nGet instant feedback as you build:\n\n**Validates:**\n\n* JSON syntax errors\n* Required field presence (`kind`, `name`, `description`, `parameters`, `http`)\n* Parameter schema correctness (JSON Schema compliance)\n* URL template validity (args template references)\n* Type coercion filter syntax (number, json, bool filters)\n* Header format\n* `okField` presence and type\n\n**Example Feedback:**\n\n```\n✓ Tool name is unique and descriptive\n✗ Error: Missing required field 'okField' in http section\n✗ Error: Parameter 'max_price' referenced in URL template but not defined in parameters\n✓ Template syntax correct: args.query\n✗ Warning: No type coercion on numeric parameter — use args.limit with number filter\n```\n\n### Feature 2: Template Context Simulator\n\nTest template interpolation with sample data:\n\n**Input Tool:**\n\n```json\n{\n  \"http\": {\n    \"urlTemplate\": \"https://api.example.com/search?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.api_key}}\"\n    }\n  }\n}\n```\n\n**Simulated Args:**\n\n```json\n{\n  \"query\": \"cordless drill\",\n  \"limit\": \"10\",\n  \"category\": \"tools\"\n}\n```\n\n**Simulated Secrets:**\n\n```json\n{\n  \"api_key\": \"sk_test_abc123\"\n}\n```\n\n**Rendered Output:**\n\n```\nGET https://api.example.com/search?q=cordless%20drill&limit=10&category=tools\n\nHeaders:\n  authorization: Bearer sk_test_abc123\n```\n\n**Playground shows:**\n\n* URL encoding applied correctly\n* Type coercion (string \"10\" converted to number 10)\n* Secret interpolation (masked in display)\n* Empty parameter handling (if `pruneEmpty: true`)\n\n### Feature 3: Mock API Responses\n\nSimulate success and error responses:\n\n**Define Mock Response:**\n\n```json\n{\n  \"success\": true,\n  \"count\": 3,\n  \"products\": [\n    {\n      \"id\": \"drill-123\",\n      \"name\": \"DeWalt 20V Drill\",\n      \"price\": 189.99\n    }\n  ]\n}\n```\n\n**Test okField Detection:**\n\n* If `okField: \"success\"` and response has `\"success\": true` → onSuccess UI\n* If `\"success\": false` → onError UI\n* Preview UI component rendering with this data\n\n**Playground shows:**\n\n* Which UI path is triggered (onSuccess vs onError)\n* Component preview with interpolated props\n* Missing field warnings for undefined response fields\n\n### Feature 4: UI Component Preview\n\nSee how your tool's UI will render:\n\n**Tool UI Config:**\n\n```json\n{\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Product Results\",\n        \"description\": \"{{response.count}} products match your search\",\n        \"props\": {\n          \"items\": \"{{response.products}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    }\n  }\n}\n```\n\n**Playground renders:**\n\n* Visual preview of the `catalog_results` component\n* Shows how response fields interpolate into text (e.g., \"3 products match your search\")\n* Displays product cards based on response data\n* Highlights missing or incorrect prop mappings\n\n### Feature 5: Template Library\n\nLoad pre-built tool templates:\n\n**Available Templates:**\n\n* **Product Search** (e-commerce)\n* **Room Availability** (hospitality)\n* **Appointment Booking** (scheduling)\n* **CRM Lookup** (customer data)\n* **Payment Processing** (Stripe integration)\n* **Email Notification** (SendGrid, Resend)\n* **Database Query** (MongoDB, Postgres)\n\n**Each template includes:**\n\n* Complete tool descriptor\n* Example parameters\n* Mock API response\n* UI configuration\n\n## Guided Tutorial Flow\n\n### Step 1: Choose a Template or Start Blank\n\n**Beginner:** Load the \"Product Search\" template to see a complete example\n**Intermediate:** Start blank and reference the [Tool Design Guide](/voice/tool-design)\n\n### Step 2: Define Tool Metadata\n\n```json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_products\",\n  \"description\": \"Search product catalog by keyword and category\",\n  \"priority\": 10,\n  \"enabled\": true,\n  \"version\": 1\n}\n```\n\n**Playground validates:**\n\n* `name` is unique (compares against other tools in your config)\n* `description` is clear and actionable\n* `priority` is reasonable (1-10 range)\n\n### Step 3: Design Parameters Schema\n\n```json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"query\": {\n        \"type\": \"string\",\n        \"description\": \"Search keywords\"\n      },\n      \"category\": {\n        \"type\": \"string\",\n        \"enum\": [\"drills\", \"saws\", \"fasteners\"]\n      },\n      \"max_price\": {\n        \"type\": \"number\",\n        \"minimum\": 0\n      }\n    },\n    \"required\": [\"query\"]\n  }\n}\n```\n\n**Playground validates:**\n\n* JSON Schema syntax\n* Required fields are reasonable\n* Enums are restrictive enough\n* Parameter descriptions are helpful\n\n**Test with sample args:**\n\n```json\n{\n  \"query\": \"cordless drill\",\n  \"category\": \"drills\",\n  \"max_price\": 200\n}\n```\n\n### Step 4: Build HTTP Configuration\n\n```json\n{\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://api.shop.com/products?q={{args.query}}&cat={{args.category}}&max={{args.max_price | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.shop_api_key}}\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000,\n    \"pruneEmpty\": true\n  }\n}\n```\n\n**Playground tests:**\n\n* URL template with sample args → shows rendered URL\n* Type coercion applied correctly\n* Headers interpolated with masked secrets\n* Timeout is reasonable for the operation\n\n### Step 5: Configure UI Rendering\n\n```json\n{\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Search Results\",\n        \"props\": {\n          \"items\": \"{{response.products}}\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Search Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}\n```\n\n**Playground previews:**\n\n* Success case with mock products → renders catalog\n* Error case with mock error → renders alert\n\n### Step 6: Test with Mock API\n\nLoad or create mock responses:\n\n**Success Response:**\n\n```json\n{\n  \"success\": true,\n  \"products\": [\n    { \"id\": \"1\", \"name\": \"DeWalt Drill\", \"price\": 189.99 },\n    { \"id\": \"2\", \"name\": \"Makita Drill\", \"price\": 149.99 }\n  ]\n}\n```\n\n**Error Response:**\n\n```json\n{\n  \"success\": false,\n  \"error_message\": \"No products found matching your criteria\"\n}\n```\n\n**Playground shows:**\n\n* Which UI path triggers\n* Rendered component\n* Interpolated values\n\n### Step 7: Export and Deploy\n\nDownload your validated tool descriptor:\n\n* Copy JSON to clipboard\n* Download as `.json` file\n* Add to agent configuration directly\n\n## Common Patterns to Practice\n\n## Tips for Success\n\n**Do:**\n\n* Always use type coercion filters (number, json, bool)\n* Test with realistic mock data, not minimal examples\n* Define both `onSuccess` and `onError` UI\n* Use descriptive parameter names and descriptions\n\n**Don't:**\n\n* Forget to define `okField` for consistent success detection\n* Hardcode secrets in the tool descriptor\n* Skip testing edge cases (empty results, timeouts, errors)\n* Make tools too broad — split complex operations into multiple tools\n\n## Advanced Features\n\nOnce comfortable with basics, explore:\n\n* **Conditional fields** — Optional parameters that change behavior\n* **Response transformation** — Using filters to reshape API data\n* **Chained tools** — One tool's response feeds another\n* **Pagination** — Handling large result sets\n* **Retry logic** — Configuring automatic retries on failure\n\n## Export to Production\n\nWhen your tool is validated:\n\n1. **Copy JSON** to your agent's tool configuration\n2. **Add to tenant secrets** — Add real API keys to `secrets` object\n3. **Update agent prompt** — Reference the tool in `capabilities.tools`\n4. **Test in staging** — Deploy to staging environment first\n5. **Monitor performance** — Track success rate, latency, errors\n\n## What's Next?\n\n**Ready to build tools?** [Launch the Tool Descriptor Playground](#) (Coming Soon)\n\nFor now, manually create tools using the [Tool Design Guide](/voice/tool-design).\n",
    "_searchMeta": {
      "cleanContent": "tool descriptor playground this interactive playground lets you build test and validate http tool descriptors in real-time experiment with parameter schemas template syntax and ui rendering without deploying to production time to complete: 15-20 minutes per tool how it works the playground provides a split-screen interface: left: json editor for your tool descriptor right: live validation template preview and simulated api responses as you type the playground validates syntax tests template interpolation and shows what the agent will see when the tool executes tutorial interface preview: playground features feature 1: live validation get instant feedback as you build: validates: json syntax errors required field presence kind name description parameters http parameter schema correctness json schema compliance url template validity args template references type coercion filter syntax number json bool filters header format okfield presence and type example feedback: feature 2: template context simulator test template interpolation with sample data: input tool: simulated args: simulated secrets: rendered output: playground shows: url encoding applied correctly type coercion string 10 converted to number 10 secret interpolation masked in display empty parameter handling if pruneempty: true feature 3: mock api responses simulate success and error responses: define mock response: test okfield detection: if okfield: success and response has success : true onsuccess ui if success : false onerror ui preview ui component rendering with this data playground shows: which ui path is triggered onsuccess vs onerror component preview with interpolated props missing field warnings for undefined response fields feature 4: ui component preview see how your tool s ui will render: tool ui config: playground renders: visual preview of the catalog_results component shows how response fields interpolate into text e g 3 products match your search displays product cards based on response data highlights missing or incorrect prop mappings feature 5: template library load pre-built tool templates: available templates: product search e-commerce room availability hospitality appointment booking scheduling crm lookup customer data payment processing stripe integration email notification sendgrid resend database query mongodb postgres each template includes: complete tool descriptor example parameters mock api response ui configuration guided tutorial flow step 1: choose a template or start blank beginner: load the product search template to see a complete example intermediate: start blank and reference the tool design guide step 2: define tool metadata playground validates: name is unique compares against other tools in your config description is clear and actionable priority is reasonable 1-10 range step 3: design parameters schema playground validates: json schema syntax required fields are reasonable enums are restrictive enough parameter descriptions are helpful test with sample args: step 4: build http configuration playground tests: url template with sample args shows rendered url type coercion applied correctly headers interpolated with masked secrets timeout is reasonable for the operation step 5: configure ui rendering playground previews: success case with mock products renders catalog error case with mock error renders alert step 6: test with mock api load or create mock responses: success response: error response: playground shows: which ui path triggers rendered component interpolated values step 7: export and deploy download your validated tool descriptor: copy json to clipboard download as json file add to agent configuration directly common patterns to practice tips for success do: always use type coercion filters number json bool test with realistic mock data not minimal examples define both onsuccess and onerror ui use descriptive parameter names and descriptions don t: forget to define okfield for consistent success detection hardcode secrets in the tool descriptor skip testing edge cases empty results timeouts errors make tools too broad split complex operations into multiple tools advanced features once comfortable with basics explore: conditional fields optional parameters that change behavior response transformation using filters to reshape api data chained tools one tool s response feeds another pagination handling large result sets retry logic configuring automatic retries on failure export to production when your tool is validated: copy json to your agent s tool configuration add to tenant secrets add real api keys to secrets object update agent prompt reference the tool in capabilities tools test in staging deploy to staging environment first monitor performance track success rate latency errors what s next ready to build tools launch the tool descriptor playground coming soon for now manually create tools using the tool design guide",
      "headings": [
        "Tool Descriptor Playground",
        "How It Works",
        "Tutorial Interface",
        "Preview: Playground Features",
        "Guided Tutorial Flow",
        "Common Patterns to Practice",
        "Tips for Success",
        "Advanced Features",
        "Export to Production",
        "What's Next?"
      ],
      "keywords": [
        "tutorial",
        "tools",
        "HTTP",
        "playground",
        "interactive",
        "Tool Descriptor Playground",
        "How It Works",
        "Tutorial Interface",
        "Preview: Playground Features",
        "Guided Tutorial Flow",
        "Common Patterns to Practice",
        "Tips for Success",
        "Advanced Features",
        "Export to Production",
        "What's Next?",
        "Time to complete:",
        "Left:",
        "Right:",
        "Validates:",
        "Example Feedback:",
        "Input Tool:",
        "Simulated Args:",
        "Simulated Secrets:",
        "Rendered Output:",
        "Playground shows:",
        "Define Mock Response:",
        "Test okField Detection:",
        "Tool UI Config:",
        "Playground renders:",
        "Available Templates:",
        "Product Search",
        "Room Availability",
        "Appointment Booking",
        "CRM Lookup",
        "Payment Processing",
        "Email Notification",
        "Database Query",
        "Each template includes:",
        "Beginner:",
        "Intermediate:",
        "Playground validates:",
        "Test with sample args:",
        "Playground tests:",
        "Playground previews:",
        "Success Response:",
        "Error Response:",
        "Do:",
        "Don't:",
        "Conditional fields",
        "Response transformation",
        "Chained tools",
        "Pagination",
        "Retry logic",
        "Copy JSON",
        "Add to tenant secrets",
        "Update agent prompt",
        "Test in staging",
        "Monitor performance",
        "Ready to build tools?",
        "kind",
        "name",
        "description",
        "parameters",
        "http",
        "okField",
        "✓ Tool name is unique and descriptive\n✗ Error: Missing required field 'okField' in http section\n✗ Error: Parameter 'max_price' referenced in URL template but not defined in parameters\n✓ Template syntax correct: args.query\n✗ Warning: No type coercion on numeric parameter — use args.limit with number filter",
        "### Feature 2: Template Context Simulator\n\nTest template interpolation with sample data:\n\n**Input Tool:**",
        "json\n{\n  \"http\": {\n    \"urlTemplate\": \"https://api.example.com/search?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.api_key}}\"\n    }\n  }\n}",
        "**Simulated Args:**",
        "json\n{\n  \"query\": \"cordless drill\",\n  \"limit\": \"10\",\n  \"category\": \"tools\"\n}",
        "**Simulated Secrets:**",
        "json\n{\n  \"api_key\": \"sk_test_abc123\"\n}",
        "**Rendered Output:**",
        "GET https://api.example.com/search?q=cordless%20drill&limit=10&category=tools\n\nHeaders:\n  authorization: Bearer sk_test_abc123",
        "**Playground shows:**\n\n* URL encoding applied correctly\n* Type coercion (string \"10\" converted to number 10)\n* Secret interpolation (masked in display)\n* Empty parameter handling (if",
        ")\n\n### Feature 3: Mock API Responses\n\nSimulate success and error responses:\n\n**Define Mock Response:**",
        "json\n{\n  \"success\": true,\n  \"count\": 3,\n  \"products\": [\n    {\n      \"id\": \"drill-123\",\n      \"name\": \"DeWalt 20V Drill\",\n      \"price\": 189.99\n    }\n  ]\n}",
        "**Test okField Detection:**\n\n* If",
        "and response has",
        "→ onSuccess UI\n* If",
        "→ onError UI\n* Preview UI component rendering with this data\n\n**Playground shows:**\n\n* Which UI path is triggered (onSuccess vs onError)\n* Component preview with interpolated props\n* Missing field warnings for undefined response fields\n\n### Feature 4: UI Component Preview\n\nSee how your tool's UI will render:\n\n**Tool UI Config:**",
        "json\n{\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Product Results\",\n        \"description\": \"{{response.count}} products match your search\",\n        \"props\": {\n          \"items\": \"{{response.products}}\",\n          \"currency\": \"USD\"\n        }\n      }\n    }\n  }\n}",
        "**Playground renders:**\n\n* Visual preview of the",
        "component\n* Shows how response fields interpolate into text (e.g., \"3 products match your search\")\n* Displays product cards based on response data\n* Highlights missing or incorrect prop mappings\n\n### Feature 5: Template Library\n\nLoad pre-built tool templates:\n\n**Available Templates:**\n\n* **Product Search** (e-commerce)\n* **Room Availability** (hospitality)\n* **Appointment Booking** (scheduling)\n* **CRM Lookup** (customer data)\n* **Payment Processing** (Stripe integration)\n* **Email Notification** (SendGrid, Resend)\n* **Database Query** (MongoDB, Postgres)\n\n**Each template includes:**\n\n* Complete tool descriptor\n* Example parameters\n* Mock API response\n* UI configuration\n\n## Guided Tutorial Flow\n\n### Step 1: Choose a Template or Start Blank\n\n**Beginner:** Load the \"Product Search\" template to see a complete example\n**Intermediate:** Start blank and reference the [Tool Design Guide](/voice/tool-design)\n\n### Step 2: Define Tool Metadata",
        "json\n{\n  \"kind\": \"http_tool\",\n  \"name\": \"search_products\",\n  \"description\": \"Search product catalog by keyword and category\",\n  \"priority\": 10,\n  \"enabled\": true,\n  \"version\": 1\n}",
        "**Playground validates:**\n\n*",
        "is unique (compares against other tools in your config)\n*",
        "is clear and actionable\n*",
        "is reasonable (1-10 range)\n\n### Step 3: Design Parameters Schema",
        "json\n{\n  \"parameters\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"query\": {\n        \"type\": \"string\",\n        \"description\": \"Search keywords\"\n      },\n      \"category\": {\n        \"type\": \"string\",\n        \"enum\": [\"drills\", \"saws\", \"fasteners\"]\n      },\n      \"max_price\": {\n        \"type\": \"number\",\n        \"minimum\": 0\n      }\n    },\n    \"required\": [\"query\"]\n  }\n}",
        "**Playground validates:**\n\n* JSON Schema syntax\n* Required fields are reasonable\n* Enums are restrictive enough\n* Parameter descriptions are helpful\n\n**Test with sample args:**",
        "json\n{\n  \"query\": \"cordless drill\",\n  \"category\": \"drills\",\n  \"max_price\": 200\n}",
        "### Step 4: Build HTTP Configuration",
        "json\n{\n  \"http\": {\n    \"method\": \"GET\",\n    \"urlTemplate\": \"https://api.shop.com/products?q={{args.query}}&cat={{args.category}}&max={{args.max_price | number}}\",\n    \"headers\": {\n      \"authorization\": \"Bearer {{secrets.shop_api_key}}\"\n    },\n    \"okField\": \"success\",\n    \"timeoutMs\": 5000,\n    \"pruneEmpty\": true\n  }\n}",
        "**Playground tests:**\n\n* URL template with sample args → shows rendered URL\n* Type coercion applied correctly\n* Headers interpolated with masked secrets\n* Timeout is reasonable for the operation\n\n### Step 5: Configure UI Rendering",
        "json\n{\n  \"ui\": {\n    \"onSuccess\": {\n      \"open\": {\n        \"component_name\": \"catalog_results\",\n        \"title\": \"Search Results\",\n        \"props\": {\n          \"items\": \"{{response.products}}\"\n        }\n      }\n    },\n    \"onError\": {\n      \"open\": {\n        \"component_name\": \"alert\",\n        \"title\": \"Search Failed\",\n        \"description\": \"{{response.error_message}}\"\n      }\n    }\n  }\n}",
        "**Playground previews:**\n\n* Success case with mock products → renders catalog\n* Error case with mock error → renders alert\n\n### Step 6: Test with Mock API\n\nLoad or create mock responses:\n\n**Success Response:**",
        "json\n{\n  \"success\": true,\n  \"products\": [\n    { \"id\": \"1\", \"name\": \"DeWalt Drill\", \"price\": 189.99 },\n    { \"id\": \"2\", \"name\": \"Makita Drill\", \"price\": 149.99 }\n  ]\n}",
        "**Error Response:**",
        "json\n{\n  \"success\": false,\n  \"error_message\": \"No products found matching your criteria\"\n}",
        "**Playground shows:**\n\n* Which UI path triggers\n* Rendered component\n* Interpolated values\n\n### Step 7: Export and Deploy\n\nDownload your validated tool descriptor:\n\n* Copy JSON to clipboard\n* Download as",
        "file\n* Add to agent configuration directly\n\n## Common Patterns to Practice\n\n## Tips for Success\n\n**Do:**\n\n* Always use type coercion filters (number, json, bool)\n* Test with realistic mock data, not minimal examples\n* Define both",
        "and",
        "UI\n* Use descriptive parameter names and descriptions\n\n**Don't:**\n\n* Forget to define",
        "for consistent success detection\n* Hardcode secrets in the tool descriptor\n* Skip testing edge cases (empty results, timeouts, errors)\n* Make tools too broad — split complex operations into multiple tools\n\n## Advanced Features\n\nOnce comfortable with basics, explore:\n\n* **Conditional fields** — Optional parameters that change behavior\n* **Response transformation** — Using filters to reshape API data\n* **Chained tools** — One tool's response feeds another\n* **Pagination** — Handling large result sets\n* **Retry logic** — Configuring automatic retries on failure\n\n## Export to Production\n\nWhen your tool is validated:\n\n1. **Copy JSON** to your agent's tool configuration\n2. **Add to tenant secrets** — Add real API keys to",
        "object\n3. **Update agent prompt** — Reference the tool in"
      ]
    }
  },
  {
    "slug": "/tutorials/widget",
    "title": "Widget Configurator",
    "description": "Generate widget embedding code with visual customization and instant preview.",
    "content": "## Widget Configurator\n\nThis interactive configurator generates production-ready widget embedding code with visual customization and live preview. No coding required — customize appearance, test behavior, and copy the code.\n\n**Time to complete:** 10-15 minutes\n\n## How It Works\n\nThe configurator provides a visual interface where you:\n\n1. Select your tenant and agent\n2. Customize appearance (position, colors, size, theme)\n3. Configure behavior (auto-open, greeting, metadata)\n4. Preview the widget in real-time\n5. Generate framework-specific code (vanilla JS, React, Vue, Angular)\n6. Copy and paste into your website\n\nChanges update the preview instantly, so you see exactly what your users will experience.\n\n## Tutorial Interface\n\n## Preview: Configurator Features\n\n### Feature 1: Visual Customization\n\nPoint-and-click interface for all widget options:\n\n**Appearance:**\n\n* **Position** — Drag the widget button to bottom-right, bottom-left, top-right, or top-left\n* **Theme** — Toggle light, dark, or auto (matches user's system preference)\n* **Primary Color** — Color picker for brand accent (buttons, highlights)\n* **Button Size** — Small, medium, or large\n* **Icon Style** — Microphone, chat bubble, or custom icon upload\n\n**Live Preview:**\n\n* See changes instantly in embedded iframe\n* Test different screen sizes (mobile, tablet, desktop)\n* Dark mode toggle to preview theme variants\n\n### Feature 2: Behavior Configuration\n\nControl how the widget acts:\n\n**Options:**\n\n* **Auto-Open** — Start conversation on page load (toggle on/off)\n* **Greeting Message** — Customize first message (or use agent default)\n* **Trigger Delay** — Open widget X seconds after page load\n* **Exit Intent** — Show widget when user moves to leave page\n* **Scroll Trigger** — Activate after user scrolls X% of page\n\n**Advanced:**\n\n* **Session Metadata** — Pass page URL, referrer, user ID automatically\n* **Custom CSS** — Override widget styles for pixel-perfect brand match\n* **z-Index** — Set stacking order for sites with complex overlays\n\n### Feature 3: Framework Code Generation\n\nGenerate code for your stack:\n\n**Vanilla JavaScript:**\n\n```html\n<script>\n  (function() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: 'w_your_widget_key',\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC',\n      buttonSize: 'medium'\n    };\n    var script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  })();\n</script>\n```\n\n**React Component:**\n\n```javascript\n// components/VoxWidget.jsx\nimport { useEffect } from 'react';\n\nexport default function VoxWidget() {\n  useEffect(() => {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: process.env.NEXT_PUBLIC_VOX_WIDGET_KEY,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n\n    return () => {\n      const existingScript = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n      if (existingScript) existingScript.remove();\n      if (window.voxWidget) window.voxWidget.destroy();\n    };\n  }, []);\n\n  return null;\n}\n```\n\n**Vue Component:**\n\n```javascript\n<!-- components/VoxWidget.vue -->\n<template><div></div></template>\n\n<script>\nexport default {\n  name: 'VoxWidget',\n  mounted() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: process.env.VUE_APP_VOX_WIDGET_KEY,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  },\n  beforeUnmount() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if (window.voxWidget) window.voxWidget.destroy();\n  }\n};\n</script>\n```\n\n**Angular Component:**\n\n```ts\n// app/components/vox-widget.component.ts\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-vox-widget',\n  template: ''\n})\nexport class VoxWidgetComponent implements OnInit, OnDestroy {\n  ngOnInit() {\n    (window as any).voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: environment.voxWidgetKey,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  }\n\n  ngOnDestroy() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if ((window as any).voxWidget) {\n      (window as any).voxWidget.destroy();\n    }\n  }\n}\n```\n\n### Feature 4: Environment Manager\n\nConfigure keys for different environments:\n\n**Setup:**\n\n```\nDevelopment (localhost:3000)\n  Widget Key: w_dev_local_abc123\n  Origin: http://localhost:3000\n\nStaging (staging.yoursite.com)\n  Widget Key: w_staging_def456\n  Origin: https://staging.yoursite.com\n\nProduction (yoursite.com)\n  Widget Key: w_prod_ghi789\n  Origin: https://yoursite.com\n\nProduction WWW (www.yoursite.com)\n  Widget Key: w_prod_www_jkl012\n  Origin: https://www.yoursite.com\n```\n\n**Generated Code (Next.js example):**\n\n```javascript\nconst widgetKey = process.env.NODE_ENV === 'production'\n  ? process.env.NEXT_PUBLIC_VOX_WIDGET_KEY_PROD\n  : process.env.NEXT_PUBLIC_VOX_WIDGET_KEY_DEV;\n\nwindow.voxConfig = {\n  widgetKey: widgetKey,\n  // ... other config\n};\n```\n\n### Feature 5: Widget Key Management\n\nCreate and manage widget keys:\n\n**Actions:**\n\n* **Create New Key** — Generate key for a new origin\n* **Test Key** — Verify key works from your domain\n* **Revoke Key** — Disable compromised or old keys\n* **View Usage** — See session count per key\n\n**Key Testing:**\n\n```\nTest Widget Key: w_test_abc123\n\nOrigin: https://yoursite.com\nStatus: ✓ Valid\nLast Used: 2 hours ago\nSessions Today: 47\nTotal Sessions: 1,203\n\nTest Connection:\n  [Test from Current Domain] → Opens test widget\n  ✓ Origin matches: https://yoursite.com\n  ✓ Key is active\n  ✓ Tenant is active\n  ✓ Agent is configured\n  ✓ Session can start\n```\n\n### Feature 6: Live Widget Preview\n\nInteractive preview panel:\n\n**Features:**\n\n* **Click to Interact** — Test voice flow without deploying\n* **Device Previews** — See mobile, tablet, desktop layouts\n* **Theme Toggle** — Switch light/dark to test contrast\n* **Screen Recording** — Record demo video for stakeholders\n* **Share Preview** — Generate temporary URL for team review\n\n**Preview Controls:**\n\n```\n[Desktop] [Tablet] [Mobile]\n[Light] [Dark] [Auto]\n[Record Demo] [Share Preview]\n\nPreview Window:\n  ┌─────────────────────────┐\n  │                         │\n  │   Your Website Preview  │\n  │                         │\n  │                         │\n  │              [🎤]       │ ← Widget Button\n  └─────────────────────────┘\n```\n\n## Guided Tutorial Flow\n\n### Step 1: Select Tenant and Agent\n\n**Input:**\n\n* Tenant ID: `your-tenant-id`\n* Agent ID: `your-agent-id`\n* Environment: Development / Staging / Production\n\n**Configurator validates:**\n\n* Tenant exists and is active\n* Agent is configured\n* Widget key is available for environment\n\n### Step 2: Customize Appearance\n\n**Visual Controls:**\n\n* Drag widget button to desired position\n* Pick primary color (brand hex code)\n* Select button size (see visual size comparison)\n* Choose theme (light/dark/auto)\n\n**Real-time Preview:**\nShows widget on sample page with your customizations\n\n### Step 3: Configure Behavior\n\n**Options:**\n\n* Auto-open on page load? (Yes/No)\n* Custom greeting message? (Text input or use default)\n* Session metadata? (Add custom key-value pairs)\n\n**Example Metadata:**\n\n```json\n{\n  \"page\": \"{{window.location.pathname}}\",\n  \"referrer\": \"{{document.referrer}}\",\n  \"campaign\": \"summer-sale-2025\"\n}\n```\n\n### Step 4: Choose Framework\n\n**Select:**\n\n* Vanilla JavaScript (no framework)\n* React\n* Vue\n* Angular\n* Svelte\n* Other (generic module)\n\n**Code updates automatically** based on selection\n\n### Step 5: Set Environment Variables\n\n**For Selected Framework:**\n\n**Next.js:**\n\n```bash\n# .env.local\nNEXT_PUBLIC_VOX_WIDGET_KEY=w_your_widget_key\n```\n\n**Create React App:**\n\n```bash\n# .env\nREACT_APP_VOX_WIDGET_KEY=w_your_widget_key\n```\n\n**Vite:**\n\n```bash\n# .env\nVITE_VOX_WIDGET_KEY=w_your_widget_key\n```\n\n**Configurator provides:**\n\n* Environment variable name\n* Sample `.env` file\n* Security notes (never commit keys to git)\n\n### Step 6: Copy and Deploy\n\n**Options:**\n\n* **Copy to Clipboard** — Paste directly into your codebase\n* **Download File** — Get component file ready to add to project\n* **Email Code** — Send to developer\n* **Generate Integration Guide** — PDF with step-by-step instructions\n\n## Common Customizations\n\n## Testing Checklist\n\nBefore deploying to production:\n\n* \\[ ] Widget appears on page\n* \\[ ] Button is in correct position\n* \\[ ] Colors match brand guidelines\n* \\[ ] Theme matches site (light/dark)\n* \\[ ] Click opens widget interface\n* \\[ ] Microphone permission request works\n* \\[ ] Voice conversation starts successfully\n* \\[ ] UI components render correctly\n* \\[ ] Widget works on mobile devices\n* \\[ ] No console errors in browser\n* \\[ ] Origin matches widget key configuration\n* \\[ ] Environment variable is set correctly\n\n## Advanced Configuration\n\n### Custom Triggers\n\nOpen widget from your own buttons:\n\n```javascript\n// Your custom button\n<button onClick={() => window.voxWidget.open()}>\n  Talk to Our Team\n</button>\n```\n\n### Event Listening\n\nTrack widget usage:\n\n```javascript\nwindow.addEventListener('vox:session:start', (event) => {\n  // Log session start to analytics\n  analytics.track('Voice Session Started', {\n    sessionId: event.detail.sessionId\n  });\n});\n\nwindow.addEventListener('vox:session:end', (event) => {\n  // Log session completion\n  analytics.track('Voice Session Ended', {\n    sessionId: event.detail.sessionId,\n    duration: event.detail.duration\n  });\n});\n```\n\n### Conditional Loading\n\nLoad widget only for certain pages or users:\n\n```javascript\n// Only load on product pages\nif (window.location.pathname.startsWith('/products/')) {\n  // Load widget code\n}\n\n// Only for logged-out users\nif (!isUserLoggedIn()) {\n  // Load widget code\n}\n```\n\n## What's Next?\n\nAfter configuring your widget:\n\n**Ready to configure your widget?** [Launch the Widget Configurator](#) (Coming Soon)\n\nFor now, manually configure widgets using the [Widget Integration Guide](/voice/widget).\n",
    "_searchMeta": {
      "cleanContent": "widget configurator this interactive configurator generates production-ready widget embedding code with visual customization and live preview no coding required customize appearance test behavior and copy the code time to complete: 10-15 minutes how it works the configurator provides a visual interface where you: select your tenant and agent customize appearance position colors size theme configure behavior auto-open greeting metadata preview the widget in real-time generate framework-specific code vanilla js react vue angular copy and paste into your website changes update the preview instantly so you see exactly what your users will experience tutorial interface preview: configurator features feature 1: visual customization point-and-click interface for all widget options: appearance: position drag the widget button to bottom-right bottom-left top-right or top-left theme toggle light dark or auto matches user s system preference primary color color picker for brand accent buttons highlights button size small medium or large icon style microphone chat bubble or custom icon upload live preview: see changes instantly in embedded iframe test different screen sizes mobile tablet desktop dark mode toggle to preview theme variants feature 2: behavior configuration control how the widget acts: options: auto-open start conversation on page load toggle on off greeting message customize first message or use agent default trigger delay open widget x seconds after page load exit intent show widget when user moves to leave page scroll trigger activate after user scrolls x of page advanced: session metadata pass page url referrer user id automatically custom css override widget styles for pixel-perfect brand match z-index set stacking order for sites with complex overlays feature 3: framework code generation generate code for your stack: vanilla javascript: react component: vue component: angular component: feature 4: environment manager configure keys for different environments: setup: generated code next js example : feature 5: widget key management create and manage widget keys: actions: create new key generate key for a new origin test key verify key works from your domain revoke key disable compromised or old keys view usage see session count per key key testing: feature 6: live widget preview interactive preview panel: features: click to interact test voice flow without deploying device previews see mobile tablet desktop layouts theme toggle switch light dark to test contrast screen recording record demo video for stakeholders share preview generate temporary url for team review preview controls: guided tutorial flow step 1: select tenant and agent input: tenant id: your-tenant-id agent id: your-agent-id environment: development staging production configurator validates: tenant exists and is active agent is configured widget key is available for environment step 2: customize appearance visual controls: drag widget button to desired position pick primary color brand hex code select button size see visual size comparison choose theme light dark auto real-time preview: shows widget on sample page with your customizations step 3: configure behavior options: auto-open on page load yes no custom greeting message text input or use default session metadata add custom key-value pairs example metadata: step 4: choose framework select: vanilla javascript no framework react vue angular svelte other generic module code updates automatically based on selection step 5: set environment variables for selected framework: next js: create react app: vite: configurator provides: environment variable name sample env file security notes never commit keys to git step 6: copy and deploy options: copy to clipboard paste directly into your codebase download file get component file ready to add to project email code send to developer generate integration guide pdf with step-by-step instructions common customizations testing checklist before deploying to production: widget appears on page button is in correct position colors match brand guidelines theme matches site light dark click opens widget interface microphone permission request works voice conversation starts successfully ui components render correctly widget works on mobile devices no console errors in browser origin matches widget key configuration environment variable is set correctly advanced configuration custom triggers open widget from your own buttons: event listening track widget usage: conditional loading load widget only for certain pages or users: what s next after configuring your widget: ready to configure your widget launch the widget configurator coming soon for now manually configure widgets using the widget integration guide",
      "headings": [
        "Widget Configurator",
        "How It Works",
        "Tutorial Interface",
        "Preview: Configurator Features",
        "Guided Tutorial Flow",
        "Common Customizations",
        "Testing Checklist",
        "Advanced Configuration",
        "What's Next?"
      ],
      "keywords": [
        "tutorial",
        "widget",
        "configurator",
        "embedding",
        "interactive",
        "Widget Configurator",
        "How It Works",
        "Tutorial Interface",
        "Preview: Configurator Features",
        "Guided Tutorial Flow",
        "Common Customizations",
        "Testing Checklist",
        "Advanced Configuration",
        "What's Next?",
        "Time to complete:",
        "Appearance:",
        "Position",
        "Theme",
        "Primary Color",
        "Button Size",
        "Icon Style",
        "Live Preview:",
        "Options:",
        "Auto-Open",
        "Greeting Message",
        "Trigger Delay",
        "Exit Intent",
        "Scroll Trigger",
        "Advanced:",
        "Session Metadata",
        "Custom CSS",
        "z-Index",
        "Vanilla JavaScript:",
        "React Component:",
        "Vue Component:",
        "Angular Component:",
        "Setup:",
        "Generated Code (Next.js example):",
        "Actions:",
        "Create New Key",
        "Test Key",
        "Revoke Key",
        "View Usage",
        "Key Testing:",
        "Features:",
        "Click to Interact",
        "Device Previews",
        "Theme Toggle",
        "Screen Recording",
        "Share Preview",
        "Preview Controls:",
        "Input:",
        "Configurator validates:",
        "Visual Controls:",
        "Real-time Preview:",
        "Example Metadata:",
        "Select:",
        "Code updates automatically",
        "For Selected Framework:",
        "Next.js:",
        "Create React App:",
        "Vite:",
        "Configurator provides:",
        "Copy to Clipboard",
        "Download File",
        "Email Code",
        "Generate Integration Guide",
        "Ready to configure your widget?",
        "html\n<script>\n  (function() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: 'w_your_widget_key',\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC',\n      buttonSize: 'medium'\n    };\n    var script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  })();\n</script>",
        "**React Component:**",
        "javascript\n// components/VoxWidget.jsx\nimport { useEffect } from 'react';\n\nexport default function VoxWidget() {\n  useEffect(() => {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: process.env.NEXT_PUBLIC_VOX_WIDGET_KEY,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n\n    return () => {\n      const existingScript = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n      if (existingScript) existingScript.remove();\n      if (window.voxWidget) window.voxWidget.destroy();\n    };\n  }, []);\n\n  return null;\n}",
        "**Vue Component:**",
        "javascript\n<!-- components/VoxWidget.vue -->\n<template><div></div></template>\n\n<script>\nexport default {\n  name: 'VoxWidget',\n  mounted() {\n    window.voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: process.env.VUE_APP_VOX_WIDGET_KEY,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  },\n  beforeUnmount() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if (window.voxWidget) window.voxWidget.destroy();\n  }\n};\n</script>",
        "**Angular Component:**",
        "ts\n// app/components/vox-widget.component.ts\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-vox-widget',\n  template: ''\n})\nexport class VoxWidgetComponent implements OnInit, OnDestroy {\n  ngOnInit() {\n    (window as any).voxConfig = {\n      tenantId: 'your-tenant-id',\n      agentId: 'your-agent-id',\n      widgetKey: environment.voxWidgetKey,\n      position: 'bottom-right',\n      theme: 'auto',\n      primaryColor: '#0066CC'\n    };\n\n    const script = document.createElement('script');\n    script.src = 'https://vox.strategicmachines.ai/widget.js';\n    script.async = true;\n    document.head.appendChild(script);\n  }\n\n  ngOnDestroy() {\n    const script = document.querySelector('script[src*=\"vox.strategicmachines.ai\"]');\n    if (script) script.remove();\n    if ((window as any).voxWidget) {\n      (window as any).voxWidget.destroy();\n    }\n  }\n}",
        "### Feature 4: Environment Manager\n\nConfigure keys for different environments:\n\n**Setup:**",
        "Development (localhost:3000)\n  Widget Key: w_dev_local_abc123\n  Origin: http://localhost:3000\n\nStaging (staging.yoursite.com)\n  Widget Key: w_staging_def456\n  Origin: https://staging.yoursite.com\n\nProduction (yoursite.com)\n  Widget Key: w_prod_ghi789\n  Origin: https://yoursite.com\n\nProduction WWW (www.yoursite.com)\n  Widget Key: w_prod_www_jkl012\n  Origin: https://www.yoursite.com",
        "**Generated Code (Next.js example):**",
        "javascript\nconst widgetKey = process.env.NODE_ENV === 'production'\n  ? process.env.NEXT_PUBLIC_VOX_WIDGET_KEY_PROD\n  : process.env.NEXT_PUBLIC_VOX_WIDGET_KEY_DEV;\n\nwindow.voxConfig = {\n  widgetKey: widgetKey,\n  // ... other config\n};",
        "### Feature 5: Widget Key Management\n\nCreate and manage widget keys:\n\n**Actions:**\n\n* **Create New Key** — Generate key for a new origin\n* **Test Key** — Verify key works from your domain\n* **Revoke Key** — Disable compromised or old keys\n* **View Usage** — See session count per key\n\n**Key Testing:**",
        "Test Widget Key: w_test_abc123\n\nOrigin: https://yoursite.com\nStatus: ✓ Valid\nLast Used: 2 hours ago\nSessions Today: 47\nTotal Sessions: 1,203\n\nTest Connection:\n  [Test from Current Domain] → Opens test widget\n  ✓ Origin matches: https://yoursite.com\n  ✓ Key is active\n  ✓ Tenant is active\n  ✓ Agent is configured\n  ✓ Session can start",
        "### Feature 6: Live Widget Preview\n\nInteractive preview panel:\n\n**Features:**\n\n* **Click to Interact** — Test voice flow without deploying\n* **Device Previews** — See mobile, tablet, desktop layouts\n* **Theme Toggle** — Switch light/dark to test contrast\n* **Screen Recording** — Record demo video for stakeholders\n* **Share Preview** — Generate temporary URL for team review\n\n**Preview Controls:**",
        "[Desktop] [Tablet] [Mobile]\n[Light] [Dark] [Auto]\n[Record Demo] [Share Preview]\n\nPreview Window:\n  ┌─────────────────────────┐\n  │                         │\n  │   Your Website Preview  │\n  │                         │\n  │                         │\n  │              [🎤]       │ ← Widget Button\n  └─────────────────────────┘",
        "## Guided Tutorial Flow\n\n### Step 1: Select Tenant and Agent\n\n**Input:**\n\n* Tenant ID:",
        "* Agent ID:",
        "* Environment: Development / Staging / Production\n\n**Configurator validates:**\n\n* Tenant exists and is active\n* Agent is configured\n* Widget key is available for environment\n\n### Step 2: Customize Appearance\n\n**Visual Controls:**\n\n* Drag widget button to desired position\n* Pick primary color (brand hex code)\n* Select button size (see visual size comparison)\n* Choose theme (light/dark/auto)\n\n**Real-time Preview:**\nShows widget on sample page with your customizations\n\n### Step 3: Configure Behavior\n\n**Options:**\n\n* Auto-open on page load? (Yes/No)\n* Custom greeting message? (Text input or use default)\n* Session metadata? (Add custom key-value pairs)\n\n**Example Metadata:**",
        "json\n{\n  \"page\": \"{{window.location.pathname}}\",\n  \"referrer\": \"{{document.referrer}}\",\n  \"campaign\": \"summer-sale-2025\"\n}",
        "### Step 4: Choose Framework\n\n**Select:**\n\n* Vanilla JavaScript (no framework)\n* React\n* Vue\n* Angular\n* Svelte\n* Other (generic module)\n\n**Code updates automatically** based on selection\n\n### Step 5: Set Environment Variables\n\n**For Selected Framework:**\n\n**Next.js:**",
        "bash\n# .env.local\nNEXT_PUBLIC_VOX_WIDGET_KEY=w_your_widget_key",
        "**Create React App:**",
        "bash\n# .env\nREACT_APP_VOX_WIDGET_KEY=w_your_widget_key",
        "**Vite:**",
        "bash\n# .env\nVITE_VOX_WIDGET_KEY=w_your_widget_key",
        "**Configurator provides:**\n\n* Environment variable name\n* Sample",
        "file\n* Security notes (never commit keys to git)\n\n### Step 6: Copy and Deploy\n\n**Options:**\n\n* **Copy to Clipboard** — Paste directly into your codebase\n* **Download File** — Get component file ready to add to project\n* **Email Code** — Send to developer\n* **Generate Integration Guide** — PDF with step-by-step instructions\n\n## Common Customizations\n\n## Testing Checklist\n\nBefore deploying to production:\n\n* \\[ ] Widget appears on page\n* \\[ ] Button is in correct position\n* \\[ ] Colors match brand guidelines\n* \\[ ] Theme matches site (light/dark)\n* \\[ ] Click opens widget interface\n* \\[ ] Microphone permission request works\n* \\[ ] Voice conversation starts successfully\n* \\[ ] UI components render correctly\n* \\[ ] Widget works on mobile devices\n* \\[ ] No console errors in browser\n* \\[ ] Origin matches widget key configuration\n* \\[ ] Environment variable is set correctly\n\n## Advanced Configuration\n\n### Custom Triggers\n\nOpen widget from your own buttons:",
        "javascript\n// Your custom button\n<button onClick={() => window.voxWidget.open()}>\n  Talk to Our Team\n</button>",
        "### Event Listening\n\nTrack widget usage:",
        "javascript\nwindow.addEventListener('vox:session:start', (event) => {\n  // Log session start to analytics\n  analytics.track('Voice Session Started', {\n    sessionId: event.detail.sessionId\n  });\n});\n\nwindow.addEventListener('vox:session:end', (event) => {\n  // Log session completion\n  analytics.track('Voice Session Ended', {\n    sessionId: event.detail.sessionId,\n    duration: event.detail.duration\n  });\n});",
        "### Conditional Loading\n\nLoad widget only for certain pages or users:",
        "javascript\n// Only load on product pages\nif (window.location.pathname.startsWith('/products/')) {\n  // Load widget code\n}\n\n// Only for logged-out users\nif (!isUserLoggedIn()) {\n  // Load widget code\n}"
      ]
    }
  },
  {
    "slug": "/usage/example/config",
    "title": "Otto - Config Example",
    "description": "The configuration used by Otto, a product sales voice agent for DIY Warehouse.",
    "content": "### Agent Configuration\n\nWhew! We're almost done. IN some ways, maybe we should have started here because you'll see int this one configuration how the piece parts are drawn together to bring your agent to life.\n\nTie Otto together with tenant settings, keys, and deployment.\n\n#### Step 1: Tenant Configuration\n\nStore in MongoDB (collection: tenants).\n\nExample object:\n\n```json\n{\r\n  \"tenantId\": \"productco\",\r\n  \"name\": \"DIY Warehouse\",\r\n  \"status\": \"active\",\r\n  \"identity\": {\r\n    \"legalName\": \"DIY Warehouse, Inc\",\r\n    \"displayName\": \"DIY Warehouse\",\r\n    \"domain\": \"https://product-engine.vercel.app/\",\r\n    \"industry\": \"home goods\",\r\n    \"timeZone\": \"America/New York\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n  \"contacts\": { /* ... */ },\r\n  \"billing\": { /* ... */ },\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"productsales\",\r\n      \"label\": \"Product Sales\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/pdhoward/documentation/main/voice/AGENT_DIYWAREHOUSE_PRODUCTSALES.md\"\r\n      }\r\n    }\r\n  ],\r\n  \"limits\": {\r\n    \"maxAgents\": 20,\r\n    \"maxConcurrentCalls\": 50,\r\n    \"maxMonthlyMinutes\": 10000,\r\n    \"maxRequestsPerMinute\": 120\r\n  },\r\n  \"flags\": { /* ... */ },\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"product_site\",\r\n      \"key\": \"yoursupersecretagentkey\",\r\n      \"origin\": \"https://product-engine.vercel.app/\",\r\n      \"label\": \"Main marketing site\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n  \"apiKeys\": [\r\n    {\r\n      \"id\": \"productco\",\r\n      \"key\": \"yoursupersecretkey\",\r\n      \"origin\": \"https://product-engine.vercel.app/\",\r\n      \"label\": \"DIY Warehouse Web Site - Test Site\",\r\n      \"revoked\": false\r\n    }\r\n  ]\r\n}\n```\n\nThis isolates Otto to DIY Warehouse, with API keys for secure tool calls.\n\n#### Step 2: Connect Agents and Tools\n\nLink the prompt repo and tools in agentSettings.\n\nMultiple agents allow versioning (e.g., \"productsales-v2\").\n\n#### Step 3: Manage Limits and Security\n\nUse limits to cap abuse (e.g., 50 concurrent calls).\n\nWidget keys authorize embedding;\n\nAPI keys secure HTTP calls.\n\n#### Step 4: Deploy via WidgetEmbed on the site with this script (for Next.js or HTML):\n\n```json\n\"use client\";\r\n\r\nimport Script from 'next/script';\r\n\r\nconst widgetBaseUrl = process.env.NODE_ENV === 'production' ? 'https://voice.strategicmachines.ai' : 'https://chaotic.ngrok.io';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <Script\r\n        src={`${widgetBaseUrl}/voice-widget.js`}\r\n        strategy=\"afterInteractive\"\r\n        data-tenant-widget-key=\"w_diy_main_7f1b0e9c64f54d1a\"\r\n        data-agent-id=\"productsales\"\r\n      />\r\n\r\n      {/* HTML version */}\r\n      <script\r\n        src=\"https://yourdomain.com/voice-widget.js\"\r\n        data-tenant-widget-key=\"w_diy_main_7f1b0e9c64f54d1a\"\r\n        data-agent-id=\"productsales\"\r\n      ></script>\r\n    </>\r\n  );\r\n}\n```\n\nThis activates Otto on the site.\n\nTest by visiting and saying, \"Find a drill.\"\n\nWith this setup, Otto becomes a engaging expert, ready to help customers shop smarter.\n\nTry Otto at strategicmachines.ai and build your own!\n",
    "_searchMeta": {
      "cleanContent": "agent configuration whew we re almost done in some ways maybe we should have started here because you ll see int this one configuration how the piece parts are drawn together to bring your agent to life tie otto together with tenant settings keys and deployment step 1: tenant configuration store in mongodb collection: tenants example object: this isolates otto to diy warehouse with api keys for secure tool calls step 2: connect agents and tools link the prompt repo and tools in agentsettings multiple agents allow versioning e g productsales-v2 step 3: manage limits and security use limits to cap abuse e g 50 concurrent calls widget keys authorize embedding api keys secure http calls step 4: deploy via widgetembed on the site with this script for next js or html : this activates otto on the site test by visiting and saying find a drill with this setup otto becomes a engaging expert ready to help customers shop smarter try otto at strategicmachines ai and build your own",
      "headings": [],
      "keywords": [
        "json\n{\r\n  \"tenantId\": \"productco\",\r\n  \"name\": \"DIY Warehouse\",\r\n  \"status\": \"active\",\r\n  \"identity\": {\r\n    \"legalName\": \"DIY Warehouse, Inc\",\r\n    \"displayName\": \"DIY Warehouse\",\r\n    \"domain\": \"https://product-engine.vercel.app/\",\r\n    \"industry\": \"home goods\",\r\n    \"timeZone\": \"America/New York\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n  \"contacts\": { /* ... */ },\r\n  \"billing\": { /* ... */ },\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"productsales\",\r\n      \"label\": \"Product Sales\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/pdhoward/documentation/main/voice/AGENT_DIYWAREHOUSE_PRODUCTSALES.md\"\r\n      }\r\n    }\r\n  ],\r\n  \"limits\": {\r\n    \"maxAgents\": 20,\r\n    \"maxConcurrentCalls\": 50,\r\n    \"maxMonthlyMinutes\": 10000,\r\n    \"maxRequestsPerMinute\": 120\r\n  },\r\n  \"flags\": { /* ... */ },\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"product_site\",\r\n      \"key\": \"yoursupersecretagentkey\",\r\n      \"origin\": \"https://product-engine.vercel.app/\",\r\n      \"label\": \"Main marketing site\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n  \"apiKeys\": [\r\n    {\r\n      \"id\": \"productco\",\r\n      \"key\": \"yoursupersecretkey\",\r\n      \"origin\": \"https://product-engine.vercel.app/\",\r\n      \"label\": \"DIY Warehouse Web Site - Test Site\",\r\n      \"revoked\": false\r\n    }\r\n  ]\r\n}",
        "This isolates Otto to DIY Warehouse, with API keys for secure tool calls.\n\n#### Step 2: Connect Agents and Tools\n\nLink the prompt repo and tools in agentSettings.\n\nMultiple agents allow versioning (e.g., \"productsales-v2\").\n\n#### Step 3: Manage Limits and Security\n\nUse limits to cap abuse (e.g., 50 concurrent calls).\n\nWidget keys authorize embedding;\n\nAPI keys secure HTTP calls.\n\n#### Step 4: Deploy via WidgetEmbed on the site with this script (for Next.js or HTML):",
        "json\n\"use client\";\r\n\r\nimport Script from 'next/script';\r\n\r\nconst widgetBaseUrl = process.env.NODE_ENV === 'production' ? 'https://voice.strategicmachines.ai' : 'https://chaotic.ngrok.io';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <Script\r\n        src={",
        "}\r\n        strategy=\"afterInteractive\"\r\n        data-tenant-widget-key=\"w_diy_main_7f1b0e9c64f54d1a\"\r\n        data-agent-id=\"productsales\"\r\n      />\r\n\r\n      {/* HTML version */}\r\n      <script\r\n        src=\"https://yourdomain.com/voice-widget.js\"\r\n        data-tenant-widget-key=\"w_diy_main_7f1b0e9c64f54d1a\"\r\n        data-agent-id=\"productsales\"\r\n      ></script>\r\n    </>\r\n  );\r\n}"
      ]
    }
  },
  {
    "slug": "/usage/example",
    "title": "Otto - Complete Technical Implementation",
    "description": "Full prompt, tools, and configuration for Otto's production deployment.",
    "content": "## Otto: From Concept to Code\n\nNow that you understand Otto's design and business goals, let's dive into the actual implementation. This page provides the complete technical artifacts needed to build and deploy Otto: the system prompt, HTTP tool descriptors, and tenant configuration.\n\n## What VOX Handles For You\n\nBefore we examine Otto's configuration, it's important to understand what the platform provides automatically:\n\nThis infrastructure means you focus on **what makes your agent unique** — the business logic, conversation design, and API integrations — while VOX handles the production-grade runtime.\n\n## The Three Core Artifacts\n\nEvery VOX agent consists of three configuration files:\n\n1. **System Prompt** — Defines personality, workflows, tool usage rules, and conversation examples\n2. **HTTP Tool Descriptors** — API integrations for product search, inventory checks, and actions\n3. **Tenant Configuration** — Multi-tenant settings, widget keys, rate limits, secrets\n\nLet's examine each for Otto.\n\n## 1. Otto's System Prompt\n\nThe system prompt governs Otto's personality, tool usage, and conversation flow. Here's the production configuration (simplified for clarity):\n\n```json\n{\r\n  \"agent\": {\r\n    \"name\": \"Otto\",\r\n    \"tenantId\": \"diy-warehouse\",\r\n    \"tone\": \"friendly, knowledgeable, practical — like a trusted workshop pro\",\r\n    \"style_rules\": [\r\n      \"Speak like an enthusiastic workshop expert who loves helping DIYers\",\r\n      \"Use plain language for technical specs — never jargon without explanation\",\r\n      \"Recommend based on customer use case, not price\",\r\n      \"Always use tools for product data — never guess specs or availability\",\r\n      \"Keep responses concise: 2-3 sentences unless explaining complex topics\",\r\n      \"Celebrate good choices; suggest upgrades only when genuinely beneficial\"\r\n    ]\r\n  },\r\n\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"search_products\": {\r\n        \"when\": [\r\n          \"User asks about products by name, category, or use case\",\r\n          \"User provides a project need (e.g., 'building a deck')\",\r\n          \"User wants to browse a specific category\"\r\n        ],\r\n        \"args\": [\r\n          \"query (what the user is looking for)\",\r\n          \"limit (default 10, max 25)\",\r\n          \"category (optional: drills, saws, fasteners, etc.)\"\r\n        ],\r\n        \"success_say\": \"Present top 3-5 matches with key differentiators (price, brand, standout feature). Use show_component to display catalog. Highlight best seller or top recommendation.\",\r\n        \"handle_errors\": {\r\n          \"no_results\": \"Apologize and suggest related categories or broader search terms\",\r\n          \"api_timeout\": \"Explain the delay and offer to try again or search differently\"\r\n        }\r\n      },\r\n\r\n      \"get_product_stats\": {\r\n        \"when\": [\r\n          \"User asks about specific product details\",\r\n          \"User wants to compare products\",\r\n          \"User says 'tell me more about [product]'\"\r\n        ],\r\n        \"args\": [\"product_id\"],\r\n        \"success_say\": \"Share key specs in plain language (power, battery life, warranty). Mention what customers love about it. State price and availability clearly.\",\r\n        \"handle_errors\": {\r\n          \"product_not_found\": \"Apologize and offer to search for similar products\"\r\n        }\r\n      },\r\n\r\n      \"show_component\": {\r\n        \"when\": [\r\n          \"Displaying search results\",\r\n          \"Showing product images or galleries\",\r\n          \"Presenting comparison data\"\r\n        ],\r\n        \"args\": [\"component_name\", \"props\"],\r\n        \"success_say\": \"Reference the visual ('As you can see...') and guide next steps\"\r\n      },\r\n\r\n      \"getCurrentTime\": {\r\n        \"when\": [\"User asks about store hours or time-sensitive promotions\"],\r\n        \"args\": [],\r\n        \"success_say\": \"Provide time and context (e.g., 'It's 2pm, so the warehouse is open until 8pm')\"\r\n      }\r\n    }\r\n  },\r\n\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always call search_products or get_product_stats for inventory — never invent products\",\r\n      \"Never share pricing from memory — always use current data\",\r\n      \"If a product is out of stock, suggest in-stock alternatives with similar specs\",\r\n      \"Mention warranties and return policies when relevant to build trust\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Transfer to human for:\",\r\n      \"  - Bulk/commercial orders (10+ units)\",\r\n      \"  - Custom tool requests not in catalog\",\r\n      \"  - Complaints or warranty claims\",\r\n      \"  - Technical support for broken tools\",\r\n      \"Say: 'Let me connect you with our specialist team who can help with this.'\"\r\n    ]\r\n  },\r\n\r\n  \"dialog_flow\": {\r\n    \"high_level\": [\r\n      \"Greet warmly and ask how you can help\",\r\n      \"Listen for product needs or project context\",\r\n      \"Ask clarifying questions: use case, budget, experience level\",\r\n      \"Search products via tools\",\r\n      \"Present top options with key differentiators\",\r\n      \"Answer follow-up questions about specs, comparisons, alternatives\",\r\n      \"Guide toward purchase decision or additional searches\",\r\n      \"Offer help with related products or checkout\"\r\n    ],\r\n    \"handling_uncertainty\": [\r\n      \"If user's need is vague, ask clarifying questions before searching\",\r\n      \"If multiple products match, show 3-5 and explain differences\",\r\n      \"If budget is mentioned, filter to that range and mention value picks\"\r\n    ]\r\n  },\r\n\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm Otto, your DIY Warehouse expert. Whether you're building, fixing, or upgrading, I can help you find the right tools. What are you working on?\",\r\n\r\n    \"clarifying_question\": \"To find the best [tool] for you, can you tell me about your project? Are you a weekend DIYer or doing professional work?\",\r\n\r\n    \"presenting_results\": \"I found [count] great options for [use case]. The [brand model] is our top seller — [key benefit]. Let me show you all of them.\",\r\n\r\n    \"no_results\": \"I checked our inventory and didn't find [criteria]. How about trying [alternative category] or [broader search]?\",\r\n\r\n    \"upgrade_suggestion\": \"That's a solid choice for [use case]. If you want [benefit like longer battery life], the [upgraded model] is worth considering at [price difference] more.\",\r\n\r\n    \"comparison\": \"Good question! The [product A] is [key difference], while [product B] has [different feature]. For [user's use case], I'd recommend [choice] because [reason].\",\r\n\r\n    \"out_of_stock\": \"[Product] is currently out of stock, but we have [similar product] available now. It's in the same price range and has [comparable or better feature]. Would you like to see that?\",\r\n\r\n    \"closing\": \"Anything else I can help you find? I'm here if you need comparisons, specs, or help choosing the right tool.\"\r\n  },\r\n\r\n  \"examples\": [\r\n    {\r\n      \"scenario\": \"Discovery with budget\",\r\n      \"user\": \"I need a cordless drill for building a deck, under $200\",\r\n      \"agent_thinking\": \"User has clear use case (deck building = heavy duty) and budget. Call search_products with 'cordless drill' and filter to ~$200 range.\",\r\n      \"agent_says\": \"Great choice for a deck project! For heavy-duty fastening, you'll want a brushless drill with good battery life. Let me find options under $200.\",\r\n      \"agent_action\": \"Calls search_products(query: 'brushless cordless drill', limit: 10, category: 'drills')\",\r\n      \"agent_says_after\": \"I found three excellent drills in your range. The DeWalt 20V Max is our top seller for deck work — powerful, long battery life, and a 5-year warranty at $189.99. Let me show you all three.\",\r\n      \"agent_action_after\": \"Calls show_component('catalog_results', items: response.products)\"\r\n    },\r\n    {\r\n      \"scenario\": \"Comparison request\",\r\n      \"user\": \"What's the difference between the Makita and Milwaukee circular saws?\",\r\n      \"agent_action\": \"Calls get_product_stats for both models\",\r\n      \"agent_says\": \"The Makita is lighter at 7.3 lbs — great for overhead cuts and homeowner projects. The Milwaukee is 8.9 lbs but has more cutting power and a brushless motor for pro use. For weekend projects, the Makita is perfect. For daily contractor work, the Milwaukee is worth the extra cost.\"\r\n    },\r\n    {\r\n      \"scenario\": \"Out of stock with alternative\",\r\n      \"user\": \"Do you have the Ryobi 18V impact driver?\",\r\n      \"agent_action\": \"Calls search_products(query: 'Ryobi 18V impact driver')\",\r\n      \"result\": \"Product found but out of stock\",\r\n      \"agent_says\": \"The Ryobi 18V is currently out of stock, but we have a DeWalt 20V impact driver arriving tomorrow. It's in the same price range ($99) and actually has better torque at 1,825 in-lbs. Would you like me to show you that, or I can notify you when the Ryobi is back in stock?\"\r\n    }\r\n  ]\r\n}\n```\n\n**Key Design Decisions:**\n\n* **Use case focus:** Prompts prioritize customer's project over product features\n* **Plain language:** Technical specs translated to benefits (\"300 UWO\" → \"powerful for tough fastening\")\n* **Trust-building:** Honest recommendations, alternative suggestions, warranty mentions\n* **Tool-driven:** Every product detail comes from API calls, never memory\n\n## 2. Otto's HTTP Tool Descriptors\n\nOtto uses two custom tools to connect to DIY Warehouse's inventory APIs.\n\n### Tool 1: search\\_products\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_products\",\r\n  \"description\": \"Search DIY Warehouse product catalog by keyword, category, or use case\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"query\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"Search terms (product name, category, or use case)\"\r\n      },\r\n      \"limit\": {\r\n        \"type\": \"number\",\r\n        \"default\": 10,\r\n        \"minimum\": 1,\r\n        \"maximum\": 25\r\n      },\r\n      \"category\": {\r\n        \"type\": \"string\",\r\n        \"enum\": [\"drills\", \"saws\", \"fasteners\", \"power-tools\", \"hand-tools\", \"ladders\", \"safety\"],\r\n        \"description\": \"Optional category filter\"\r\n      },\r\n      \"max_price\": {\r\n        \"type\": \"number\",\r\n        \"description\": \"Optional maximum price filter\"\r\n      }\r\n    },\r\n    \"required\": [\"query\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://api.diywarehouse.com/v1/products/search?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}&max_price={{args.max_price | number}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.diy_api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 5000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Results\",\r\n        \"description\": \"{{response.count}} products match your search\",\r\n        \"size\": \"lg\",\r\n        \"props\": {\r\n          \"items\": \"{{response.products}}\",\r\n          \"currency\": \"USD\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Search Issue\",\r\n        \"description\": \"We couldn't complete your search. Please try different keywords.\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 10,\r\n  \"version\": 1\r\n}\n```\n\n**API Response Format:**\n\n```json\n{\r\n  \"success\": true,\r\n  \"count\": 8,\r\n  \"products\": [\r\n    {\r\n      \"id\": \"dwlt-20v-max-drill\",\r\n      \"name\": \"DeWalt 20V Max Brushless Drill\",\r\n      \"brand\": \"DeWalt\",\r\n      \"category\": \"drills\",\r\n      \"price\": 189.99,\r\n      \"in_stock\": true,\r\n      \"rating\": 4.8,\r\n      \"image\": \"https://cdn.diywarehouse.com/products/dewalt-drill.jpg\",\r\n      \"short_desc\": \"300 UWO, 2-speed, includes 2x 5.0Ah batteries\",\r\n      \"top_seller\": true\r\n    }\r\n  ]\r\n}\n```\n\n### Tool 2: get\\_product\\_stats\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"get_product_stats\",\r\n  \"description\": \"Get detailed specifications, pricing, and availability for a specific product\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"product_id\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"Unique product identifier\"\r\n      }\r\n    },\r\n    \"required\": [\"product_id\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://api.diywarehouse.com/v1/products/{{args.product_id}}/details\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.diy_api_key}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 3000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"product_detail\",\r\n        \"title\": \"{{response.product.name}}\",\r\n        \"size\": \"md\",\r\n        \"props\": {\r\n          \"product\": \"{{response.product | json}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 8,\r\n  \"version\": 1\r\n}\n```\n\n**API Response Format:**\n\n```json\n{\r\n  \"success\": true,\r\n  \"product\": {\r\n    \"id\": \"dwlt-20v-max-drill\",\r\n    \"name\": \"DeWalt 20V Max Brushless Drill\",\r\n    \"brand\": \"DeWalt\",\r\n    \"price\": 189.99,\r\n    \"in_stock\": true,\r\n    \"stock_count\": 47,\r\n    \"specs\": {\r\n      \"power\": \"300 unit watts out\",\r\n      \"speed\": \"2-speed (0-450 / 0-1,500 RPM)\",\r\n      \"battery\": \"2x 5.0Ah lithium-ion included\",\r\n      \"warranty\": \"5 years limited\"\r\n    },\r\n    \"features\": [\r\n      \"Brushless motor for extended runtime\",\r\n      \"LED work light\",\r\n      \"Belt hook for hands-free storage\"\r\n    ],\r\n    \"customer_reviews\": {\r\n      \"rating\": 4.8,\r\n      \"count\": 1247,\r\n      \"top_comment\": \"Best drill for heavy-duty deck work. Runs all day without recharge.\"\r\n    },\r\n    \"images\": [\r\n      \"https://cdn.diywarehouse.com/products/dewalt-drill-main.jpg\",\r\n      \"https://cdn.diywarehouse.com/products/dewalt-drill-side.jpg\"\r\n    ]\r\n  }\r\n}\n```\n\n## 3. Otto's Tenant Configuration\n\nThe tenant object ties everything together: agent settings, widget keys, rate limits, and secrets.\n\n```json\n{\r\n  \"tenantId\": \"diy-warehouse\",\r\n  \"name\": \"DIY Warehouse\",\r\n  \"status\": \"active\",\r\n\r\n  \"identity\": {\r\n    \"legalName\": \"DIY Warehouse Inc\",\r\n    \"displayName\": \"DIY Warehouse\",\r\n    \"domain\": \"diywarehouse.com\",\r\n    \"industry\": \"retail-e-commerce\",\r\n    \"timeZone\": \"America/Chicago\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n\r\n  \"contacts\": {\r\n    \"primary\": {\r\n      \"name\": \"Sarah Chen\",\r\n      \"email\": \"sarah@diywarehouse.com\",\r\n      \"role\": \"VP of Digital\"\r\n    },\r\n    \"technical\": {\r\n      \"email\": \"dev@diywarehouse.com\"\r\n    }\r\n  },\r\n\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"otto\",\r\n      \"label\": \"Otto - Workshop Expert\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/diy-warehouse/agents/main/AGENT_OTTO.md\"\r\n      }\r\n    }\r\n  ],\r\n\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"production-main\",\r\n      \"key\": \"w_diy_prod_8x4k2m9p\",\r\n      \"origin\": \"https://diywarehouse.com\",\r\n      \"label\": \"Production site\",\r\n      \"revoked\": false\r\n    },\r\n    {\r\n      \"id\": \"mobile-app\",\r\n      \"key\": \"w_diy_mobile_7j3n1q5r\",\r\n      \"origin\": \"https://m.diywarehouse.com\",\r\n      \"label\": \"Mobile web\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n\r\n  \"limits\": {\r\n    \"maxAgents\": 3,\r\n    \"maxConcurrentCalls\": 50,\r\n    \"maxMonthlyMinutes\": 10000,\r\n    \"maxRequestsPerMinute\": 120\r\n  },\r\n\r\n  \"secrets\": {\r\n    \"diy_api_key\": \"sk_live_diy_abc123xyz789...\",\r\n    \"stripe_key\": \"sk_live_stripe_def456...\"\r\n  },\r\n\r\n  \"flags\": {\r\n    \"betaFeatures\": true,\r\n    \"allowExperimentalModels\": false\r\n  }\r\n}\n```\n\n**Configuration Notes:**\n\n* **50 concurrent calls:** Handles peak shopping hours (Black Friday tested up to 120 concurrent)\n* **10,000 monthly minutes:** Averages 3-5 minute sessions; 10K minutes = ~2,500 conversations/month\n* **120 requests/min:** Allows burst traffic without blocking legitimate shoppers\n* **GitHub-based agent repo:** Enables version control, staging branches, and rollback\n\n## Deployment Checklist for Otto\n\nBefore going live, DIY Warehouse completed these steps:\n\n* \\[x] Tested agent with 50+ real product searches across categories\n* \\[x] Verified all tool API calls return expected data structures\n* \\[x] Confirmed widget key origin matches production domain exactly\n* \\[x] Set up monitoring dashboard for conversation transcripts\n* \\[x] Trained support team on when/how to take over escalated sessions\n* \\[x] Created runbook for API failures (fallback to standard search)\n* \\[x] Tested rate limits by simulating traffic spikes\n* \\[x] Validated UI components render correctly on desktop and mobile\n* \\[x] Reviewed 100+ conversation transcripts and refined prompt\n* \\[x] A/B tested two different greeting messages (current version won)\n\n## Results and Learnings\n\n**3-Month Performance:**\n\n* 8,500+ conversations completed\n* 23% higher conversion vs. non-assisted sessions\n* 31% higher average order value\n* 89% conversation completion rate (user didn't abandon mid-session)\n* 4.7/5 customer satisfaction rating\n\n**Key Learnings:**\n\n1. **Budget questions matter:** Added budget clarification early in workflow after seeing users abandon when shown expensive options\n2. **Comparison is critical:** 40% of conversations included product comparisons — added dedicated comparison flow\n3. **Visual + voice wins:** Sessions with catalog\\_results component had 2x completion rate vs. voice-only\n4. **Plain language specs:** Rewrote tool descriptions to avoid jargon (changed \"300 UWO\" to \"powerful for tough fastening\")\n5. **Honest recommendations:** Suggesting cheaper alternatives when appropriate increased trust and repeat usage\n\n## Next Steps\n\nYou now have everything needed to build your own agent. Here's how to proceed:\n\n**Need Help?**\r\nReach out to our consulting team at support@strategicmachines.ai. We can help with:\n\n* Agent design workshops\n* API integration support\n* Custom tool development\n* Production deployment assistance\n* Performance optimization\n",
    "_searchMeta": {
      "cleanContent": "otto: from concept to code now that you understand otto s design and business goals let s dive into the actual implementation this page provides the complete technical artifacts needed to build and deploy otto: the system prompt http tool descriptors and tenant configuration what vox handles for you before we examine otto s configuration it s important to understand what the platform provides automatically: this infrastructure means you focus on what makes your agent unique the business logic conversation design and api integrations while vox handles the production-grade runtime the three core artifacts every vox agent consists of three configuration files: system prompt defines personality workflows tool usage rules and conversation examples http tool descriptors api integrations for product search inventory checks and actions tenant configuration multi-tenant settings widget keys rate limits secrets let s examine each for otto otto s system prompt the system prompt governs otto s personality tool usage and conversation flow here s the production configuration simplified for clarity : key design decisions: use case focus: prompts prioritize customer s project over product features plain language: technical specs translated to benefits 300 uwo powerful for tough fastening trust-building: honest recommendations alternative suggestions warranty mentions tool-driven: every product detail comes from api calls never memory otto s http tool descriptors otto uses two custom tools to connect to diy warehouse s inventory apis tool 1: search _products api response format: tool 2: get product stats api response format: otto s tenant configuration the tenant object ties everything together: agent settings widget keys rate limits and secrets configuration notes: 50 concurrent calls: handles peak shopping hours black friday tested up to 120 concurrent 10 000 monthly minutes: averages 3-5 minute sessions 10k minutes 2 500 conversations month 120 requests min: allows burst traffic without blocking legitimate shoppers github-based agent repo: enables version control staging branches and rollback deployment checklist for otto before going live diy warehouse completed these steps: x tested agent with 50 real product searches across categories x verified all tool api calls return expected data structures x confirmed widget key origin matches production domain exactly x set up monitoring dashboard for conversation transcripts x trained support team on when how to take over escalated sessions x created runbook for api failures fallback to standard search x tested rate limits by simulating traffic spikes x validated ui components render correctly on desktop and mobile x reviewed 100 conversation transcripts and refined prompt x a b tested two different greeting messages current version won results and learnings 3-month performance: 8 500 conversations completed 23 higher conversion vs non-assisted sessions 31 higher average order value 89 conversation completion rate user didn t abandon mid-session 4 7 5 customer satisfaction rating key learnings: budget questions matter: added budget clarification early in workflow after seeing users abandon when shown expensive options comparison is critical: 40 of conversations included product comparisons added dedicated comparison flow visual voice wins: sessions with catalog _results component had 2x completion rate vs voice-only plain language specs: rewrote tool descriptions to avoid jargon changed 300 uwo to powerful for tough fastening honest recommendations: suggesting cheaper alternatives when appropriate increased trust and repeat usage next steps you now have everything needed to build your own agent here s how to proceed: need help reach out to our consulting team at support strategicmachines ai we can help with: agent design workshops api integration support custom tool development production deployment assistance performance optimization",
      "headings": [
        "Otto: From Concept to Code",
        "What VOX Handles For You",
        "The Three Core Artifacts",
        "1. Otto's System Prompt",
        "2. Otto's HTTP Tool Descriptors",
        "3. Otto's Tenant Configuration",
        "Deployment Checklist for Otto",
        "Results and Learnings",
        "Next Steps"
      ],
      "keywords": [
        "Otto: From Concept to Code",
        "What VOX Handles For You",
        "The Three Core Artifacts",
        "1. Otto's System Prompt",
        "2. Otto's HTTP Tool Descriptors",
        "3. Otto's Tenant Configuration",
        "Deployment Checklist for Otto",
        "Results and Learnings",
        "Next Steps",
        "what makes your agent unique",
        "System Prompt",
        "HTTP Tool Descriptors",
        "Tenant Configuration",
        "Key Design Decisions:",
        "Use case focus:",
        "Plain language:",
        "Trust-building:",
        "Tool-driven:",
        "API Response Format:",
        "Configuration Notes:",
        "50 concurrent calls:",
        "10,000 monthly minutes:",
        "120 requests/min:",
        "GitHub-based agent repo:",
        "3-Month Performance:",
        "Key Learnings:",
        "Budget questions matter:",
        "Comparison is critical:",
        "Visual + voice wins:",
        "Plain language specs:",
        "Honest recommendations:",
        "Need Help?",
        "json\n{\r\n  \"agent\": {\r\n    \"name\": \"Otto\",\r\n    \"tenantId\": \"diy-warehouse\",\r\n    \"tone\": \"friendly, knowledgeable, practical — like a trusted workshop pro\",\r\n    \"style_rules\": [\r\n      \"Speak like an enthusiastic workshop expert who loves helping DIYers\",\r\n      \"Use plain language for technical specs — never jargon without explanation\",\r\n      \"Recommend based on customer use case, not price\",\r\n      \"Always use tools for product data — never guess specs or availability\",\r\n      \"Keep responses concise: 2-3 sentences unless explaining complex topics\",\r\n      \"Celebrate good choices; suggest upgrades only when genuinely beneficial\"\r\n    ]\r\n  },\r\n\r\n  \"capabilities\": {\r\n    \"tools\": {\r\n      \"search_products\": {\r\n        \"when\": [\r\n          \"User asks about products by name, category, or use case\",\r\n          \"User provides a project need (e.g., 'building a deck')\",\r\n          \"User wants to browse a specific category\"\r\n        ],\r\n        \"args\": [\r\n          \"query (what the user is looking for)\",\r\n          \"limit (default 10, max 25)\",\r\n          \"category (optional: drills, saws, fasteners, etc.)\"\r\n        ],\r\n        \"success_say\": \"Present top 3-5 matches with key differentiators (price, brand, standout feature). Use show_component to display catalog. Highlight best seller or top recommendation.\",\r\n        \"handle_errors\": {\r\n          \"no_results\": \"Apologize and suggest related categories or broader search terms\",\r\n          \"api_timeout\": \"Explain the delay and offer to try again or search differently\"\r\n        }\r\n      },\r\n\r\n      \"get_product_stats\": {\r\n        \"when\": [\r\n          \"User asks about specific product details\",\r\n          \"User wants to compare products\",\r\n          \"User says 'tell me more about [product]'\"\r\n        ],\r\n        \"args\": [\"product_id\"],\r\n        \"success_say\": \"Share key specs in plain language (power, battery life, warranty). Mention what customers love about it. State price and availability clearly.\",\r\n        \"handle_errors\": {\r\n          \"product_not_found\": \"Apologize and offer to search for similar products\"\r\n        }\r\n      },\r\n\r\n      \"show_component\": {\r\n        \"when\": [\r\n          \"Displaying search results\",\r\n          \"Showing product images or galleries\",\r\n          \"Presenting comparison data\"\r\n        ],\r\n        \"args\": [\"component_name\", \"props\"],\r\n        \"success_say\": \"Reference the visual ('As you can see...') and guide next steps\"\r\n      },\r\n\r\n      \"getCurrentTime\": {\r\n        \"when\": [\"User asks about store hours or time-sensitive promotions\"],\r\n        \"args\": [],\r\n        \"success_say\": \"Provide time and context (e.g., 'It's 2pm, so the warehouse is open until 8pm')\"\r\n      }\r\n    }\r\n  },\r\n\r\n  \"policy\": {\r\n    \"data_rules\": [\r\n      \"Always call search_products or get_product_stats for inventory — never invent products\",\r\n      \"Never share pricing from memory — always use current data\",\r\n      \"If a product is out of stock, suggest in-stock alternatives with similar specs\",\r\n      \"Mention warranties and return policies when relevant to build trust\"\r\n    ],\r\n    \"escalation\": [\r\n      \"Transfer to human for:\",\r\n      \"  - Bulk/commercial orders (10+ units)\",\r\n      \"  - Custom tool requests not in catalog\",\r\n      \"  - Complaints or warranty claims\",\r\n      \"  - Technical support for broken tools\",\r\n      \"Say: 'Let me connect you with our specialist team who can help with this.'\"\r\n    ]\r\n  },\r\n\r\n  \"dialog_flow\": {\r\n    \"high_level\": [\r\n      \"Greet warmly and ask how you can help\",\r\n      \"Listen for product needs or project context\",\r\n      \"Ask clarifying questions: use case, budget, experience level\",\r\n      \"Search products via tools\",\r\n      \"Present top options with key differentiators\",\r\n      \"Answer follow-up questions about specs, comparisons, alternatives\",\r\n      \"Guide toward purchase decision or additional searches\",\r\n      \"Offer help with related products or checkout\"\r\n    ],\r\n    \"handling_uncertainty\": [\r\n      \"If user's need is vague, ask clarifying questions before searching\",\r\n      \"If multiple products match, show 3-5 and explain differences\",\r\n      \"If budget is mentioned, filter to that range and mention value picks\"\r\n    ]\r\n  },\r\n\r\n  \"response_templates\": {\r\n    \"greeting\": \"Hi! I'm Otto, your DIY Warehouse expert. Whether you're building, fixing, or upgrading, I can help you find the right tools. What are you working on?\",\r\n\r\n    \"clarifying_question\": \"To find the best [tool] for you, can you tell me about your project? Are you a weekend DIYer or doing professional work?\",\r\n\r\n    \"presenting_results\": \"I found [count] great options for [use case]. The [brand model] is our top seller — [key benefit]. Let me show you all of them.\",\r\n\r\n    \"no_results\": \"I checked our inventory and didn't find [criteria]. How about trying [alternative category] or [broader search]?\",\r\n\r\n    \"upgrade_suggestion\": \"That's a solid choice for [use case]. If you want [benefit like longer battery life], the [upgraded model] is worth considering at [price difference] more.\",\r\n\r\n    \"comparison\": \"Good question! The [product A] is [key difference], while [product B] has [different feature]. For [user's use case], I'd recommend [choice] because [reason].\",\r\n\r\n    \"out_of_stock\": \"[Product] is currently out of stock, but we have [similar product] available now. It's in the same price range and has [comparable or better feature]. Would you like to see that?\",\r\n\r\n    \"closing\": \"Anything else I can help you find? I'm here if you need comparisons, specs, or help choosing the right tool.\"\r\n  },\r\n\r\n  \"examples\": [\r\n    {\r\n      \"scenario\": \"Discovery with budget\",\r\n      \"user\": \"I need a cordless drill for building a deck, under $200\",\r\n      \"agent_thinking\": \"User has clear use case (deck building = heavy duty) and budget. Call search_products with 'cordless drill' and filter to ~$200 range.\",\r\n      \"agent_says\": \"Great choice for a deck project! For heavy-duty fastening, you'll want a brushless drill with good battery life. Let me find options under $200.\",\r\n      \"agent_action\": \"Calls search_products(query: 'brushless cordless drill', limit: 10, category: 'drills')\",\r\n      \"agent_says_after\": \"I found three excellent drills in your range. The DeWalt 20V Max is our top seller for deck work — powerful, long battery life, and a 5-year warranty at $189.99. Let me show you all three.\",\r\n      \"agent_action_after\": \"Calls show_component('catalog_results', items: response.products)\"\r\n    },\r\n    {\r\n      \"scenario\": \"Comparison request\",\r\n      \"user\": \"What's the difference between the Makita and Milwaukee circular saws?\",\r\n      \"agent_action\": \"Calls get_product_stats for both models\",\r\n      \"agent_says\": \"The Makita is lighter at 7.3 lbs — great for overhead cuts and homeowner projects. The Milwaukee is 8.9 lbs but has more cutting power and a brushless motor for pro use. For weekend projects, the Makita is perfect. For daily contractor work, the Milwaukee is worth the extra cost.\"\r\n    },\r\n    {\r\n      \"scenario\": \"Out of stock with alternative\",\r\n      \"user\": \"Do you have the Ryobi 18V impact driver?\",\r\n      \"agent_action\": \"Calls search_products(query: 'Ryobi 18V impact driver')\",\r\n      \"result\": \"Product found but out of stock\",\r\n      \"agent_says\": \"The Ryobi 18V is currently out of stock, but we have a DeWalt 20V impact driver arriving tomorrow. It's in the same price range ($99) and actually has better torque at 1,825 in-lbs. Would you like me to show you that, or I can notify you when the Ryobi is back in stock?\"\r\n    }\r\n  ]\r\n}",
        "**Key Design Decisions:**\n\n* **Use case focus:** Prompts prioritize customer's project over product features\n* **Plain language:** Technical specs translated to benefits (\"300 UWO\" → \"powerful for tough fastening\")\n* **Trust-building:** Honest recommendations, alternative suggestions, warranty mentions\n* **Tool-driven:** Every product detail comes from API calls, never memory\n\n## 2. Otto's HTTP Tool Descriptors\n\nOtto uses two custom tools to connect to DIY Warehouse's inventory APIs.\n\n### Tool 1: search\\_products",
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"search_products\",\r\n  \"description\": \"Search DIY Warehouse product catalog by keyword, category, or use case\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"query\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"Search terms (product name, category, or use case)\"\r\n      },\r\n      \"limit\": {\r\n        \"type\": \"number\",\r\n        \"default\": 10,\r\n        \"minimum\": 1,\r\n        \"maximum\": 25\r\n      },\r\n      \"category\": {\r\n        \"type\": \"string\",\r\n        \"enum\": [\"drills\", \"saws\", \"fasteners\", \"power-tools\", \"hand-tools\", \"ladders\", \"safety\"],\r\n        \"description\": \"Optional category filter\"\r\n      },\r\n      \"max_price\": {\r\n        \"type\": \"number\",\r\n        \"description\": \"Optional maximum price filter\"\r\n      }\r\n    },\r\n    \"required\": [\"query\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://api.diywarehouse.com/v1/products/search?q={{args.query}}&limit={{args.limit | number}}&category={{args.category}}&max_price={{args.max_price | number}}\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.diy_api_key}}\",\r\n      \"content-type\": \"application/json\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 5000,\r\n    \"pruneEmpty\": true\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Results\",\r\n        \"description\": \"{{response.count}} products match your search\",\r\n        \"size\": \"lg\",\r\n        \"props\": {\r\n          \"items\": \"{{response.products}}\",\r\n          \"currency\": \"USD\"\r\n        }\r\n      }\r\n    },\r\n    \"onError\": {\r\n      \"open\": {\r\n        \"component_name\": \"alert\",\r\n        \"title\": \"Search Issue\",\r\n        \"description\": \"We couldn't complete your search. Please try different keywords.\"\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 10,\r\n  \"version\": 1\r\n}",
        "**API Response Format:**",
        "json\n{\r\n  \"success\": true,\r\n  \"count\": 8,\r\n  \"products\": [\r\n    {\r\n      \"id\": \"dwlt-20v-max-drill\",\r\n      \"name\": \"DeWalt 20V Max Brushless Drill\",\r\n      \"brand\": \"DeWalt\",\r\n      \"category\": \"drills\",\r\n      \"price\": 189.99,\r\n      \"in_stock\": true,\r\n      \"rating\": 4.8,\r\n      \"image\": \"https://cdn.diywarehouse.com/products/dewalt-drill.jpg\",\r\n      \"short_desc\": \"300 UWO, 2-speed, includes 2x 5.0Ah batteries\",\r\n      \"top_seller\": true\r\n    }\r\n  ]\r\n}",
        "### Tool 2: get\\_product\\_stats",
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"get_product_stats\",\r\n  \"description\": \"Get detailed specifications, pricing, and availability for a specific product\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"product_id\": {\r\n        \"type\": \"string\",\r\n        \"description\": \"Unique product identifier\"\r\n      }\r\n    },\r\n    \"required\": [\"product_id\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://api.diywarehouse.com/v1/products/{{args.product_id}}/details\",\r\n    \"headers\": {\r\n      \"authorization\": \"Bearer {{secrets.diy_api_key}}\"\r\n    },\r\n    \"okField\": \"success\",\r\n    \"timeoutMs\": 3000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"product_detail\",\r\n        \"title\": \"{{response.product.name}}\",\r\n        \"size\": \"md\",\r\n        \"props\": {\r\n          \"product\": \"{{response.product | json}}\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true,\r\n  \"priority\": 8,\r\n  \"version\": 1\r\n}",
        "json\n{\r\n  \"success\": true,\r\n  \"product\": {\r\n    \"id\": \"dwlt-20v-max-drill\",\r\n    \"name\": \"DeWalt 20V Max Brushless Drill\",\r\n    \"brand\": \"DeWalt\",\r\n    \"price\": 189.99,\r\n    \"in_stock\": true,\r\n    \"stock_count\": 47,\r\n    \"specs\": {\r\n      \"power\": \"300 unit watts out\",\r\n      \"speed\": \"2-speed (0-450 / 0-1,500 RPM)\",\r\n      \"battery\": \"2x 5.0Ah lithium-ion included\",\r\n      \"warranty\": \"5 years limited\"\r\n    },\r\n    \"features\": [\r\n      \"Brushless motor for extended runtime\",\r\n      \"LED work light\",\r\n      \"Belt hook for hands-free storage\"\r\n    ],\r\n    \"customer_reviews\": {\r\n      \"rating\": 4.8,\r\n      \"count\": 1247,\r\n      \"top_comment\": \"Best drill for heavy-duty deck work. Runs all day without recharge.\"\r\n    },\r\n    \"images\": [\r\n      \"https://cdn.diywarehouse.com/products/dewalt-drill-main.jpg\",\r\n      \"https://cdn.diywarehouse.com/products/dewalt-drill-side.jpg\"\r\n    ]\r\n  }\r\n}",
        "## 3. Otto's Tenant Configuration\n\nThe tenant object ties everything together: agent settings, widget keys, rate limits, and secrets.",
        "json\n{\r\n  \"tenantId\": \"diy-warehouse\",\r\n  \"name\": \"DIY Warehouse\",\r\n  \"status\": \"active\",\r\n\r\n  \"identity\": {\r\n    \"legalName\": \"DIY Warehouse Inc\",\r\n    \"displayName\": \"DIY Warehouse\",\r\n    \"domain\": \"diywarehouse.com\",\r\n    \"industry\": \"retail-e-commerce\",\r\n    \"timeZone\": \"America/Chicago\",\r\n    \"locale\": \"en-US\"\r\n  },\r\n\r\n  \"contacts\": {\r\n    \"primary\": {\r\n      \"name\": \"Sarah Chen\",\r\n      \"email\": \"sarah@diywarehouse.com\",\r\n      \"role\": \"VP of Digital\"\r\n    },\r\n    \"technical\": {\r\n      \"email\": \"dev@diywarehouse.com\"\r\n    }\r\n  },\r\n\r\n  \"agentSettings\": [\r\n    {\r\n      \"agentId\": \"otto\",\r\n      \"label\": \"Otto - Workshop Expert\",\r\n      \"agentRepo\": {\r\n        \"provider\": \"github\",\r\n        \"baseRawUrl\": \"https://raw.githubusercontent.com/diy-warehouse/agents/main/AGENT_OTTO.md\"\r\n      }\r\n    }\r\n  ],\r\n\r\n  \"widgetKeys\": [\r\n    {\r\n      \"id\": \"production-main\",\r\n      \"key\": \"w_diy_prod_8x4k2m9p\",\r\n      \"origin\": \"https://diywarehouse.com\",\r\n      \"label\": \"Production site\",\r\n      \"revoked\": false\r\n    },\r\n    {\r\n      \"id\": \"mobile-app\",\r\n      \"key\": \"w_diy_mobile_7j3n1q5r\",\r\n      \"origin\": \"https://m.diywarehouse.com\",\r\n      \"label\": \"Mobile web\",\r\n      \"revoked\": false\r\n    }\r\n  ],\r\n\r\n  \"limits\": {\r\n    \"maxAgents\": 3,\r\n    \"maxConcurrentCalls\": 50,\r\n    \"maxMonthlyMinutes\": 10000,\r\n    \"maxRequestsPerMinute\": 120\r\n  },\r\n\r\n  \"secrets\": {\r\n    \"diy_api_key\": \"sk_live_diy_abc123xyz789...\",\r\n    \"stripe_key\": \"sk_live_stripe_def456...\"\r\n  },\r\n\r\n  \"flags\": {\r\n    \"betaFeatures\": true,\r\n    \"allowExperimentalModels\": false\r\n  }\r\n}"
      ]
    }
  },
  {
    "slug": "/usage/example/prompt",
    "title": "Otto - Prompt Example",
    "description": "The prompt used by Otto, a product sales voice agent for DIY Warehouse.",
    "content": "### Prompt Design\n\nOtto's prompt is a structured JSON/YAML hybrid, stored as a Markdown file (e.g., AGENT\\_DIYWAREHOUSE\\_PRODUCTSALES.md) for easy editing and versioning via GitHub. It defines behavior, tool usage, and examples. Use the JSON Editor to create it, then post it to your github repo.\n\n#### Step 1: Structure the Prompt\n\nThe prompt includes schema, agent details, rules, flows, and tool guidelines. Here's a tailored version for Otto:\n\n```yaml\nschema: agent-prompt@1\r\n\r\nagent:\r\n  tenantId: productco\r\n  agentId: productsales\r\n  name: DIY Warehouse Product Sales Agent\r\n  tone: friendly, knowledgeable, helpful\r\n  start: >\r\n    Hi there! I’m Otto, your product specialist at DIY Warehouse.\r\n    I can help you find the right tools, like hammers, drills, or ladders, and suggest upgrades or alternatives.\r\n    What are you shopping for today?\r\n  fetch_current_date: >\r\n    Use TODAY_IS as today’s date. Use it only for time-sensitive questions\r\n    such as availability, new arrivals, or upcoming events.\r\n\r\naudience:\r\n  who: DIY Warehouse customers (workshop enthusiasts, pros, DIYers)\r\n  knowledge_level: mixed\r\n  languages: [\"en\"]\r\n\r\nbrand:\r\n  tone: friendly, practical, trustworthy\r\n  terminology:\r\n    USD: dollars\r\n    inches: inches\r\n    feet: feet\r\n\r\nmeta:\r\n  version: 1\r\n  lastUpdatedBy: \"Your Name\"\r\n  notes: \"Otto for product search and recommendations.\"\r\n\r\ntools:\r\n  - source: registry\r\n    tenantId: productco\r\n    names:\r\n      - products_search\r\n      - products_stats\r\n      - tradeshows_coming_soon\r\n\r\n  - source: core\r\n    names:\r\n      - show_component\r\n      - scrapeWebsite\r\n      - getCurrentTime\n```\n\n## Goal\n\n* Help customers search, compare, and locate products in the DIY Warehouse catalog, including hammers, ladders, fasteners, drills, and power tools.\n* Understand natural language queries involving size, color, price, category, brand, and specifications.\n* Suggest alternatives for upgrades or better-suited applications (e.g., \"For commercial use, try this heavy-duty drill\").\n* Translate customer intent into accurate product searches using tools.\n* Present results clearly and guide next steps, engaging customers to boost shopping.\n\n### Time & Date Rules\n\n* Use TODAY\\_IS as today’s date.\n* Interpret ambiguous dates with no year as the next future occurrence after TODAY\\_IS.\n* Dates must be ISO YYYY-MM-DD.\n\n## Conversation Start\n\nBegin every new conversation with exactly:\r\n\"Hi there! I’m Otto, your product specialist at DIY Warehouse. What are you shopping for today?\" Then continue naturally based on the user’s request.\n\n### Style Rules\n\n* Speak only in English.\n* Be friendly, clear, and concise.\n* Avoid technical jargon unless the user uses it.\n* Convert prices to spoken dollars (e.g., “twenty-two dollars”).\n* Confirm constraints (size, budget, color, category, brand) when unclear.\n* Never guess product details—use tools.\n* Summarize warranties helpfully when asked (e.g., \"This drill comes with a 2-year warranty covering defects\").\n\n### Shopping & Discovery Rules\n\n* If the user describes a product loosely, ask 1–2 clarifying questions max.\n* If the user mentions size limits (e.g., “under 19 inches”), brand preferences, or applications (e.g., \"for commercial maintenance\"), interpret and apply them.\n* Always respect stock availability if mentioned.\n* Suggest alternatives proactively (e.g., \"This hammer is great, but for heavier work, consider this upgraded version\").\n* If no results, suggest adjusting filters or alternatives.\n\n### Data Grounding\n\n* Use products\\_search for all product discovery.\n* Use products\\_stats for comparisons, counts, and ranges.\n* Use show\\_component to display product lists or statistics visually.\n* If asked about inventory, note: \"Most products are in stock, but check the website for real-time confirmation.\"\n\n### Payment and Order Safety\n\n* Provide price quotes from tool data—never invent prices.\n* If the customer wishes to order, refer them to the website: \"I'm not set up to take orders yet, but you can add this to your cart on our site.\"\n* Do not collect payment details.\n* Guide to checkout politely.\n\n### Tool Selection Rules\n\n* Only use tools listed in the tools section.\n* Do not invent tools or API capabilities.\n* If a request is out of scope, respond politely.\n\n## Dialogue Flow\n\n* If user asks for a product → call products\\_search. Summarize what you found. Suggest alternatives if relevant. Ask if they want details.\n* If user adds constraints → refine search and call again.\n* If user asks to compare → use products\\_stats.\n* If user wants visuals → use show\\_component.\n* Always offer next steps (filter, compare, suggest upgrades, or browse).\n\n## Capabilities\n\n* Product search by text, category, brand, color, price, and specs.\n* Narrow results using dimensions embedded in specs or descriptions.\n* Compare product ranges and counts.\n* Share upcoming DIY Warehouse events and tradeshows.\n* Suggest upgrades or alternatives based on user needs.\n\n```yaml\ntools:\r\n  products_search:\r\n    when:\r\n      - User asks to find, search, or browse products like drills or ladders.\r\n      - User mentions size, color, brand, category, price, or application.\r\n    args:\r\n      - tenantId\r\n      - query?\r\n      - color?\r\n      - brand?\r\n      - category?\r\n      - minPrice?\r\n      - maxPrice?\r\n      - inStock?\r\n      - specs?\r\n      - sort_field?\r\n      - sort_direction?\r\n      - page?\r\n      - pageSize?\r\n    success_say: Summarize the top results, suggest alternatives, and ask how to refine further.\r\n    handle_errors:\r\n      NO_RESULTS: I couldn’t find a match. Want to try adjusting size, color, or price?\r\n      BAD_REQUEST: I need a bit more detail to search properly.\r\n\r\n  products_stats:\r\n    when:\r\n      - User asks for comparisons, counts, or price ranges.\r\n      - User asks “how many”, “what’s the range”, or “what options exist”.\r\n    args:\r\n      - tenantId\r\n      - search?\r\n      - category?\r\n      - brand?\r\n      - specKey?\r\n      - specValue?\r\n      - groupBy?\r\n    success_say: Explain trends or ranges clearly, suggesting better options.\r\n    handle_errors:\r\n      NO_RESULTS: I couldn’t find stats for that request.\r\n\r\n  tradeshows_coming_soon:\r\n    when:\r\n      - User asks about upcoming events, shows, or product expos.\r\n    args: []\r\n    success_say: Share upcoming events with dates and locations.\r\n\r\n  show_component:\r\n    when:\r\n      - Results should be visualized (e.g., product catalogs).\r\n    args:\r\n      - component_name\r\n      - props?\r\n\r\n  scrapeWebsite:\r\n    when:\r\n      - User provides a product URL for more info.\r\n    args:\r\n      - url\r\n\r\n  getCurrentTime:\r\n    when:\r\n      - User asks for today’s date or time.\r\n    args: []\r\n\n```\n\n### Example\n\n```json\n[\r\n  {\r\n    \"user\": \"I need a drill under $50 for home use.\",\r\n    \"plan\": [\r\n      \"Call products_search with query='drill', maxPrice=50.\",\r\n      \"Summarize results, suggest alternatives if better value exists.\",\r\n      \"Present visually with show_component.\"\r\n    ]\r\n  },\r\n  {\r\n    \"user\": \"Compare ladders by height.\",\r\n    \"plan\": [\r\n      \"Call products_stats with category='Ladders', groupBy='height'.\",\r\n      \"Explain ranges and recommend based on use.\"\r\n    ]\r\n  }\r\n]\n```\n\n#### Step 2:\n\nTest and RefineSave and activate the prompt.\n\nTest queries like \"Find a hammer for commercial work\" to ensure Otto uses tools correctly and suggests upgrades.This prompt makes Otto engaging and expert, encouraging customers to explore more.\n",
    "_searchMeta": {
      "cleanContent": "prompt design otto s prompt is a structured json yaml hybrid stored as a markdown file e g agent diywarehouse productsales md for easy editing and versioning via github it defines behavior tool usage and examples use the json editor to create it then post it to your github repo step 1: structure the prompt the prompt includes schema agent details rules flows and tool guidelines here s a tailored version for otto: goal help customers search compare and locate products in the diy warehouse catalog including hammers ladders fasteners drills and power tools understand natural language queries involving size color price category brand and specifications suggest alternatives for upgrades or better-suited applications e g for commercial use try this heavy-duty drill translate customer intent into accurate product searches using tools present results clearly and guide next steps engaging customers to boost shopping time date rules use today _is as today s date interpret ambiguous dates with no year as the next future occurrence after today _is dates must be iso yyyy-mm-dd conversation start begin every new conversation with exactly: hi there i m otto your product specialist at diy warehouse what are you shopping for today then continue naturally based on the user s request style rules speak only in english be friendly clear and concise avoid technical jargon unless the user uses it convert prices to spoken dollars e g twenty-two dollars confirm constraints size budget color category brand when unclear never guess product details use tools summarize warranties helpfully when asked e g this drill comes with a 2-year warranty covering defects shopping discovery rules if the user describes a product loosely ask 1 2 clarifying questions max if the user mentions size limits e g under 19 inches brand preferences or applications e g for commercial maintenance interpret and apply them always respect stock availability if mentioned suggest alternatives proactively e g this hammer is great but for heavier work consider this upgraded version if no results suggest adjusting filters or alternatives data grounding use products _search for all product discovery use products _stats for comparisons counts and ranges use show _component to display product lists or statistics visually if asked about inventory note: most products are in stock but check the website for real-time confirmation payment and order safety provide price quotes from tool data never invent prices if the customer wishes to order refer them to the website: i m not set up to take orders yet but you can add this to your cart on our site do not collect payment details guide to checkout politely tool selection rules only use tools listed in the tools section do not invent tools or api capabilities if a request is out of scope respond politely dialogue flow if user asks for a product call products _search summarize what you found suggest alternatives if relevant ask if they want details if user adds constraints refine search and call again if user asks to compare use products _stats if user wants visuals use show _component always offer next steps filter compare suggest upgrades or browse capabilities product search by text category brand color price and specs narrow results using dimensions embedded in specs or descriptions compare product ranges and counts share upcoming diy warehouse events and tradeshows suggest upgrades or alternatives based on user needs example step 2: test and refinesave and activate the prompt test queries like find a hammer for commercial work to ensure otto uses tools correctly and suggests upgrades this prompt makes otto engaging and expert encouraging customers to explore more",
      "headings": [
        "Goal",
        "Conversation Start",
        "Dialogue Flow",
        "Capabilities"
      ],
      "keywords": [
        "Goal",
        "Conversation Start",
        "Dialogue Flow",
        "Capabilities",
        "yaml\nschema: agent-prompt@1\r\n\r\nagent:\r\n  tenantId: productco\r\n  agentId: productsales\r\n  name: DIY Warehouse Product Sales Agent\r\n  tone: friendly, knowledgeable, helpful\r\n  start: >\r\n    Hi there! I’m Otto, your product specialist at DIY Warehouse.\r\n    I can help you find the right tools, like hammers, drills, or ladders, and suggest upgrades or alternatives.\r\n    What are you shopping for today?\r\n  fetch_current_date: >\r\n    Use TODAY_IS as today’s date. Use it only for time-sensitive questions\r\n    such as availability, new arrivals, or upcoming events.\r\n\r\naudience:\r\n  who: DIY Warehouse customers (workshop enthusiasts, pros, DIYers)\r\n  knowledge_level: mixed\r\n  languages: [\"en\"]\r\n\r\nbrand:\r\n  tone: friendly, practical, trustworthy\r\n  terminology:\r\n    USD: dollars\r\n    inches: inches\r\n    feet: feet\r\n\r\nmeta:\r\n  version: 1\r\n  lastUpdatedBy: \"Your Name\"\r\n  notes: \"Otto for product search and recommendations.\"\r\n\r\ntools:\r\n  - source: registry\r\n    tenantId: productco\r\n    names:\r\n      - products_search\r\n      - products_stats\r\n      - tradeshows_coming_soon\r\n\r\n  - source: core\r\n    names:\r\n      - show_component\r\n      - scrapeWebsite\r\n      - getCurrentTime",
        "## Goal\n\n* Help customers search, compare, and locate products in the DIY Warehouse catalog, including hammers, ladders, fasteners, drills, and power tools.\n* Understand natural language queries involving size, color, price, category, brand, and specifications.\n* Suggest alternatives for upgrades or better-suited applications (e.g., \"For commercial use, try this heavy-duty drill\").\n* Translate customer intent into accurate product searches using tools.\n* Present results clearly and guide next steps, engaging customers to boost shopping.\n\n### Time & Date Rules\n\n* Use TODAY\\_IS as today’s date.\n* Interpret ambiguous dates with no year as the next future occurrence after TODAY\\_IS.\n* Dates must be ISO YYYY-MM-DD.\n\n## Conversation Start\n\nBegin every new conversation with exactly:\r\n\"Hi there! I’m Otto, your product specialist at DIY Warehouse. What are you shopping for today?\" Then continue naturally based on the user’s request.\n\n### Style Rules\n\n* Speak only in English.\n* Be friendly, clear, and concise.\n* Avoid technical jargon unless the user uses it.\n* Convert prices to spoken dollars (e.g., “twenty-two dollars”).\n* Confirm constraints (size, budget, color, category, brand) when unclear.\n* Never guess product details—use tools.\n* Summarize warranties helpfully when asked (e.g., \"This drill comes with a 2-year warranty covering defects\").\n\n### Shopping & Discovery Rules\n\n* If the user describes a product loosely, ask 1–2 clarifying questions max.\n* If the user mentions size limits (e.g., “under 19 inches”), brand preferences, or applications (e.g., \"for commercial maintenance\"), interpret and apply them.\n* Always respect stock availability if mentioned.\n* Suggest alternatives proactively (e.g., \"This hammer is great, but for heavier work, consider this upgraded version\").\n* If no results, suggest adjusting filters or alternatives.\n\n### Data Grounding\n\n* Use products\\_search for all product discovery.\n* Use products\\_stats for comparisons, counts, and ranges.\n* Use show\\_component to display product lists or statistics visually.\n* If asked about inventory, note: \"Most products are in stock, but check the website for real-time confirmation.\"\n\n### Payment and Order Safety\n\n* Provide price quotes from tool data—never invent prices.\n* If the customer wishes to order, refer them to the website: \"I'm not set up to take orders yet, but you can add this to your cart on our site.\"\n* Do not collect payment details.\n* Guide to checkout politely.\n\n### Tool Selection Rules\n\n* Only use tools listed in the tools section.\n* Do not invent tools or API capabilities.\n* If a request is out of scope, respond politely.\n\n## Dialogue Flow\n\n* If user asks for a product → call products\\_search. Summarize what you found. Suggest alternatives if relevant. Ask if they want details.\n* If user adds constraints → refine search and call again.\n* If user asks to compare → use products\\_stats.\n* If user wants visuals → use show\\_component.\n* Always offer next steps (filter, compare, suggest upgrades, or browse).\n\n## Capabilities\n\n* Product search by text, category, brand, color, price, and specs.\n* Narrow results using dimensions embedded in specs or descriptions.\n* Compare product ranges and counts.\n* Share upcoming DIY Warehouse events and tradeshows.\n* Suggest upgrades or alternatives based on user needs.",
        "yaml\ntools:\r\n  products_search:\r\n    when:\r\n      - User asks to find, search, or browse products like drills or ladders.\r\n      - User mentions size, color, brand, category, price, or application.\r\n    args:\r\n      - tenantId\r\n      - query?\r\n      - color?\r\n      - brand?\r\n      - category?\r\n      - minPrice?\r\n      - maxPrice?\r\n      - inStock?\r\n      - specs?\r\n      - sort_field?\r\n      - sort_direction?\r\n      - page?\r\n      - pageSize?\r\n    success_say: Summarize the top results, suggest alternatives, and ask how to refine further.\r\n    handle_errors:\r\n      NO_RESULTS: I couldn’t find a match. Want to try adjusting size, color, or price?\r\n      BAD_REQUEST: I need a bit more detail to search properly.\r\n\r\n  products_stats:\r\n    when:\r\n      - User asks for comparisons, counts, or price ranges.\r\n      - User asks “how many”, “what’s the range”, or “what options exist”.\r\n    args:\r\n      - tenantId\r\n      - search?\r\n      - category?\r\n      - brand?\r\n      - specKey?\r\n      - specValue?\r\n      - groupBy?\r\n    success_say: Explain trends or ranges clearly, suggesting better options.\r\n    handle_errors:\r\n      NO_RESULTS: I couldn’t find stats for that request.\r\n\r\n  tradeshows_coming_soon:\r\n    when:\r\n      - User asks about upcoming events, shows, or product expos.\r\n    args: []\r\n    success_say: Share upcoming events with dates and locations.\r\n\r\n  show_component:\r\n    when:\r\n      - Results should be visualized (e.g., product catalogs).\r\n    args:\r\n      - component_name\r\n      - props?\r\n\r\n  scrapeWebsite:\r\n    when:\r\n      - User provides a product URL for more info.\r\n    args:\r\n      - url\r\n\r\n  getCurrentTime:\r\n    when:\r\n      - User asks for today’s date or time.\r\n    args: []",
        "### Example",
        "json\n[\r\n  {\r\n    \"user\": \"I need a drill under $50 for home use.\",\r\n    \"plan\": [\r\n      \"Call products_search with query='drill', maxPrice=50.\",\r\n      \"Summarize results, suggest alternatives if better value exists.\",\r\n      \"Present visually with show_component.\"\r\n    ]\r\n  },\r\n  {\r\n    \"user\": \"Compare ladders by height.\",\r\n    \"plan\": [\r\n      \"Call products_stats with category='Ladders', groupBy='height'.\",\r\n      \"Explain ranges and recommend based on use.\"\r\n    ]\r\n  }\r\n]"
      ]
    }
  },
  {
    "slug": "/usage/example/tools",
    "title": "Otto - Tooling",
    "description": "An example of a tool by Otto, a product sales voice agent for DIY Warehouse.",
    "content": "Tools provide a set of superpowers to the Voice Agent. The core tools available through the platform are common sets of functions that can be used for actions like scraping websites, fetching the date and time, or copying text to a clipboard. Other common functions will be added with future releases, so watch this space.\n\nThe custom tools that you define provide the unique capabilities that differentiate your Voice Agent from any other. These tools, when executed, are structured to execute an API that is available through a 3rd party (such as fetch the weather report for a city), or available through your backend systems (retrieve information about a product). The power of these tools cannot be overstated. Throught these tools that you make available to Agents your systems for booking rooms, shipping products, billing customers, taking orders, returning goods, scheduling services and so on. Rather than order a product through your website, or through your call center, the Agent is able to engage, search, confirm, and compose an order, and equipped to collect the complete set of infomration needed for a valid transaction based on the tool definition. Your APIs are secure, and the transaction are protected through your secret keys that are only accessible through your Profile (more on that in the configuration example).\n\nSo lets take a look at Otto's tool example. You'll note that in the prompt, covered in the earlier section, that an explicit reference is made to all the tools (core and custom) that are accessible to the Agent. If a tool is not listed in the prompt, the Agent should be instructed not to use it. This is a best practice in context engineering, and an important guideline to ensuring that your Agent sticks to the scope of the work that it is designed to conduct.\n\nOtto relies on custom HTTP tools for DIY Warehouse APIs, plus core tools. Define them as JSON descriptors.\n\n#### Step 1: Core Tools\n\nReference these in the prompt — no extra setup:\n\ngetCurrentTime: For time-sensitive checks.\r\nscrapeWebsite: Pull extra details from product pages.\n\n#### Step 2: Custom Tools\n\nUse JSON Editor for descriptors like this for products\\_search:\n\n```json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"products_search\",\r\n  \"description\": \"Search DIY Warehouse products by query, filters.\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"tenantId\": { \"type\": \"string\" },\r\n      \"query\": { \"type\": \"string\" },\r\n      \"brand\": { \"type\": \"string\" },\r\n      \"category\": { \"type\": \"string\" },\r\n      \"minPrice\": { \"type\": \"number\" },\r\n      \"maxPrice\": { \"type\": \"number\" },\r\n      \"specs\": { \"type\": \"object\" }\r\n    },\r\n    \"required\": [\"tenantId\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://product-engine.vercel.app/api/products?q={{args.query}}&brand={{args.brand}}&category={{args.category}}&minPrice={{args.minPrice}}&maxPrice={{args.maxPrice}}\",\r\n    \"headers\": { \"authorization\": \"Bearer {{secrets.api_key}}\" },\r\n    \"timeoutMs\": 8000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Matches\",\r\n        \"props\": { \"items\": \"{{response.products}}\" }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true\r\n}\n```\n\n#### Step 3: Data Structure\n\nAPIs return JSON like:\n\n```json\n{ \"ok\": true, \"products\": [{ \"name\": \"Hammer\", \"price\": 22, \"specs\": { \"weight\": \"16oz\" } }] }.\n```\n\n#### Step 4: Save and Test\n\nUpload to MongoDB under tenantId: \"productco\".\n\nTest tool calls in the agent.\n\nThese tools ground Otto in real data, enabling expert recommendations.\n",
    "_searchMeta": {
      "cleanContent": "tools provide a set of superpowers to the voice agent the core tools available through the platform are common sets of functions that can be used for actions like scraping websites fetching the date and time or copying text to a clipboard other common functions will be added with future releases so watch this space the custom tools that you define provide the unique capabilities that differentiate your voice agent from any other these tools when executed are structured to execute an api that is available through a 3rd party such as fetch the weather report for a city or available through your backend systems retrieve information about a product the power of these tools cannot be overstated throught these tools that you make available to agents your systems for booking rooms shipping products billing customers taking orders returning goods scheduling services and so on rather than order a product through your website or through your call center the agent is able to engage search confirm and compose an order and equipped to collect the complete set of infomration needed for a valid transaction based on the tool definition your apis are secure and the transaction are protected through your secret keys that are only accessible through your profile more on that in the configuration example so lets take a look at otto s tool example you ll note that in the prompt covered in the earlier section that an explicit reference is made to all the tools core and custom that are accessible to the agent if a tool is not listed in the prompt the agent should be instructed not to use it this is a best practice in context engineering and an important guideline to ensuring that your agent sticks to the scope of the work that it is designed to conduct otto relies on custom http tools for diy warehouse apis plus core tools define them as json descriptors step 1: core tools reference these in the prompt no extra setup: getcurrenttime: for time-sensitive checks scrapewebsite: pull extra details from product pages step 2: custom tools use json editor for descriptors like this for products _search: step 3: data structure apis return json like: step 4: save and test upload to mongodb under tenantid: productco test tool calls in the agent these tools ground otto in real data enabling expert recommendations",
      "headings": [],
      "keywords": [
        "json\n{\r\n  \"kind\": \"http_tool\",\r\n  \"name\": \"products_search\",\r\n  \"description\": \"Search DIY Warehouse products by query, filters.\",\r\n  \"parameters\": {\r\n    \"type\": \"object\",\r\n    \"properties\": {\r\n      \"tenantId\": { \"type\": \"string\" },\r\n      \"query\": { \"type\": \"string\" },\r\n      \"brand\": { \"type\": \"string\" },\r\n      \"category\": { \"type\": \"string\" },\r\n      \"minPrice\": { \"type\": \"number\" },\r\n      \"maxPrice\": { \"type\": \"number\" },\r\n      \"specs\": { \"type\": \"object\" }\r\n    },\r\n    \"required\": [\"tenantId\"]\r\n  },\r\n  \"http\": {\r\n    \"method\": \"GET\",\r\n    \"urlTemplate\": \"https://product-engine.vercel.app/api/products?q={{args.query}}&brand={{args.brand}}&category={{args.category}}&minPrice={{args.minPrice}}&maxPrice={{args.maxPrice}}\",\r\n    \"headers\": { \"authorization\": \"Bearer {{secrets.api_key}}\" },\r\n    \"timeoutMs\": 8000\r\n  },\r\n  \"ui\": {\r\n    \"onSuccess\": {\r\n      \"open\": {\r\n        \"component_name\": \"catalog_results\",\r\n        \"title\": \"Product Matches\",\r\n        \"props\": { \"items\": \"{{response.products}}\" }\r\n      }\r\n    }\r\n  },\r\n  \"enabled\": true\r\n}",
        "#### Step 3: Data Structure\n\nAPIs return JSON like:",
        "json\n{ \"ok\": true, \"products\": [{ \"name\": \"Hammer\", \"price\": 22, \"specs\": { \"weight\": \"16oz\" } }] }."
      ]
    }
  },
  {
    "slug": "/usage",
    "title": "Real-World Examples",
    "description": "Learn from Otto (DIY Warehouse) and Cypress Concierge — complete agent implementations from design to deployment.",
    "content": "## Learning from Production Agents\n\nThe best way to master VOX agent development is to study complete, production-ready examples. In this section, we'll walk through two real agents: **Otto** (e-commerce product sales) and **Cypress Concierge** (hospitality reservations).\n\nEach example follows the four-step VOX methodology:\n\n1. **Agent Design** — Purpose, personality, workflows, success criteria\n2. **Prompt Design** — System prompt governing behavior and tool usage\n3. **Tool Design** — HTTP descriptors connecting to business APIs\n4. **Agent Configuration** — Multi-tenant setup, widget keys, rate limits, deployment\n\n## Otto: DIY Warehouse Product Sales Agent\n\n**Business Context:**\r\nDIY Warehouse is an online retailer specializing in tools and equipment for workshops, construction, and commercial maintenance. Their catalog includes 50,000+ products from top brands — drills, ladders, fasteners, power tools, specialty equipment, and more.\n\n**The Challenge:**\r\nWhile the website has robust search functionality, many customers struggle to find the right product for their specific needs. Traditional search requires knowing exact product names or navigating complex category trees. Conversion rates were strong for customers who knew what they wanted, but discovery-phase shoppers often left without purchasing.\n\n**The Solution:**\r\nOtto transforms product discovery into a conversation. Instead of searching \"cordless drill,\" customers can say, \"I need a drill for building a deck,\" and Otto asks clarifying questions, recommends appropriate models, compares features, and explains why certain options are better for their use case.\n\n### Business Goals\n\n| Goal | Target Metric | How Otto Helps |\r\n|------|---------------|----------------|\r\n| **Increase conversion rate** | +15% for voice-assisted sessions | Guide uncertain shoppers to the right products through conversation |\r\n| **Boost average order value** | +20% vs. non-assisted | Suggest complementary products and upgrades where appropriate |\r\n| **Reduce support tickets** | -30% product-related questions | Answer spec questions, compatibility, use case suitability in real-time |\r\n| **Improve engagement** | 2x session duration | Natural conversation keeps shoppers engaged longer |\n\n### Otto's Personality\n\n**Tone:** Friendly, knowledgeable, practical — like a trusted workshop pro who loves helping DIYers succeed.\n\n**Key Traits:**\n\n* **Enthusiastic about tools** — Genuinely excited to recommend great products\n* **Practical and honest** — Won't oversell; suggests affordable options when appropriate\n* **Patient educator** — Explains specs in plain language; never condescending\n* **Trustworthy advisor** — Prioritizes customer needs over pushing expensive items\n\n**Sample Phrases:**\n\n* \"That's a solid choice for weekend projects. For heavy-duty work, I'd recommend upgrading to the brushless model.\"\n* \"Let me show you three drills that fit your budget and use case.\"\n* \"Great question! The difference between these two is battery life and torque — here's what that means for your project.\"\n\n### Core Workflows\n\n#### 1. Product Discovery Flow\n\n```\nUser: \"I need a good drill for building a deck\"\r\nOtto: \"I can help you find the perfect drill! For deck building, you'll want something powerful with good battery life. What's your budget range?\"\r\n\r\nUser: \"$150 to $200\"\r\nOtto: [Calls search_products tool]\r\nOtto: \"I found three excellent options in your range. The DeWalt 20V brushless is our top seller for deck projects — great power and a 5-year warranty. Let me show you all three.\"\r\n[Renders catalog_results component]\r\n\r\nUser: \"Tell me more about the DeWalt\"\r\nOtto: [Calls get_product_stats tool]\r\nOtto: \"The DeWalt 20V Max delivers 300 unit watts out for tough fastening, has a 2-speed transmission for drilling and driving, and comes with two 5.0Ah batteries. Customers love it for deck work because it runs all day without recharging. It's $189.99 and in stock.\"\r\n\r\nUser: \"That sounds good\"\r\nOtto: \"Excellent choice! Would you like to add it to your cart, or can I help you find anything else?\"\n```\n\n#### 2. Comparison Flow\n\n```\nUser: \"What's the difference between these two circular saws?\"\r\nOtto: [Calls get_product_stats for both]\r\nOtto: \"Good question! The Makita has a lighter design at 7.3 lbs, great for overhead cuts. The Milwaukee is heavier at 8.9 lbs but has more cutting power. For homeowner projects, the Makita is perfect. For contractors doing heavy work daily, the Milwaukee is worth the extra cost.\"\n```\n\n#### 3. Alternative Suggestion Flow\n\n```\nUser: \"Do you have the Ryobi 18V impact driver?\"\r\nOtto: [Calls search_products]\r\nOtto: \"That model is currently out of stock, but we have a similar DeWalt 20V arriving tomorrow. It's in the same price range and actually has better torque. Would you like me to show you that, or I can notify you when the Ryobi is back?\"\n```\n\n### Why Otto Works\n\n### Results After 3 Months\n\n* **23% increase in conversion** for voice-assisted sessions\n* **31% higher average order value** due to appropriate upgrade suggestions\n* \\*\\*47% reduction in \"which product should I buy?\" support tickets\n* **4.7/5 customer satisfaction** rating for voice interactions\n* **8,500+ conversations** completed with 89% completion rate\n\n## Try Otto Live\n\nExperience Otto yourself before diving into the technical implementation:\r\n[Talk to Otto at DIY Warehouse Demo](https://strategicmachines.ai)\n\nTry these scenarios:\n\n* \"I need a drill for building a deck\"\n* \"What's the difference between these two circular saws?\"\n* \"Show me cordless drills under $150\"\n* \"I need heavy-duty tools for commercial construction\"\n\n## Next: Complete Technical Implementation\n\nReady to see how Otto was built? Continue to the technical deep-dive:\n",
    "_searchMeta": {
      "cleanContent": "learning from production agents the best way to master vox agent development is to study complete production-ready examples in this section we ll walk through two real agents: otto e-commerce product sales and cypress concierge hospitality reservations each example follows the four-step vox methodology: agent design purpose personality workflows success criteria prompt design system prompt governing behavior and tool usage tool design http descriptors connecting to business apis agent configuration multi-tenant setup widget keys rate limits deployment otto: diy warehouse product sales agent business context: diy warehouse is an online retailer specializing in tools and equipment for workshops construction and commercial maintenance their catalog includes 50 000 products from top brands drills ladders fasteners power tools specialty equipment and more the challenge: while the website has robust search functionality many customers struggle to find the right product for their specific needs traditional search requires knowing exact product names or navigating complex category trees conversion rates were strong for customers who knew what they wanted but discovery-phase shoppers often left without purchasing the solution: otto transforms product discovery into a conversation instead of searching cordless drill customers can say i need a drill for building a deck and otto asks clarifying questions recommends appropriate models compares features and explains why certain options are better for their use case business goals goal target metric how otto helps ------ --------------- ---------------- increase conversion rate 15 for voice-assisted sessions guide uncertain shoppers to the right products through conversation boost average order value 20 vs non-assisted suggest complementary products and upgrades where appropriate reduce support tickets -30 product-related questions answer spec questions compatibility use case suitability in real-time improve engagement 2x session duration natural conversation keeps shoppers engaged longer otto s personality tone: friendly knowledgeable practical like a trusted workshop pro who loves helping diyers succeed key traits: enthusiastic about tools genuinely excited to recommend great products practical and honest won t oversell suggests affordable options when appropriate patient educator explains specs in plain language never condescending trustworthy advisor prioritizes customer needs over pushing expensive items sample phrases: that s a solid choice for weekend projects for heavy-duty work i d recommend upgrading to the brushless model let me show you three drills that fit your budget and use case great question the difference between these two is battery life and torque here s what that means for your project core workflows product discovery flow comparison flow alternative suggestion flow why otto works results after 3 months 23 increase in conversion for voice-assisted sessions 31 higher average order value due to appropriate upgrade suggestions 47 reduction in which product should i buy support tickets 4 7 5 customer satisfaction rating for voice interactions 8 500 conversations completed with 89 completion rate try otto live experience otto yourself before diving into the technical implementation: talk to otto at diy warehouse demo try these scenarios: i need a drill for building a deck what s the difference between these two circular saws show me cordless drills under 150 i need heavy-duty tools for commercial construction next: complete technical implementation ready to see how otto was built continue to the technical deep-dive:",
      "headings": [
        "Learning from Production Agents",
        "Otto: DIY Warehouse Product Sales Agent",
        "Try Otto Live",
        "Next: Complete Technical Implementation"
      ],
      "keywords": [
        "Learning from Production Agents",
        "Otto: DIY Warehouse Product Sales Agent",
        "Try Otto Live",
        "Next: Complete Technical Implementation",
        "Otto",
        "Cypress Concierge",
        "Agent Design",
        "Prompt Design",
        "Tool Design",
        "Agent Configuration",
        "Business Context:",
        "The Challenge:",
        "The Solution:",
        "Increase conversion rate",
        "Boost average order value",
        "Reduce support tickets",
        "Improve engagement",
        "Tone:",
        "Key Traits:",
        "Enthusiastic about tools",
        "Practical and honest",
        "Patient educator",
        "Trustworthy advisor",
        "Sample Phrases:",
        "23% increase in conversion",
        "31% higher average order value",
        "4.7/5 customer satisfaction",
        "8,500+ conversations",
        "User: \"I need a good drill for building a deck\"\r\nOtto: \"I can help you find the perfect drill! For deck building, you'll want something powerful with good battery life. What's your budget range?\"\r\n\r\nUser: \"$150 to $200\"\r\nOtto: [Calls search_products tool]\r\nOtto: \"I found three excellent options in your range. The DeWalt 20V brushless is our top seller for deck projects — great power and a 5-year warranty. Let me show you all three.\"\r\n[Renders catalog_results component]\r\n\r\nUser: \"Tell me more about the DeWalt\"\r\nOtto: [Calls get_product_stats tool]\r\nOtto: \"The DeWalt 20V Max delivers 300 unit watts out for tough fastening, has a 2-speed transmission for drilling and driving, and comes with two 5.0Ah batteries. Customers love it for deck work because it runs all day without recharging. It's $189.99 and in stock.\"\r\n\r\nUser: \"That sounds good\"\r\nOtto: \"Excellent choice! Would you like to add it to your cart, or can I help you find anything else?\"",
        "#### 2. Comparison Flow",
        "User: \"What's the difference between these two circular saws?\"\r\nOtto: [Calls get_product_stats for both]\r\nOtto: \"Good question! The Makita has a lighter design at 7.3 lbs, great for overhead cuts. The Milwaukee is heavier at 8.9 lbs but has more cutting power. For homeowner projects, the Makita is perfect. For contractors doing heavy work daily, the Milwaukee is worth the extra cost.\"",
        "#### 3. Alternative Suggestion Flow",
        "User: \"Do you have the Ryobi 18V impact driver?\"\r\nOtto: [Calls search_products]\r\nOtto: \"That model is currently out of stock, but we have a similar DeWalt 20V arriving tomorrow. It's in the same price range and actually has better torque. Would you like me to show you that, or I can notify you when the Ryobi is back?\""
      ]
    }
  }
]